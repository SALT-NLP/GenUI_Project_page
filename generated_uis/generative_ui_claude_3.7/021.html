<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accounting IT Infrastructure Modernization Platform</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0">
    <style>
        :root {
            --primary: #2563eb;
            --primary-light: #3b82f6;
            --primary-dark: #1d4ed8;
            --primary-hover: #1e40af;
            --primary-transparent: rgba(37, 99, 235, 0.1);
            --secondary: #475569;
            --secondary-light: #64748b;
            --secondary-dark: #334155;
            --success: #10b981;
            --success-light: #34d399;
            --success-transparent: rgba(16, 185, 129, 0.1);
            --warning: #f59e0b;
            --warning-light: #fbbf24;
            --warning-transparent: rgba(245, 158, 11, 0.1);
            --danger: #ef4444;
            --danger-light: #f87171;
            --danger-transparent: rgba(239, 68, 68, 0.1);
            --info: #3b82f6;
            --info-light: #60a5fa;
            --info-transparent: rgba(59, 130, 246, 0.1);
            --background: #f8fafc;
            --surface: #ffffff;
            --text-primary: #1e293b;
            --text-secondary: #475569;
            --text-disabled: #94a3b8;
            --border: #e2e8f0;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --radius-sm: 0.25rem;
            --radius: 0.375rem;
            --radius-md: 0.5rem;
            --radius-lg: 0.75rem;
            --spacing-1: 0.25rem;
            --spacing-2: 0.5rem;
            --spacing-3: 0.75rem;
            --spacing-4: 1rem;
            --spacing-6: 1.5rem;
            --spacing-8: 2rem;
            --spacing-12: 3rem;
            --spacing-16: 4rem;
            --transition: all 0.2s ease-in-out;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--background);
            color: var(--text-primary);
            line-height: 1.5;
        }

        .app-container {
            display: grid;
            grid-template-columns: 250px 1fr;
            grid-template-rows: 60px 1fr;
            grid-template-areas:
                "header header"
                "sidebar main";
            height: 100%;
        }

        .header {
            grid-area: header;
            background-color: var(--surface);
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 var(--spacing-6);
            z-index: 10;
        }

        .logo {
            display: flex;
            align-items: center;
            font-weight: 700;
            font-size: 1.25rem;
            color: var(--primary);
        }

        .logo-icon {
            margin-right: var(--spacing-2);
            font-size: 1.5rem;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: var(--spacing-4);
        }

        .notifications {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            transition: var(--transition);
        }

        .notifications:hover {
            background-color: var(--border);
        }

        .notifications .material-symbols-rounded {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .notifications-badge {
            position: absolute;
            top: 4px;
            right: 4px;
            width: 14px;
            height: 14px;
            background-color: var(--danger);
            border-radius: 50%;
            font-size: 10px;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: var(--spacing-3);
            cursor: pointer;
            padding: var(--spacing-2) var(--spacing-3);
            border-radius: var(--radius);
            transition: var(--transition);
        }

        .user-profile:hover {
            background-color: var(--border);
        }

        .user-profile .material-symbols-rounded {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 500;
        }

        .user-info {
            display: flex;
            flex-direction: column;
        }

        .user-name {
            font-weight: 500;
            font-size: 0.875rem;
        }

        .user-role {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .sidebar {
            grid-area: sidebar;
            background-color: var(--surface);
            border-right: 1px solid var(--border);
            padding: var(--spacing-4) 0;
            overflow-y: auto;
        }

        .nav-section {
            margin-bottom: var(--spacing-6);
        }

        .nav-section-title {
            padding: 0 var(--spacing-6);
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            color: var(--text-secondary);
            margin-bottom: var(--spacing-2);
        }

        .nav-item {
            display: flex;
            align-items: center;
            padding: var(--spacing-3) var(--spacing-6);
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            cursor: pointer;
            gap: var(--spacing-3);
        }

        .nav-item:hover {
            background-color: rgba(0, 0, 0, 0.04);
            color: var(--primary);
        }

        .nav-item.active {
            background-color: var(--primary-transparent);
            color: var(--primary);
            border-right: 3px solid var(--primary);
        }

        .nav-icon {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .main-content {
            grid-area: main;
            padding: var(--spacing-6);
            overflow-y: auto;
        }

        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-6);
        }

        .page-title {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .page-actions {
            display: flex;
            gap: var(--spacing-3);
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: var(--spacing-2) var(--spacing-4);
            border-radius: var(--radius);
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            outline: none;
            font-size: 0.875rem;
            gap: var(--spacing-2);
            line-height: 1.5;
        }

        .btn .material-symbols-rounded {
            font-size: 1.25rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn:focus-visible {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--primary-hover);
        }

        .btn-secondary {
            background-color: var(--secondary);
            color: white;
        }

        .btn-secondary:hover {
            background-color: var(--secondary-dark);
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border);
            color: var(--text-secondary);
        }

        .btn-outline:hover {
            background-color: var(--border);
            color: var(--text-primary);
        }

        .btn-success {
            background-color: var(--success);
            color: white;
        }

        .btn-success:hover {
            background-color: var(--success-light);
        }

        .btn-danger {
            background-color: var(--danger);
            color: white;
        }

        .btn-danger:hover {
            background-color: var(--danger-light);
        }

        .card {
            background-color: var(--surface);
            border-radius: var(--radius-md);
            box-shadow: var(--shadow);
            padding: var(--spacing-6);
            margin-bottom: var(--spacing-6);
            transition: var(--transition);
        }

        .card:hover {
            box-shadow: var(--shadow-md);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: var(--spacing-4);
        }

        .chart-controls {
            position: relative;
            display: flex;
            gap: var(--spacing-2);
            align-items: center;
        }

        .chart-controls .btn {
            padding: var(--spacing-1) var(--spacing-1);
            min-width: 36px;
            height: 36px;
        }

        .card-title {
            font-size: 1.25rem;
            font-weight: 700;
        }

        .card-subtitle {
            color: var(--text-secondary);
            margin-top: var(--spacing-1);
        }

        .grid-layout {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: var(--spacing-6);
        }

        .metric-card {
            background-color: var(--surface);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: var(--spacing-4);
            display: flex;
            flex-direction: column;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .metric-card:hover {
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }

        .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background-color: var(--primary);
        }

        .metric-value {
            font-size: 2rem;
            font-weight: 700;
            margin: var(--spacing-2) 0;
        }

        .metric-label {
            color: var(--text-secondary);
            font-size: 0.875rem;
            font-weight: 500;
        }

        .metric-change {
            display: flex;
            align-items: center;
            font-size: 0.875rem;
            margin-top: var(--spacing-2);
            gap: var(--spacing-1);
        }

        .metric-change .material-symbols-rounded {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
        }

        .metric-change.positive {
            color: var(--success);
        }

        .metric-change.negative {
            color: var(--danger);
        }

        .progress-container {
            margin-top: var(--spacing-2);
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: var(--spacing-1);
            font-size: 0.875rem;
        }

        .progress-bar {
            height: 8px;
            background-color: var(--border);
            border-radius: var(--radius-sm);
            overflow: hidden;
        }

        .progress-value {
            height: 100%;
            background-color: var(--primary);
            border-radius: var(--radius-sm);
            transition: width 0.5s ease-in-out;
        }

        .tabs {
            display: flex;
            border-bottom: 1px solid var(--border);
            margin-bottom: var(--spacing-6);
        }

        .tab {
            padding: var(--spacing-3) var(--spacing-4);
            cursor: pointer;
            font-weight: 500;
            color: var(--text-secondary);
            border-bottom: 2px solid transparent;
            transition: var(--transition);
        }

        .tab:hover {
            color: var(--primary);
        }

        .tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }

        .form-group {
            margin-bottom: var(--spacing-4);
        }

        .form-label {
            display: block;
            margin-bottom: var(--spacing-2);
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: var(--spacing-3);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            font-size: 1rem;
            transition: var(--transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.2);
        }

        .form-control.is-invalid {
            border-color: var(--danger);
        }

        .invalid-feedback {
            color: var(--danger);
            font-size: 0.875rem;
            margin-top: var(--spacing-1);
        }

        .form-text {
            color: var(--text-secondary);
            font-size: 0.875rem;
            margin-top: var(--spacing-1);
        }

        .form-select {
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%23475569'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.75rem center;
            background-size: 1rem;
            padding-right: 2.5rem;
        }

        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: var(--spacing-3);
            margin-top: var(--spacing-6);
        }

        .wizard-steps {
            display: flex;
            margin-bottom: var(--spacing-6);
        }

        .wizard-step {
            flex: 1;
            text-align: center;
            position: relative;
        }

        .wizard-step:not(:last-child)::after {
            content: '';
            position: absolute;
            top: 1rem;
            width: 100%;
            height: 2px;
            background-color: var(--border);
            z-index: 1;
        }

        .step-number {
            width: 2rem;
            height: 2rem;
            border-radius: 50%;
            background-color: var(--border);
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto var(--spacing-2);
            position: relative;
            z-index: 2;
            transition: var(--transition);
        }

        .wizard-step.active .step-number,
        .wizard-step.completed .step-number {
            background-color: var(--primary);
            color: white;
        }

        .wizard-step.completed:not(:last-child)::after {
            background-color: var(--primary);
        }

        .step-label {
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--text-secondary);
            transition: var(--transition);
        }

        .wizard-step.active .step-label {
            color: var(--primary);
            font-weight: 700;
        }

        .wizard-content {
            margin-bottom: var(--spacing-6);
        }

        .wizard-actions {
            display: flex;
            justify-content: space-between;
        }

        .table-container {
            overflow-x: auto;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
        }

        .table th,
        .table td {
            padding: var(--spacing-3) var(--spacing-4);
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        .table th {
            font-weight: 500;
            color: var(--text-secondary);
            background-color: var(--background);
            position: sticky;
            top: 0;
            z-index: 1;
        }

        .table tbody tr {
            transition: var(--transition);
        }

        .table tbody tr:hover {
            background-color: rgba(0, 0, 0, 0.02);
        }

        .status-badge {
            display: inline-flex;
            align-items: center;
            padding: var(--spacing-1) var(--spacing-2);
            border-radius: var(--radius-sm);
            font-size: 0.75rem;
            font-weight: 500;
        }

        .status-badge.success {
            background-color: var(--success-transparent);
            color: var(--success);
        }

        .status-badge.warning {
            background-color: var(--warning-transparent);
            color: var(--warning);
        }

        .status-badge.danger {
            background-color: var(--danger-transparent);
            color: var(--danger);
        }

        .status-badge.info {
            background-color: var(--info-transparent);
            color: var(--info);
        }

        .chart-container {
            height: 300px;
            margin-top: var(--spacing-4);
            position: relative;
        }

        .chart-controls {
            position: relative;
            display: flex;
            gap: var(--spacing-2);
            align-items: center;
        }

        .timeline {
            position: relative;
            padding-left: var(--spacing-8);
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 2px;
            background-color: var(--border);
        }

        .timeline-item {
            position: relative;
            margin-bottom: var(--spacing-6);
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: calc(-1 * var(--spacing-8) + 1px);
            top: 6px;
            width: 1rem;
            height: 1rem;
            border-radius: 50%;
            background-color: var(--primary);
            transform: translateX(-50%);
        }

        .timeline-date {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin-bottom: var(--spacing-1);
        }

        .timeline-title {
            font-weight: 500;
            margin-bottom: var(--spacing-2);
        }

        .timeline-content {
            padding: var(--spacing-3);
            background-color: var(--surface);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .timeline-content:hover {
            box-shadow: var(--shadow-md);
        }

        .timeline-content .btn .material-symbols-rounded {
            font-size: 0.875rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .drag-container {
            display: flex;
            gap: var(--spacing-4);
            overflow-x: auto;
            padding-bottom: var(--spacing-4);
        }

        .drag-column {
            min-width: 280px;
            width: 280px;
            background-color: var(--background);
            border-radius: var(--radius);
            padding: var(--spacing-3);
        }

        .column-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-3);
            padding-bottom: var(--spacing-2);
            border-bottom: 1px solid var(--border);
        }

        .column-title {
            font-weight: 500;
        }

        .task-count {
            font-size: 0.75rem;
            color: var(--text-secondary);
            background-color: var(--border);
            padding: 0 var(--spacing-2);
            border-radius: var(--radius-sm);
        }

        .drag-item {
            background-color: var(--surface);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: var(--spacing-3);
            margin-bottom: var(--spacing-3);
            cursor: move;
            transition: var(--transition);
            border-left: 3px solid transparent;
        }

        .drag-item:hover {
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }

        .drag-item.high-priority {
            border-left-color: var(--danger);
        }

        .drag-item.medium-priority {
            border-left-color: var(--warning);
        }

        .drag-item.low-priority {
            border-left-color: var(--info);
        }

        .drag-item.dragging {
            opacity: 0.5;
            transform: scale(0.95);
        }

        .drag-item-title {
            font-weight: 500;
            margin-bottom: var(--spacing-2);
        }

        .drag-item-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin-top: var(--spacing-2);
            align-items: center;
        }

        .drag-item-meta .material-symbols-rounded {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
        }

        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip-text {
            visibility: hidden;
            width: 200px;
            background-color: var(--secondary-dark);
            color: white;
            text-align: center;
            border-radius: var(--radius);
            padding: var(--spacing-2) var(--spacing-3);
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.75rem;
        }

        .tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--secondary-dark) transparent transparent transparent;
        }

        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        .alert {
            padding: var(--spacing-3) var(--spacing-4);
            border-radius: var(--radius);
            margin-bottom: var(--spacing-4);
            display: flex;
            align-items: flex-start;
            gap: var(--spacing-3);
        }

        .alert-icon {
            margin-top: 2px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .alert-content {
            flex: 1;
        }

        .alert-title {
            font-weight: 500;
            margin-bottom: var(--spacing-1);
        }

        .alert-info {
            background-color: var(--info-transparent);
            border-left: 3px solid var(--info);
        }

        .alert-success {
            background-color: var(--success-transparent);
            border-left: 3px solid var(--success);
        }

        .alert-warning {
            background-color: var(--warning-transparent);
            border-left: 3px solid var(--warning);
        }

        .alert-danger {
            background-color: var(--danger-transparent);
            border-left: 3px solid var(--danger);
        }

        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-menu {
            position: absolute;
            top: 100%;
            right: 0;
            z-index: 1000;
            min-width: 200px;
            padding: var(--spacing-2) 0;
            margin-top: var(--spacing-1);
            background-color: var(--surface);
            border-radius: var(--radius);
            box-shadow: var(--shadow-lg);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: var(--transition);
        }

        .dropdown-menu.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-item {
            display: flex;
            align-items: center;
            padding: var(--spacing-2) var(--spacing-4);
            color: var(--text-primary);
            text-decoration: none;
            transition: var(--transition);
            cursor: pointer;
            gap: var(--spacing-3);
        }

        .dropdown-item .material-symbols-rounded {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .dropdown-item:hover {
            background-color: var(--background);
            color: var(--primary);
        }

        .dropdown-divider {
            height: 1px;
            background-color: var(--border);
            margin: var(--spacing-2) 0;
        }

        .checkbox-container {
            display: flex;
            align-items: center;
            margin-bottom: var(--spacing-2);
            cursor: pointer;
        }

        .checkbox-container input[type="checkbox"] {
            position: absolute;
            opacity: 0;
            cursor: pointer;
            height: 0;
            width: 0;
        }

        .checkmark {
            height: 18px;
            width: 18px;
            background-color: var(--surface);
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            margin-right: var(--spacing-2);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .checkbox-container:hover .checkmark {
            border-color: var(--primary);
        }

        .checkbox-container input:checked~.checkmark {
            background-color: var(--primary);
            border-color: var(--primary);
        }

        .checkmark:after {
            content: "";
            display: none;
            width: 5px;
            height: 10px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }

        .checkbox-container input:checked~.checkmark:after {
            display: block;
        }

        .radio-container {
            display: flex;
            align-items: center;
            margin-bottom: var(--spacing-2);
            cursor: pointer;
        }

        .radio-container input[type="radio"] {
            position: absolute;
            opacity: 0;
            cursor: pointer;
            height: 0;
            width: 0;
        }

        .radio-mark {
            height: 18px;
            width: 18px;
            background-color: var(--surface);
            border: 1px solid var(--border);
            border-radius: 50%;
            margin-right: var(--spacing-2);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .radio-container:hover .radio-mark {
            border-color: var(--primary);
        }

        .radio-container input:checked~.radio-mark {
            border-color: var(--primary);
        }

        .radio-mark:after {
            content: "";
            display: none;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: var(--primary);
        }

        .radio-container input:checked~.radio-mark:after {
            display: block;
        }

        /* Modal styles */
        .modal-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .modal-backdrop.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background-color: var(--surface);
            border-radius: var(--radius-md);
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-lg);
            transform: translateY(-20px);
            transition: var(--transition);
        }

        .modal-backdrop.active .modal {
            transform: translateY(0);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-4) var(--spacing-6);
            border-bottom: 1px solid var(--border);
        }

        .modal-title {
            font-size: 1.25rem;
            font-weight: 700;
        }

        .modal-close {
            background: none;
            border: none;
            cursor: pointer;
            color: var(--text-secondary);
            font-size: 1.5rem;
            line-height: 1;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 4px;
        }

        .modal-close:hover {
            color: var(--danger);
        }

        .modal-body {
            padding: var(--spacing-6);
        }

        .modal-footer {
            padding: var(--spacing-4) var(--spacing-6);
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: flex-end;
            gap: var(--spacing-3);
        }

        .tooltip-container {
            position: relative;
            display: inline-block;
        }

        .tooltip-icon {
            color: var(--text-secondary);
            cursor: help;
            font-size: 1rem;
        }

        .tooltip-content {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            padding: var(--spacing-2) var(--spacing-3);
            background-color: var(--text-primary);
            color: white;
            border-radius: var(--radius-sm);
            font-size: 0.75rem;
            white-space: nowrap;
            z-index: 10;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .tooltip-content::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border-width: 5px;
            border-style: solid;
            border-color: var(--text-primary) transparent transparent transparent;
        }

        .tooltip-container:hover .tooltip-content {
            opacity: 1;
            visibility: visible;
        }

        .toast-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: var(--spacing-2);
        }

        .toast {
            background-color: var(--surface);
            border-radius: var(--radius);
            box-shadow: var(--shadow-lg);
            padding: var(--spacing-3) var(--spacing-4);
            display: flex;
            align-items: center;
            gap: var(--spacing-3);
            min-width: 300px;
            max-width: 400px;
            transform: translateX(120%);
            transition: transform 0.3s ease-out;
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast-icon {
            font-size: 1.25rem;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 24px;
        }

        .toast-content {
            flex: 1;
        }

        .toast-title {
            font-weight: 500;
            margin-bottom: var(--spacing-1);
        }

        .toast-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 4px;
        }

        .toast-close:hover {
            color: var(--text-primary);
        }

        .toast-success .toast-icon {
            color: var(--success);
        }

        .toast-warning .toast-icon {
            color: var(--warning);
        }

        .toast-danger .toast-icon {
            color: var(--danger);
        }

        .toast-info .toast-icon {
            color: var(--info);
        }

        @media (max-width: 1024px) {
            .app-container {
                grid-template-columns: 1fr;
                grid-template-areas:
                    "header"
                    "main";
            }

            .sidebar {
                position: fixed;
                left: -250px;
                top: 60px;
                bottom: 0;
                z-index: 100;
                transition: var(--transition);
            }

            .sidebar.open {
                left: 0;
            }

            .menu-toggle {
                display: flex;
            }

            .grid-layout {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .grid-layout {
                grid-template-columns: 1fr;
            }

            .drag-container {
                flex-direction: column;
            }

            .drag-column {
                width: 100%;
            }
        }
    </style>
</head>

<body>
    <div class="app-container">
        <header class="header">
            <div class="logo">
                <span class="material-symbols-rounded logo-icon">cloud_done</span>
                <span>AccuMigrate</span>
            </div>
            <div class="header-actions">
                <div class="notifications" id="notificationsBtn">
                    <span class="material-symbols-rounded">notifications</span>
                    <div class="notifications-badge">3</div>
                </div>
                <div class="dropdown">
                    <div class="user-profile" id="userDropdownBtn">
                        <div class="user-avatar">JD</div>
                        <div class="user-info">
                            <div class="user-name">John Doe</div>
                            <div class="user-role">IT Manager</div>
                        </div>
                        <span class="material-symbols-rounded">expand_more</span>
                    </div>
                    <div class="dropdown-menu" id="userDropdown">
                        <a class="dropdown-item">
                            <span class="material-symbols-rounded nav-icon">person</span>
                            My Profile
                        </a>
                        <a class="dropdown-item">
                            <span class="material-symbols-rounded nav-icon">settings</span>
                            Settings
                        </a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item">
                            <span class="material-symbols-rounded nav-icon">logout</span>
                            Logout
                        </a>
                    </div>
                </div>
            </div>
        </header>

        <aside class="sidebar" id="sidebar">
            <div class="nav-section">
                <div class="nav-section-title">Dashboard</div>
                <a class="nav-item active" data-page="overview">
                    <span class="material-symbols-rounded nav-icon">dashboard</span>
                    Overview
                </a>
                <a class="nav-item" data-page="analytics">
                    <span class="material-symbols-rounded nav-icon">insights</span>
                    Analytics
                </a>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Infrastructure</div>
                <a class="nav-item" data-page="assessment">
                    <span class="material-symbols-rounded nav-icon">assessment</span>
                    Assessment
                </a>
                <a class="nav-item" data-page="migration-planning">
                    <span class="material-symbols-rounded nav-icon">fact_check</span>
                    Migration Planning
                </a>
                <a class="nav-item" data-page="security-config">
                    <span class="material-symbols-rounded nav-icon">security</span>
                    Security Config
                </a>
                <a class="nav-item" data-page="scaling-setup">
                    <span class="material-symbols-rounded nav-icon">scale</span>
                    Scaling Setup
                </a>
                <a class="nav-item" data-page="disaster-recovery">
                    <span class="material-symbols-rounded nav-icon">backup</span>
                    Disaster Recovery
                </a>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Monitoring</div>
                <a class="nav-item" data-page="real-time-status">
                    <span class="material-symbols-rounded nav-icon">monitoring</span>
                    Real-time Status
                </a>
                <a class="nav-item" data-page="alerts">
                    <span class="material-symbols-rounded nav-icon">warning</span>
                    Alerts
                </a>
                <a class="nav-item" data-page="reports">
                    <span class="material-symbols-rounded nav-icon">description</span>
                    Reports
                </a>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Settings</div>
                <a class="nav-item" data-page="user-management">
                    <span class="material-symbols-rounded nav-icon">group</span>
                    User Management
                </a>
                <a class="nav-item" data-page="help-tutorials">
                    <span class="material-symbols-rounded nav-icon">help</span>
                    Help & Tutorials
                </a>
                <a class="nav-item" data-page="system-settings">
                    <span class="material-symbols-rounded nav-icon">settings</span>
                    System Settings
                </a>
            </div>
        </aside>

        <main class="main-content">
            <div class="page-header">
                <h1 class="page-title">Infrastructure Modernization Dashboard</h1>
                <div class="page-actions">
                    <button class="btn btn-outline" id="helpBtn" aria-label="Help">
                        <span class="material-symbols-rounded">help</span>
                        Help
                    </button>
                    <button class="btn btn-primary" id="startAssessmentBtn" aria-label="Start Assessment">
                        <span class="material-symbols-rounded">add</span>
                        Start Assessment
                    </button>
                </div>
            </div>

            <div class="alert alert-info" id="welcomeAlert">
                <span class="material-symbols-rounded alert-icon">info</span>
                <div class="alert-content">
                    <div class="alert-title">Welcome to your IT Modernization Platform</div>
                    <p>This platform will guide you through the process of modernizing your accounting firm's IT
                        infrastructure with security, scalability, and compliance in mind.</p>
                </div>
                <button class="btn btn-outline" style="padding: 4px; min-width: 24px; height: 24px;"
                    onclick="document.getElementById('welcomeAlert').style.display='none'">
                    <span class="material-symbols-rounded" style="font-size: 16px;">close</span>
                </button>
            </div>

            <div class="grid-layout">
                <div class="metric-card">
                    <div class="metric-label">Migration Progress</div>
                    <div class="metric-value">23%</div>
                    <div class="progress-container">
                        <div class="progress-label">
                            <span>6 of 26 tasks completed</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-value" style="width: 23%;"></div>
                        </div>
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-label">Security Compliance</div>
                    <div class="metric-value">68%</div>
                    <div class="progress-container">
                        <div class="progress-label">
                            <span>17 of 25 requirements met</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-value" style="width: 68%;"></div>
                        </div>
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-label">Systems Assessed</div>
                    <div class="metric-value">12/28</div>
                    <div class="progress-container">
                        <div class="progress-label">
                            <span>42.8% complete</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-value" style="width: 42.8%;"></div>
                        </div>
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-label">Critical Issues</div>
                    <div class="metric-value">7</div>
                    <div class="metric-change negative">
                        <span class="material-symbols-rounded">arrow_upward</span>
                        3 from last week
                    </div>
                    <button class="btn btn-outline" style="margin-top: var(--spacing-2); width: 100%;"
                        id="viewIssuesBtn">
                        <span class="material-symbols-rounded">visibility</span>
                        View Issues
                    </button>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <div>
                        <h2 class="card-title">Migration Progress</h2>
                        <div class="card-subtitle">Track your infrastructure modernization journey</div>
                    </div>
                    <div class="chart-controls">
                        <button class="btn btn-outline" id="chartTypeBtn">
                            <span class="material-symbols-rounded">bar_chart</span>
                        </button>
                        <button class="btn btn-outline" id="downloadChartBtn">
                            <span class="material-symbols-rounded">download</span>
                        </button>
                        <button class="btn btn-outline" id="refreshChartBtn">
                            <span class="material-symbols-rounded">refresh</span>
                        </button>
                    </div>
                </div>
                <div class="tabs" id="chartTabs">
                    <div class="tab active" data-tab="migration">Migration Timeline</div>
                    <div class="tab" data-tab="status">System Status</div>
                    <div class="tab" data-tab="resources">Resource Allocation</div>
                </div>
                <div class="chart-container">
                    <canvas id="migrationChart"></canvas>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <div>
                        <h2 class="card-title">Migration Tasks</h2>
                        <div class="card-subtitle">Drag and drop to update status</div>
                    </div>
                    <button class="btn btn-outline" id="addTaskBtn" aria-label="Add Task">
                        <span class="material-symbols-rounded">add</span>
                        Add Task
                    </button>
                </div>
                <div class="drag-container" id="migrationBoard">
                    <div class="drag-column" data-status="todo">
                        <div class="column-header">
                            <h3 class="column-title">To Do</h3>
                            <span class="task-count">4</span>
                        </div>
                        <div class="drag-item high-priority" draggable="true" data-task-id="task-1">
                            <div class="drag-item-title">Inventory legacy applications</div>
                            <p>Document all current applications and dependencies</p>
                            <div class="drag-item-meta">
                                <span>Priority: High</span>
                                <span>2d</span>
                            </div>
                        </div>
                        <div class="drag-item high-priority" draggable="true" data-task-id="task-2">
                            <div class="drag-item-title">Security audit</div>
                            <p>Conduct comprehensive security assessment</p>
                            <div class="drag-item-meta">
                                <span>Priority: High</span>
                                <span>3d</span>
                            </div>
                        </div>
                        <div class="drag-item medium-priority" draggable="true" data-task-id="task-3">
                            <div class="drag-item-title">Cloud provider evaluation</div>
                            <p>Compare AWS, Azure, and GCP options</p>
                            <div class="drag-item-meta">
                                <span>Priority: Medium</span>
                                <span>5d</span>
                            </div>
                        </div>
                        <div class="drag-item medium-priority" draggable="true" data-task-id="task-4">
                            <div class="drag-item-title">Budget approval</div>
                            <p>Finalize migration budget with finance</p>
                            <div class="drag-item-meta">
                                <span>Priority: Medium</span>
                                <span>1d</span>
                            </div>
                        </div>
                    </div>
                    <div class="drag-column" data-status="inprogress">
                        <div class="column-header">
                            <h3 class="column-title">In Progress</h3>
                            <span class="task-count">3</span>
                        </div>
                        <div class="drag-item high-priority" draggable="true" data-task-id="task-5">
                            <div class="drag-item-title">Network infrastructure assessment</div>
                            <p>Evaluate current network capabilities</p>
                            <div class="drag-item-meta">
                                <span>Priority: High</span>
                                <span>40%</span>
                            </div>
                        </div>
                        <div class="drag-item medium-priority" draggable="true" data-task-id="task-6">
                            <div class="drag-item-title">Staff training needs</div>
                            <p>Identify training requirements for IT staff</p>
                            <div class="drag-item-meta">
                                <span>Priority: Medium</span>
                                <span>65%</span>
                            </div>
                        </div>
                        <div class="drag-item high-priority" draggable="true" data-task-id="task-7">
                            <div class="drag-item-title">Data backup strategy</div>
                            <p>Design comprehensive backup solution</p>
                            <div class="drag-item-meta">
                                <span>Priority: High</span>
                                <span>75%</span>
                            </div>
                        </div>
                    </div>
                    <div class="drag-column" data-status="completed">
                        <div class="column-header">
                            <h3 class="column-title">Completed</h3>
                            <span class="task-count">2</span>
                        </div>
                        <div class="drag-item high-priority" draggable="true" data-task-id="task-8">
                            <div class="drag-item-title">Initial stakeholder meeting</div>
                            <p>Present migration plan to leadership</p>
                            <div class="drag-item-meta">
                                <span>Priority: High</span>
                                <span> Done</span>
                            </div>
                        </div>
                        <div class="drag-item high-priority" draggable="true" data-task-id="task-9">
                            <div class="drag-item-title">Requirements gathering</div>
                            <p>Document business and technical requirements</p>
                            <div class="drag-item-meta">
                                <span>Priority: High</span>
                                <span> Done</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <div>
                        <h2 class="card-title">Security Compliance Status</h2>
                        <div class="card-subtitle">Track compliance with industry standards</div>
                    </div>
                    <button class="btn btn-outline" id="exportComplianceBtn" aria-label="Export Compliance Report">
                        <span class="material-symbols-rounded">download</span>
                        Export Report
                    </button>
                </div>
                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Compliance Area</th>
                                <th>Status</th>
                                <th>Last Checked</th>
                                <th>Issues</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Data Encryption</td>
                                <td><span class="status-badge success">Compliant</span></td>
                                <td>2023-10-15</td>
                                <td>0</td>
                                <td>
                                    <button class="btn btn-outline" aria-label="View Data Encryption Details">
                                        <span class="material-symbols-rounded">visibility</span>
                                        View
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Access Controls</td>
                                <td><span class="status-badge warning">Partial</span></td>
                                <td>2023-10-14</td>
                                <td>3</td>
                                <td>
                                    <button class="btn btn-outline" aria-label="View Access Controls Details">
                                        <span class="material-symbols-rounded">visibility</span>
                                        View
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Backup Procedures</td>
                                <td><span class="status-badge danger">Non-compliant</span></td>
                                <td>2023-10-13</td>
                                <td>5</td>
                                <td>
                                    <button class="btn btn-outline" aria-label="View Backup Procedures Details">
                                        <span class="material-symbols-rounded">visibility</span>
                                        View
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Audit Logging</td>
                                <td><span class="status-badge warning">Partial</span></td>
                                <td>2023-10-12</td>
                                <td>2</td>
                                <td>
                                    <button class="btn btn-outline" aria-label="View Audit Logging Details">
                                        <span class="material-symbols-rounded">visibility</span>
                                        View
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Vulnerability Management</td>
                                <td><span class="status-badge info">In Progress</span></td>
                                <td>2023-10-11</td>
                                <td>-</td>
                                <td>
                                    <button class="btn btn-outline" aria-label="View Vulnerability Management Details">
                                        <span class="material-symbols-rounded">visibility</span>
                                        View
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <div>
                        <h2 class="card-title">Recent Activities</h2>
                        <div class="card-subtitle">System and user activities</div>
                    </div>
                    <button class="btn btn-outline" id="viewAllActivitiesBtn" aria-label="View All Activities">
                        <span class="material-symbols-rounded">view_timeline</span>
                        View All
                    </button>
                </div>
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-date">Today, 10:45 AM</div>
                        <div class="timeline-title">Security Scan Completed</div>
                        <div class="timeline-content">
                            <p>Automated security scan completed on file server. 3 medium vulnerabilities detected.</p>
                            <button class="btn btn-outline"
                                style="margin-top: var(--spacing-2); padding: var(--spacing-1) var(--spacing-2); font-size: 0.75rem;"
                                aria-label="View Security Scan Details">
                                <span class="material-symbols-rounded" style="font-size: 0.875rem;">visibility</span>
                                View Details
                            </button>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-date">Today, 09:15 AM</div>
                        <div class="timeline-title">User Training Session</div>
                        <div class="timeline-content">
                            <p>Conducted remote work security training for accounting staff. 15 participants.</p>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-date">Yesterday, 03:30 PM</div>
                        <div class="timeline-title">Cloud Storage Configured</div>
                        <div class="timeline-content">
                            <p>Set up secure cloud storage for document backups with encryption and access controls.</p>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-date">Yesterday, 11:20 AM</div>
                        <div class="timeline-title">Migration Planning Meeting</div>
                        <div class="timeline-content">
                            <p>Finalized Phase 1 migration plan with IT team and department heads.</p>
                            <button class="btn btn-outline"
                                style="margin-top: var(--spacing-2); padding: var(--spacing-1) var(--spacing-2); font-size: 0.75rem;"
                                aria-label="View Meeting Notes">
                                <span class="material-symbols-rounded" style="font-size: 0.875rem;">description</span>
                                View Notes
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Notifications Dropdown -->
    <div class="dropdown-menu" id="notificationsDropdown">
        <div style="padding: var(--spacing-2) var(--spacing-4); font-weight: 500; color: var(--text-primary);">
            Notifications</div>
        <div class="dropdown-divider"></div>
        <a class="dropdown-item" style="padding: var(--spacing-3) var(--spacing-4);">
            <div style="display: flex; align-items: flex-start; gap: var(--spacing-2);">
                <span class="material-symbols-rounded" style="color: var(--danger);">warning</span>
                <div>
                    <div style="font-weight: 500; margin-bottom: 2px;">Critical: Backup Failure</div>
                    <div style="font-size: 0.75rem; color: var(--text-secondary);">Last night's automated backup failed
                    </div>
                    <div style="font-size: 0.75rem; color: var(--text-secondary); margin-top: 4px;">10 minutes ago</div>
                </div>
            </div>
        </a>
        <a class="dropdown-item" style="padding: var(--spacing-3) var(--spacing-4);">
            <div style="display: flex; align-items: flex-start; gap: var(--spacing-2);">
                <span class="material-symbols-rounded" style="color: var(--warning);">info</span>
                <div>
                    <div style="font-weight: 500; margin-bottom: 2px;">Security Update Available</div>
                    <div style="font-size: 0.75rem; color: var(--text-secondary);">New security patch ready for
                        deployment</div>
                    <div style="font-size: 0.75rem; color: var(--text-secondary); margin-top: 4px;">1 hour ago</div>
                </div>
            </div>
        </a>
        <a class="dropdown-item" style="padding: var(--spacing-3) var(--spacing-4);">
            <div style="display: flex; align-items: flex-start; gap: var(--spacing-2);">
                <span class="material-symbols-rounded" style="color: var(--success);">task_alt</span>
                <div>
                    <div style="font-weight: 500; margin-bottom: 2px;">Migration Task Completed</div>
                    <div style="font-size: 0.75rem; color: var(--text-secondary);">Email server migration completed
                        successfully</div>
                    <div style="font-size: 0.75rem; color: var(--text-secondary); margin-top: 4px;">Yesterday</div>
                </div>
            </div>
        </a>
        <div class="dropdown-divider"></div>
        <a class="dropdown-item" style="display: flex; justify-content: center; color: var(--primary);">
            View All Notifications
        </a>
    </div>

    <!-- Assessment Wizard Modal -->
    <div class="modal-backdrop" id="assessmentModal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">Infrastructure Assessment Wizard</h2>
                <button class="modal-close" id="closeAssessmentModal" aria-label="Close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="wizard-steps">
                    <div class="wizard-step active">
                        <div class="step-number">1</div>
                        <div class="step-label">System Inventory</div>
                    </div>
                    <div class="wizard-step">
                        <div class="step-number">2</div>
                        <div class="step-label">Security Review</div>
                    </div>
                    <div class="wizard-step">
                        <div class="step-number">3</div>
                        <div class="step-label">Requirements</div>
                    </div>
                    <div class="wizard-step">
                        <div class="step-number">4</div>
                        <div class="step-label">Analysis</div>
                    </div>
                </div>

                <div class="wizard-content">
                    <div class="form-group">
                        <label class="form-label" for="systemName">System Name <span
                                style="color: var(--danger);">*</span></label>
                        <input type="text" id="systemName" class="form-control"
                            placeholder="E.g., Accounting Database Server" required>
                        <div class="invalid-feedback" id="systemNameError" style="display: none;">System name is
                            required</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="systemType">System Type <span
                                style="color: var(--danger);">*</span></label>
                        <select id="systemType" class="form-control form-select" required>
                            <option value="">Select system type...</option>
                            <option>File Server</option>
                            <option>Database Server</option>
                            <option>Application Server</option>
                            <option>Client Workstation</option>
                            <option>Network Equipment</option>
                            <option>Other</option>
                        </select>
                        <div class="invalid-feedback" id="systemTypeError" style="display: none;">System type is
                            required</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="currentLocation">Current Location <span
                                style="color: var(--danger);">*</span></label>
                        <select id="currentLocation" class="form-control form-select" required>
                            <option value="">Select current location...</option>
                            <option>On-premises</option>
                            <option>Colocation Facility</option>
                            <option>Cloud (AWS)</option>
                            <option>Cloud (Azure)</option>
                            <option>Cloud (GCP)</option>
                            <option>Cloud (Other)</option>
                            <option>Hybrid</option>
                        </select>
                        <div class="invalid-feedback" id="currentLocationError" style="display: none;">Current location
                            is required</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="operatingSystem">Operating System <span
                                style="color: var(--danger);">*</span></label>
                        <input type="text" id="operatingSystem" class="form-control"
                            placeholder="E.g., Windows Server 2016" required>
                        <div class="invalid-feedback" id="operatingSystemError" style="display: none;">Operating system
                            is required</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="systemAge">System Age (Years) <span
                                style="color: var(--danger);">*</span></label>
                        <input type="number" id="systemAge" class="form-control" min="0" max="20" value="3" required>
                        <div class="form-text">How old is the current system?</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Business Criticality</label>
                        <div class="radio-container">
                            <input type="radio" id="criticalityHigh" name="criticality" value="high">
                            <span class="radio-mark"></span>
                            <label for="criticalityHigh">High - Critical for business operations</label>
                        </div>
                        <div class="radio-container">
                            <input type="radio" id="criticalityMedium" name="criticality" value="medium" checked>
                            <span class="radio-mark"></span>
                            <label for="criticalityMedium">Medium - Important but not critical</label>
                        </div>
                        <div class="radio-container">
                            <input type="radio" id="criticalityLow" name="criticality" value="low">
                            <span class="radio-mark"></span>
                            <label for="criticalityLow">Low - Non-essential system</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="criticalFunctions">Critical Business Functions</label>
                        <textarea id="criticalFunctions" class="form-control" rows="3"
                            placeholder="List critical business functions this system supports..."></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="knownIssues">Known Issues</label>
                        <textarea id="knownIssues" class="form-control" rows="3"
                            placeholder="Document any known issues with this system..."></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Data Classification</label>
                        <div class="checkbox-container">
                            <input type="checkbox" id="dataClassPII" name="dataClass" value="pii">
                            <span class="checkmark"></span>
                            <label for="dataClassPII">Contains PII (Personally Identifiable Information)</label>
                        </div>
                        <div class="checkbox-container">
                            <input type="checkbox" id="dataClassFinancial" name="dataClass" value="financial" checked>
                            <span class="checkmark"></span>
                            <label for="dataClassFinancial">Contains Financial Data</label>
                        </div>
                        <div class="checkbox-container">
                            <input type="checkbox" id="dataClassRegulated" name="dataClass" value="regulated">
                            <span class="checkmark"></span>
                            <label for="dataClassRegulated">Contains Regulated Data (e.g., tax information)</label>
                        </div>
                    </div>
                </div>

                <div class="wizard-actions">
                    <button class="btn btn-outline" id="cancelAssessmentBtn">
                        Cancel
                    </button>
                    <button class="btn btn-primary" id="nextAssessmentBtn">
                        Next Step
                        <span class="material-symbols-rounded">arrow_forward</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Task Modal -->
    <div class="modal-backdrop" id="addTaskModal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">Add Migration Task</h2>
                <button class="modal-close" id="closeAddTaskModal" aria-label="Close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label" for="taskTitle">Task Title <span
                            style="color: var(--danger);">*</span></label>
                    <input type="text" id="taskTitle" class="form-control" placeholder="Enter task title" required>
                    <div class="invalid-feedback" id="taskTitleError" style="display: none;">Task title is required
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label" for="taskDescription">Description</label>
                    <textarea id="taskDescription" class="form-control" rows="3"
                        placeholder="Describe the task details..."></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label" for="taskPriority">Priority <span
                            style="color: var(--danger);">*</span></label>
                    <select id="taskPriority" class="form-control form-select" required>
                        <option value="">Select priority...</option>
                        <option value="high">High</option>
                        <option value="medium">Medium</option>
                        <option value="low">Low</option>
                    </select>
                    <div class="invalid-feedback" id="taskPriorityError" style="display: none;">Priority is required
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label" for="taskDueDate">Due Date</label>
                    <input type="date" id="taskDueDate" class="form-control">
                </div>
                <div class="form-group">
                    <label class="form-label" for="taskAssignee">Assignee</label>
                    <select id="taskAssignee" class="form-control form-select">
                        <option value="">Select assignee...</option>
                        <option value="john">John Doe (You)</option>
                        <option value="sarah">Sarah Johnson</option>
                        <option value="mike">Mike Chen</option>
                        <option value="lisa">Lisa Rodriguez</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Dependencies</label>
                    <div class="checkbox-container">
                        <input type="checkbox" id="dep1" name="dependencies" value="task-1">
                        <span class="checkmark"></span>
                        <label for="dep1">Inventory legacy applications</label>
                    </div>
                    <div class="checkbox-container">
                        <input type="checkbox" id="dep2" name="dependencies" value="task-2">
                        <span class="checkmark"></span>
                        <label for="dep2">Security audit</label>
                    </div>
                    <div class="checkbox-container">
                        <input type="checkbox" id="dep8" name="dependencies" value="task-8">
                        <span class="checkmark"></span>
                        <label for="dep8">Initial stakeholder meeting</label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" id="cancelAddTaskBtn">
                    Cancel
                </button>
                <button class="btn btn-primary" id="saveTaskBtn">
                    <span class="material-symbols-rounded">add_task</span>
                    Add Task
                </button>
            </div>
        </div>
    </div>

    <!-- Critical Issues Modal -->
    <div class="modal-backdrop" id="criticalIssuesModal">
        <div class="modal" style="max-width: 700px;">
            <div class="modal-header">
                <h2 class="modal-title">Critical Infrastructure Issues</h2>
                <button class="modal-close" id="closeCriticalIssuesModal" aria-label="Close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Issue</th>
                                <th>System</th>
                                <th>Severity</th>
                                <th>Detected</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Outdated encryption protocol</td>
                                <td>File Server</td>
                                <td><span class="status-badge danger">Critical</span></td>
                                <td>2023-10-14</td>
                                <td>Open</td>
                            </tr>
                            <tr>
                                <td>Missing security patches</td>
                                <td>Database Server</td>
                                <td><span class="status-badge danger">Critical</span></td>
                                <td>2023-10-15</td>
                                <td>Open</td>
                            </tr>
                            <tr>
                                <td>Insufficient backup retention</td>
                                <td>Backup System</td>
                                <td><span class="status-badge warning">High</span></td>
                                <td>2023-10-13</td>
                                <td>In Progress</td>
                            </tr>
                            <tr>
                                <td>Weak password policy</td>
                                <td>Active Directory</td>
                                <td><span class="status-badge warning">High</span></td>
                                <td>2023-10-12</td>
                                <td>Open</td>
                            </tr>
                            <tr>
                                <td>Unsupported OS version</td>
                                <td>Legacy App Server</td>
                                <td><span class="status-badge danger">Critical</span></td>
                                <td>2023-10-10</td>
                                <td>Open</td>
                            </tr>
                            <tr>
                                <td>Inadequate network segmentation</td>
                                <td>Network Infrastructure</td>
                                <td><span class="status-badge warning">High</span></td>
                                <td>2023-10-09</td>
                                <td>In Progress</td>
                            </tr>
                            <tr>
                                <td>Missing audit logging</td>
                                <td>Financial Application</td>
                                <td><span class="status-badge warning">High</span></td>
                                <td>2023-10-08</td>
                                <td>Open</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div style="margin-top: var(--spacing-4);">
                    <div class="form-group">
                        <label class="form-label" for="issueFilter">Filter by Severity</label>
                        <select id="issueFilter" class="form-control form-select">
                            <option value="all">All Issues</option>
                            <option value="critical">Critical Only</option>
                            <option value="high">High Only</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" id="closeCriticalIssuesModalBtn">
                    Close
                </button>
                <button class="btn btn-primary" id="createRemediationPlanBtn">
                    <span class="material-symbols-rounded">build</span>
                    Create Remediation Plan
                </button>
            </div>
        </div>
    </div>

    <!-- Help Modal -->
    <div class="modal-backdrop" id="helpModal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">Getting Started Guide</h2>
                <button class="modal-close" id="closeHelpModal" aria-label="Close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="alert alert-info">
                    <span class="material-symbols-rounded alert-icon">info</span>
                    <div class="alert-content">
                        <div class="alert-title">Welcome to AccuMigrate</div>
                        <p>This platform will guide you through the process of modernizing your accounting firm's IT
                            infrastructure.</p>
                    </div>
                </div>

                <h3 style="margin-bottom: var(--spacing-3);">How to use this platform:</h3>

                <ol style="padding-left: var(--spacing-6); margin-bottom: var(--spacing-4);">
                    <li style="margin-bottom: var(--spacing-2);">Begin with the <strong>Infrastructure
                            Assessment</strong> to inventory your current systems</li>
                    <li style="margin-bottom: var(--spacing-2);">Use the <strong>Migration Planning Tool</strong> to
                        create a phased migration approach</li>
                    <li style="margin-bottom: var(--spacing-2);">Configure security settings in the <strong>Security
                            Configuration</strong> module</li>
                    <li style="margin-bottom: var(--spacing-2);">Set up automated scaling for tax season with the
                        <strong>Scaling Setup</strong> tool
                    </li>
                    <li style="margin-bottom: var(--spacing-2);">Establish disaster recovery procedures in the
                        <strong>Disaster Recovery</strong> section
                    </li>
                    <li>Monitor your progress and system health in the <strong>Real-time Status</strong> dashboard</li>
                </ol>

                <h3 style="margin-bottom: var(--spacing-3);">Key Benefits:</h3>

                <ul style="padding-left: var(--spacing-6); margin-bottom: var(--spacing-4);">
                    <li style="margin-bottom: var(--spacing-2);">Enhanced security and regulatory compliance</li>
                    <li style="margin-bottom: var(--spacing-2);">Improved business continuity and disaster recovery</li>
                    <li style="margin-bottom: var(--spacing-2);">Scalable resources during peak tax season</li>
                    <li style="margin-bottom: var(--spacing-2);">Secure remote work capabilities</li>
                    <li>Reduced maintenance and hardware costs</li>
                </ul>

                <h3 style="margin-bottom: var(--spacing-3);">Need additional help?</h3>
                <p>Access detailed tutorials, video guides, and documentation in the <strong>Help & Tutorials</strong>
                    section of the sidebar.</p>

                <div style="margin-top: var(--spacing-6);">
                    <h4 style="margin-bottom: var(--spacing-2);">Quick Start Videos</h4>
                    <div
                        style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: var(--spacing-4);">
                        <div>
                            <div
                                style="border-radius: var(--radius); overflow: hidden; margin-bottom: var(--spacing-2); position: relative;">
                                <img src="https://placehold.co/200x120?text=Assessment+Tutorial"
                                    alt="Assessment Tutorial" style="width: 100%; display: block;">
                                <div
                                    style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: rgba(0,0,0,0.6); border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; cursor: pointer;">
                                    <span class="material-symbols-rounded" style="color: white;">play_arrow</span>
                                </div>
                            </div>
                            <div style="font-size: 0.875rem; font-weight: 500;">System Assessment Guide</div>
                        </div>
                        <div>
                            <div
                                style="border-radius: var(--radius); overflow: hidden; margin-bottom: var(--spacing-2); position: relative;">
                                <img src="https://placehold.co/200x120?text=Security+Setup" alt="Security Setup"
                                    style="width: 100%; display: block;">
                                <div
                                    style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: rgba(0,0,0,0.6); border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; cursor: pointer;">
                                    <span class="material-symbols-rounded" style="color: white;">play_arrow</span>
                                </div>
                            </div>
                            <div style="font-size: 0.875rem; font-weight: 500;">Security Configuration</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" id="closeHelpModalBtn">
                    Close
                </button>
                <button class="btn btn-primary" id="watchTutorialBtn">
                    <span class="material-symbols-rounded">play_circle</span>
                    Watch Full Tutorial
                </button>
            </div>
        </div>
    </div>

    <!-- Toast Messages -->
    <div class="toast-container" id="toastContainer">
        <!-- Toast messages will be added here dynamically -->
    </div>

    <script type="module">
        import { Chart } from "https://esm.sh/chart.js/auto";

        // DOM Elements
        const userDropdownBtn = document.getElementById('userDropdownBtn');
        const userDropdown = document.getElementById('userDropdown');
        const notificationsBtn = document.getElementById('notificationsBtn');
        const notificationsDropdown = document.getElementById('notificationsDropdown');
        const startAssessmentBtn = document.getElementById('startAssessmentBtn');
        const assessmentModal = document.getElementById('assessmentModal');
        const closeAssessmentModal = document.getElementById('closeAssessmentModal');
        const cancelAssessmentBtn = document.getElementById('cancelAssessmentBtn');
        const nextAssessmentBtn = document.getElementById('nextAssessmentBtn');
        const wizardSteps = document.querySelectorAll('.wizard-step');
        const helpBtn = document.getElementById('helpBtn');
        const helpModal = document.getElementById('helpModal');
        const closeHelpModal = document.getElementById('closeHelpModal');
        const closeHelpModalBtn = document.getElementById('closeHelpModalBtn');
        const addTaskBtn = document.getElementById('addTaskBtn');
        const addTaskModal = document.getElementById('addTaskModal');
        const closeAddTaskModal = document.getElementById('closeAddTaskModal');
        const cancelAddTaskBtn = document.getElementById('cancelAddTaskBtn');
        const saveTaskBtn = document.getElementById('saveTaskBtn');
        const viewIssuesBtn = document.getElementById('viewIssuesBtn');
        const criticalIssuesModal = document.getElementById('criticalIssuesModal');
        const closeCriticalIssuesModal = document.getElementById('closeCriticalIssuesModal');
        const closeCriticalIssuesModalBtn = document.getElementById('closeCriticalIssuesModalBtn');
        const chartTabs = document.getElementById('chartTabs');
        const tabs = chartTabs.querySelectorAll('.tab');
        const toastContainer = document.getElementById('toastContainer');

        // Initialize Migration Progress Chart
        const ctx = document.getElementById('migrationChart').getContext('2d');
        const migrationChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Assessment', 'Planning', 'Security', 'Migration', 'Testing', 'Training', 'Go-Live'],
                datasets: [
                    {
                        label: 'Progress (%)',
                        data: [85, 60, 45, 20, 5, 0, 0],
                        backgroundColor: 'rgba(37, 99, 235, 0.7)',
                        borderColor: 'rgba(37, 99, 235, 1)',
                        borderWidth: 1
                    },
                    {
                        label: 'Target (%)',
                        data: [100, 80, 60, 40, 20, 10, 0],
                        backgroundColor: 'rgba(209, 213, 219, 0.5)',
                        borderColor: 'rgba(156, 163, 175, 1)',
                        borderWidth: 1,
                        type: 'line'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100,
                        title: {
                            display: true,
                            text: 'Completion Percentage'
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Migration Phases'
                        }
                    }
                },
                plugins: {
                    tooltip: {
                        callbacks: {
                            label: function (context) {
                                return context.dataset.label + ': ' + context.parsed.y + '%';
                            }
                        }
                    }
                },
                animation: {
                    duration: 1000,
                    easing: 'easeOutQuad'
                },
                onClick: function (e) {
                    // Handle click on chart
                    showToast('info', 'Chart Interaction', 'Clicked on migration progress chart. Click again for detailed view.');
                }
            }
        });

        // Chart Type Button
        const chartTypeBtn = document.getElementById('chartTypeBtn');
        chartTypeBtn.addEventListener('click', () => {
            // Toggle between bar and line chart
            if (migrationChart.config.type === 'bar') {
                migrationChart.config.type = 'line';
                chartTypeBtn.innerHTML = '<span class="material-symbols-rounded">show_chart</span>';
                migrationChart.update();
                showToast('info', 'Chart Updated', 'Chart type changed to Line');
            } else {
                migrationChart.config.type = 'bar';
                chartTypeBtn.innerHTML = '<span class="material-symbols-rounded">bar_chart</span>';
                migrationChart.update();
                showToast('info', 'Chart Updated', 'Chart type changed to Bar');
            }
        });

        // Download Chart Button
        const downloadChartBtn = document.getElementById('downloadChartBtn');
        downloadChartBtn.addEventListener('click', () => {
            // Simulate download
            showToast('success', 'Download Started', 'Migration progress chart is being downloaded');
        });

        // Refresh Chart Button
        const refreshChartBtn = document.getElementById('refreshChartBtn');
        refreshChartBtn.addEventListener('click', () => {
            // Simulate refresh
            refreshChartBtn.classList.add('rotating');
            setTimeout(() => {
                refreshChartBtn.classList.remove('rotating');
                showToast('success', 'Data Refreshed', 'Chart data has been updated');
            }, 1000);
        });

        // Create Remediation Plan Button
        const createRemediationPlanBtn = document.getElementById('createRemediationPlanBtn');
        createRemediationPlanBtn.addEventListener('click', () => {
            criticalIssuesModal.classList.remove('active');
            showToast('success', 'Plan Created', 'Remediation plan has been created and tasks added to your board');
        });

        // Export Compliance Report Button
        const exportComplianceBtn = document.getElementById('exportComplianceBtn');
        exportComplianceBtn.addEventListener('click', () => {
            showToast('success', 'Export Started', 'Compliance report is being generated');
        });

        // User Dropdown
        userDropdownBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            userDropdown.classList.toggle('show');
            notificationsDropdown.classList.remove('show');
        });

        // Notifications Dropdown
        notificationsBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            notificationsDropdown.classList.toggle('show');
            userDropdown.classList.remove('show');

            // Position the dropdown
            const rect = notificationsBtn.getBoundingClientRect();
            notificationsDropdown.style.position = 'fixed';
            notificationsDropdown.style.top = (rect.bottom + 5) + 'px';
            notificationsDropdown.style.right = (window.innerWidth - rect.right) + 'px';
        });

        // Close dropdowns when clicking outside
        document.addEventListener('click', () => {
            userDropdown.classList.remove('show');
            notificationsDropdown.classList.remove('show');
        });

        // Assessment Modal
        startAssessmentBtn.addEventListener('click', () => {
            assessmentModal.classList.add('active');
        });

        closeAssessmentModal.addEventListener('click', () => {
            assessmentModal.classList.remove('active');
        });

        cancelAssessmentBtn.addEventListener('click', () => {
            assessmentModal.classList.remove('active');
        });

        // Help Modal
        helpBtn.addEventListener('click', () => {
            helpModal.classList.add('active');
        });

        closeHelpModal.addEventListener('click', () => {
            helpModal.classList.remove('active');
        });

        closeHelpModalBtn.addEventListener('click', () => {
            helpModal.classList.remove('active');
        });

        // Add Task Modal
        addTaskBtn.addEventListener('click', () => {
            addTaskModal.classList.add('active');
        });

        closeAddTaskModal.addEventListener('click', () => {
            addTaskModal.classList.remove('active');
        });

        cancelAddTaskBtn.addEventListener('click', () => {
            addTaskModal.classList.remove('active');
        });

        saveTaskBtn.addEventListener('click', () => {
            // Validate form
            const taskTitle = document.getElementById('taskTitle');
            const taskPriority = document.getElementById('taskPriority');
            let isValid = true;

            if (!taskTitle.value.trim()) {
                document.getElementById('taskTitleError').style.display = 'block';
                taskTitle.classList.add('is-invalid');
                isValid = false;
            } else {
                document.getElementById('taskTitleError').style.display = 'none';
                taskTitle.classList.remove('is-invalid');
            }

            if (!taskPriority.value) {
                document.getElementById('taskPriorityError').style.display = 'block';
                taskPriority.classList.add('is-invalid');
                isValid = false;
            } else {
                document.getElementById('taskPriorityError').style.display = 'none';
                taskPriority.classList.remove('is-invalid');
            }

            if (isValid) {
                // Add new task
                addNewTask(taskTitle.value, taskPriority.value);
                addTaskModal.classList.remove('active');

                // Reset form
                taskTitle.value = '';
                taskPriority.value = '';
                document.getElementById('taskDescription').value = '';
                document.getElementById('taskDueDate').value = '';
                document.getElementById('taskAssignee').value = '';

                showToast('success', 'Task Added', 'New migration task has been added to your board');
            }
        });

        // Critical Issues Modal
        viewIssuesBtn.addEventListener('click', () => {
            criticalIssuesModal.classList.add('active');
        });

        closeCriticalIssuesModal.addEventListener('click', () => {
            criticalIssuesModal.classList.remove('active');
        });

        closeCriticalIssuesModalBtn.addEventListener('click', () => {
            criticalIssuesModal.classList.remove('active');
        });

        // Issue Filter
        const issueFilter = document.getElementById('issueFilter');
        issueFilter.addEventListener('change', () => {
            const rows = criticalIssuesModal.querySelectorAll('tbody tr');
            const value = issueFilter.value;

            rows.forEach(row => {
                const severity = row.querySelector('.status-badge').textContent.toLowerCase();
                if (value === 'all' || severity.includes(value)) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        });

        // Watch Tutorial Button
        const watchTutorialBtn = document.getElementById('watchTutorialBtn');
        watchTutorialBtn.addEventListener('click', () => {
            helpModal.classList.remove('active');
            showToast('info', 'Tutorial', 'Tutorial video is loading...');
        });

        // View All Activities Button
        const viewAllActivitiesBtn = document.getElementById('viewAllActivitiesBtn');
        viewAllActivitiesBtn.addEventListener('click', () => {
            showToast('info', 'Activities', 'Loading all activities...');
        });

        // Close modals when clicking outside
        window.addEventListener('click', (e) => {
            if (e.target === assessmentModal) {
                assessmentModal.classList.remove('active');
            }
            if (e.target === helpModal) {
                helpModal.classList.remove('active');
            }
            if (e.target === addTaskModal) {
                addTaskModal.classList.remove('active');
            }
            if (e.target === criticalIssuesModal) {
                criticalIssuesModal.classList.remove('active');
            }
        });

        // Wizard navigation
        let currentStep = 0;

        nextAssessmentBtn.addEventListener('click', () => {
            // Validate form on step 1
            if (currentStep === 0) {
                const systemName = document.getElementById('systemName');
                const systemType = document.getElementById('systemType');
                const currentLocation = document.getElementById('currentLocation');
                const operatingSystem = document.getElementById('operatingSystem');
                let isValid = true;

                if (!systemName.value.trim()) {
                    document.getElementById('systemNameError').style.display = 'block';
                    systemName.classList.add('is-invalid');
                    isValid = false;
                } else {
                    document.getElementById('systemNameError').style.display = 'none';
                    systemName.classList.remove('is-invalid');
                }

                if (!systemType.value) {
                    document.getElementById('systemTypeError').style.display = 'block';
                    systemType.classList.add('is-invalid');
                    isValid = false;
                } else {
                    document.getElementById('systemTypeError').style.display = 'none';
                    systemType.classList.remove('is-invalid');
                }

                if (!currentLocation.value) {
                    document.getElementById('currentLocationError').style.display = 'block';
                    currentLocation.classList.add('is-invalid');
                    isValid = false;
                } else {
                    document.getElementById('currentLocationError').style.display = 'none';
                    currentLocation.classList.remove('is-invalid');
                }

                if (!operatingSystem.value.trim()) {
                    document.getElementById('operatingSystemError').style.display = 'block';
                    operatingSystem.classList.add('is-invalid');
                    isValid = false;
                } else {
                    document.getElementById('operatingSystemError').style.display = 'none';
                    operatingSystem.classList.remove('is-invalid');
                }

                if (!isValid) {
                    return;
                }
            }

            if (currentStep < wizardSteps.length - 1) {
                wizardSteps[currentStep].classList.remove('active');
                wizardSteps[currentStep].classList.add('completed');
                currentStep++;
                wizardSteps[currentStep].classList.add('active');

                if (currentStep === wizardSteps.length - 1) {
                    nextAssessmentBtn.innerHTML = 'Complete <span class="material-symbols-rounded">check</span>';
                }
            } else {
                assessmentModal.classList.remove('active');
                showToast('success', 'Assessment Completed', 'System assessment has been added to your inventory');

                // Reset wizard for next use
                wizardSteps.forEach((step, index) => {
                    step.classList.remove('active', 'completed');
                    if (index === 0) step.classList.add('active');
                });
                currentStep = 0;
                nextAssessmentBtn.innerHTML = 'Next Step <span class="material-symbols-rounded">arrow_forward</span>';

                // Clear form fields
                document.getElementById('systemName').value = '';
                document.getElementById('systemType').value = '';
                document.getElementById('currentLocation').value = '';
                document.getElementById('operatingSystem').value = '';
                document.getElementById('systemAge').value = '3';
                document.getElementById('criticalFunctions').value = '';
                document.getElementById('knownIssues').value = '';
            }
        });

        // Tab switching
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                tabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');

                // Update chart based on selected tab
                const tabId = tab.getAttribute('data-tab');
                updateChart(tabId);
            });
        });

        function updateChart(tabId) {
            if (tabId === 'migration') {
                migrationChart.data.datasets[0].label = 'Progress (%)';
                migrationChart.data.datasets[1].label = 'Target (%)';
                migrationChart.data.labels = ['Assessment', 'Planning', 'Security', 'Migration', 'Testing', 'Training', 'Go-Live'];
                migrationChart.data.datasets[0].data = [85, 60, 45, 20, 5, 0, 0];
                migrationChart.data.datasets[1].data = [100, 80, 60, 40, 20, 10, 0];
            } else if (tabId === 'status') {
                migrationChart.data.datasets[0].label = 'Systems Migrated';
                migrationChart.data.datasets[1].label = 'Systems Remaining';
                migrationChart.data.labels = ['File Servers', 'Database', 'Applications', 'Email', 'Workstations', 'Network'];
                migrationChart.data.datasets[0].data = [2, 1, 3, 4, 10, 1];
                migrationChart.data.datasets[1].data = [1, 2, 5, 0, 15, 2];
            } else if (tabId === 'resources') {
                migrationChart.data.datasets[0].label = 'Current Allocation';
                migrationChart.data.datasets[1].label = 'Projected Need';
                migrationChart.data.labels = ['Storage (TB)', 'CPU (Cores)', 'Memory (GB)', 'Bandwidth (Gbps)', 'Licenses', 'Support Hours'];
                migrationChart.data.datasets[0].data = [10, 24, 64, 1, 25, 40];
                migrationChart.data.datasets[1].data = [15, 32, 96, 2, 30, 60];
            }

            migrationChart.update();
        }

        // Drag and drop functionality for task board
        const dragItems = document.querySelectorAll('.drag-item');
        const dragColumns = document.querySelectorAll('.drag-column');

        dragItems.forEach(item => {
            item.addEventListener('dragstart', () => {
                item.classList.add('dragging');
            });

            item.addEventListener('dragend', () => {
                item.classList.remove('dragging');
                updateTaskCounts();

                // Show toast when task is moved
                const columnTitle = item.closest('.drag-column').querySelector('.column-title').textContent;
                const taskTitle = item.querySelector('.drag-item-title').textContent;
                showToast('success', 'Task Updated', `${taskTitle} moved to ${columnTitle}`);
            });
        });

        dragColumns.forEach(column => {
            column.addEventListener('dragover', e => {
                e.preventDefault();
                const draggingItem = document.querySelector('.dragging');
                if (draggingItem) {
                    const afterElement = getDragAfterElement(column, e.clientY);
                    if (afterElement) {
                        column.insertBefore(draggingItem, afterElement);
                    } else {
                        column.appendChild(draggingItem);
                    }
                }
            });
        });

        function getDragAfterElement(container, y) {
            const draggableElements = [...container.querySelectorAll('.drag-item:not(.dragging)')];

            return draggableElements.reduce((closest, child) => {
                const box = child.getBoundingClientRect();
                const offset = y - box.top - box.height / 2;

                if (offset < 0 && offset > closest.offset) {
                    return { offset: offset, element: child };
                } else {
                    return closest;
                }
            }, { offset: Number.NEGATIVE_INFINITY }).element;
        }

        function updateTaskCounts() {
            dragColumns.forEach(column => {
                const count = column.querySelectorAll('.drag-item').length;
                column.querySelector('.task-count').textContent = count;
            });
        }

        function addNewTask(title, priority) {
            const todoColumn = document.querySelector('.drag-column[data-status="todo"]');
            const taskCount = document.querySelectorAll('.drag-item').length + 1;
            const newTaskId = 'task-' + (taskCount + 1);

            const newTask = document.createElement('div');
            newTask.className = `drag-item ${priority}-priority`;
            newTask.draggable = true;
            newTask.dataset.taskId = newTaskId;

            newTask.innerHTML = `
                <div class="drag-item-title">${title}</div>
                <p>${document.getElementById('taskDescription').value || 'New migration task'}</p>
                <div class="drag-item-meta">
                    <span>Priority: ${priority.charAt(0).toUpperCase() + priority.slice(1)}</span>
                    <span>${document.getElementById('taskDueDate').value ? formatDueDate(document.getElementById('taskDueDate').value) : 'No due date'}</span>
                </div>
            `;

            todoColumn.appendChild(newTask);

            // Add drag event listeners
            newTask.addEventListener('dragstart', () => {
                newTask.classList.add('dragging');
            });

            newTask.addEventListener('dragend', () => {
                newTask.classList.remove('dragging');
                updateTaskCounts();

                const columnTitle = newTask.closest('.drag-column').querySelector('.column-title').textContent;
                showToast('success', 'Task Updated', `${title} moved to ${columnTitle}`);
            });

            updateTaskCounts();
        }

        function formatDueDate(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const diffTime = date - now;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

            if (diffDays < 0) {
                return 'Overdue';
            } else if (diffDays === 0) {
                return 'Today';
            } else if (diffDays === 1) {
                return 'Tomorrow';
            } else {
                return `${diffDays}d`;
            }
        }

        // Toast message function
        function showToast(type, title, message) {
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;

            let icon;
            switch (type) {
                case 'success':
                    icon = 'task_alt';
                    break;
                case 'warning':
                    icon = 'warning';
                    break;
                case 'danger':
                    icon = 'error';
                    break;
                case 'info':
                default:
                    icon = 'info';
                    break;
            }

            toast.innerHTML = `
                <span class="material-symbols-rounded toast-icon">${icon}</span>
                <div class="toast-content">
                    <div class="toast-title">${title}</div>
                    <div>${message}</div>
                </div>
                <button class="toast-close">
                    <span class="material-symbols-rounded">close</span>
                </button>
            `;

            toastContainer.appendChild(toast);

            // Show toast
            setTimeout(() => {
                toast.classList.add('show');
            }, 10);

            // Auto-hide toast after 5 seconds
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => {
                    toast.remove();
                }, 300);
            }, 5000);

            // Close button
            toast.querySelector('.toast-close').addEventListener('click', () => {
                toast.classList.remove('show');
                setTimeout(() => {
                    toast.remove();
                }, 300);
            });
        }

        // Navigation
        const navItems = document.querySelectorAll('.nav-item');
        navItems.forEach(item => {
            item.addEventListener('click', () => {
                navItems.forEach(navItem => navItem.classList.remove('active'));
                item.classList.add('active');

                // For demo purposes, just show a toast
                const pageName = item.getAttribute('data-page');
                if (pageName !== 'overview') {
                    showToast('info', 'Navigation', `Navigating to ${pageName.replace('-', ' ')} page`);
                }
            });
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            // Alt+A: Open Assessment
            if (e.altKey && e.key === 'a') {
                e.preventDefault();
                assessmentModal.classList.add('active');
            }

            // Alt+H: Open Help
            if (e.altKey && e.key === 'h') {
                e.preventDefault();
                helpModal.classList.add('active');
            }

            // Alt+T: Add Task
            if (e.altKey && e.key === 't') {
                e.preventDefault();
                addTaskModal.classList.add('active');
            }

            // Esc: Close modals
            if (e.key === 'Escape') {
                assessmentModal.classList.remove('active');
                helpModal.classList.remove('active');
                addTaskModal.classList.remove('active');
                criticalIssuesModal.classList.remove('active');
                userDropdown.classList.remove('show');
                notificationsDropdown.classList.remove('show');
            }
        });

        // Add CSS animation for refresh button
        const style = document.createElement('style');
        style.textContent = `
            @keyframes rotate {
                from { transform: rotate(0deg); }
                to { transform: rotate(360deg); }
            }
            .rotating {
                animation: rotate 1s linear;
            }
        `;
        document.head.appendChild(style);
    </script>
</body>

</html>