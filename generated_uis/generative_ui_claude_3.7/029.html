<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FitTrack - Mobile Fitness App</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <style>
        :root {
            --primary: #4361ee;
            --primary-light: #5a73f2;
            --primary-dark: #3652d9;
            --secondary: #ff6b6b;
            --secondary-light: #ff8585;
            --secondary-dark: #ff5252;
            --accent: #4cc9f0;
            --success: #4ade80;
            --warning: #fbbf24;
            --danger: #f87171;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-400: #9ca3af;
            --gray-500: #6b7280;
            --gray-600: #4b5563;
            --gray-700: #374151;
            --gray-800: #1f2937;
            --gray-900: #111827;
            --white: #ffffff;
            --black: #000000;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --font-sans: 'Roboto', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            --radius-sm: 0.25rem;
            --radius: 0.375rem;
            --radius-md: 0.5rem;
            --radius-lg: 0.75rem;
            --radius-xl: 1rem;
            --radius-full: 9999px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-sans);
            background-color: var(--gray-100);
            color: var(--gray-800);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow-x: hidden;
            position: relative;
            min-height: 100vh;
        }

        /* Mobile container */
        .mobile-container {
            max-width: 414px;
            margin: 0 auto;
            background-color: var(--white);
            min-height: 100vh;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
        }

        /* App header */
        .app-header {
            padding: 1.25rem 1rem;
            background-color: var(--white);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: fixed;
            top: 0;
            width: 100%;
            max-width: 414px;
            z-index: 10;
            box-shadow: var(--shadow-sm);
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        .app-header.hidden {
            transform: translateY(-100%);
            opacity: 0;
        }

        .app-header h1 {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--gray-900);
        }

        .app-header .profile-icon {
            width: 2.5rem;
            height: 2.5rem;
            border-radius: var(--radius-full);
            background-color: var(--gray-200);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .app-header .profile-icon:active {
            transform: scale(0.95);
        }

        .app-header .profile-icon img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Main content */
        .app-content {
            padding: 5.5rem 1rem 5rem;
            overflow-y: auto;
            transition: opacity 0.3s ease;
        }

        /* Dashboard section */
        .dashboard {
            margin-bottom: 2rem;
        }

        .welcome-text {
            margin-bottom: 1.5rem;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .welcome-text h2 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 0.25rem;
        }

        .welcome-text p {
            font-size: 0.875rem;
            color: var(--gray-600);
        }

        /* Stats cards */
        .stats-row {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .stat-card {
            background-color: var(--white);
            border-radius: var(--radius-lg);
            padding: 1rem;
            box-shadow: var(--shadow);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            animation: slideUp 0.4s ease-out;
            animation-fill-mode: backwards;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .stats-row:first-of-type .stat-card:nth-child(1) {
            animation-delay: 0.1s;
        }

        .stats-row:first-of-type .stat-card:nth-child(2) {
            animation-delay: 0.2s;
        }

        .stats-row:nth-of-type(2) .stat-card:nth-child(1) {
            animation-delay: 0.3s;
        }

        .stats-row:nth-of-type(2) .stat-card:nth-child(2) {
            animation-delay: 0.4s;
        }

        .stat-card:active {
            transform: scale(0.98);
            box-shadow: var(--shadow-sm);
        }

        .stat-card .card-icon {
            width: 2.5rem;
            height: 2.5rem;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 0.75rem;
        }

        .stat-card .card-icon.steps {
            background-color: rgba(67, 97, 238, 0.1);
            color: var(--primary);
        }

        .stat-card .card-icon.calories {
            background-color: rgba(255, 107, 107, 0.1);
            color: var(--secondary);
        }

        .stat-card .card-icon.time {
            background-color: rgba(76, 201, 240, 0.1);
            color: var(--accent);
        }

        .stat-card .card-icon.distance {
            background-color: rgba(74, 222, 128, 0.1);
            color: var(--success);
        }

        .stat-card .card-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 0.25rem;
            display: flex;
            align-items: flex-end;
        }

        .stat-card .card-value .unit {
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--gray-600);
            margin-left: 0.25rem;
            margin-bottom: 0.25rem;
        }

        .stat-card .card-label {
            font-size: 0.75rem;
            color: var(--gray-600);
        }

        /* Progress section */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            animation: fadeIn 0.5s ease-out;
            animation-delay: 0.5s;
            animation-fill-mode: backwards;
        }

        .section-header h3 {
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--gray-900);
        }

        .section-header .view-all {
            font-size: 0.75rem;
            color: var(--primary);
            font-weight: 500;
            cursor: pointer;
            padding: 0.25rem 0.5rem;
            border-radius: var(--radius);
            transition: background-color 0.2s ease;
        }

        .section-header .view-all:active {
            background-color: rgba(67, 97, 238, 0.1);
        }

        .progress-chart {
            background-color: var(--white);
            border-radius: var(--radius-lg);
            padding: 1rem;
            box-shadow: var(--shadow);
            margin-bottom: 1.5rem;
            height: 200px;
            position: relative;
            animation: slideUp 0.4s ease-out;
            animation-delay: 0.6s;
            animation-fill-mode: backwards;
        }

        /* Workout section */
        .workout-card {
            background-color: var(--primary);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            color: var(--white);
            margin-bottom: 1.5rem;
            position: relative;
            overflow: hidden;
            animation: slideUp 0.4s ease-out;
            animation-delay: 0.7s;
            animation-fill-mode: backwards;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .workout-card:active {
            transform: scale(0.98);
            box-shadow: var(--shadow-lg);
        }

        .workout-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 150px;
            height: 150px;
            background-image: url("data:image/svg+xml,%3Csvg width='150' height='150' viewBox='0 0 150 150' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='125' cy='25' r='75' fill='rgba(255, 255, 255, 0.1)'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: top right;
        }

        .workout-card h3 {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 0.75rem;
        }

        .workout-card p {
            font-size: 0.875rem;
            margin-bottom: 1.5rem;
            opacity: 0.9;
        }

        .workout-card .btn {
            display: inline-flex;
            align-items: center;
            background-color: rgba(255, 255, 255, 0.2);
            padding: 0.625rem 1.25rem;
            border-radius: var(--radius-full);
            font-weight: 500;
            font-size: 0.875rem;
            transition: background-color 0.2s ease, transform 0.2s ease;
            cursor: pointer;
        }

        .workout-card .btn:active {
            background-color: rgba(255, 255, 255, 0.3);
            transform: scale(0.98);
        }

        .workout-card .btn .material-icons-round {
            margin-left: 0.5rem;
            font-size: 1.125rem;
        }

        /* Activity history */
        .activity-list {
            background-color: var(--white);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow);
            overflow: hidden;
            animation: slideUp 0.4s ease-out;
            animation-delay: 0.8s;
            animation-fill-mode: backwards;
        }

        .activity-item {
            display: flex;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid var(--gray-200);
            transition: background-color 0.2s ease;
            cursor: pointer;
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-item:active {
            background-color: var(--gray-100);
        }

        .activity-icon {
            width: 2.5rem;
            height: 2.5rem;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            flex-shrink: 0;
        }

        .activity-icon.running {
            background-color: rgba(67, 97, 238, 0.1);
            color: var(--primary);
        }

        .activity-icon.cycling {
            background-color: rgba(255, 107, 107, 0.1);
            color: var(--secondary);
        }

        .activity-icon.gym {
            background-color: rgba(76, 201, 240, 0.1);
            color: var(--accent);
        }

        .activity-details {
            flex: 1;
        }

        .activity-title {
            font-weight: 500;
            font-size: 0.875rem;
            color: var(--gray-900);
            margin-bottom: 0.25rem;
        }

        .activity-meta {
            display: flex;
            font-size: 0.75rem;
            color: var(--gray-500);
        }

        .activity-meta span {
            display: flex;
            align-items: center;
            margin-right: 0.75rem;
        }

        .activity-meta span .material-icons-round {
            font-size: 0.875rem;
            margin-right: 0.25rem;
        }

        .activity-value {
            font-weight: 600;
            font-size: 0.875rem;
            color: var(--gray-900);
        }

        /* Bottom navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            width: 100%;
            max-width: 414px;
            background-color: var(--white);
            display: flex;
            justify-content: space-between;
            padding: 0.75rem 1rem;
            box-shadow: 0 -1px 3px rgba(0, 0, 0, 0.05);
            z-index: 10;
            transition: transform 0.3s ease;
        }

        .bottom-nav.hidden {
            transform: translateY(100%);
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            flex: 1;
            cursor: pointer;
            position: relative;
            padding: 0.5rem 0;
        }

        .nav-item::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 3px;
            background-color: var(--primary);
            border-radius: var(--radius-full);
            transition: width 0.2s ease;
        }

        .nav-item.active::after {
            width: 20px;
        }

        .nav-item .material-icons-round {
            font-size: 1.25rem;
            margin-bottom: 0.25rem;
            color: var(--gray-500);
            transition: color 0.2s ease;
        }

        .nav-item span.label {
            font-size: 0.625rem;
            color: var(--gray-500);
            transition: color 0.2s ease;
        }

        .nav-item.active .material-icons-round,
        .nav-item.active span.label {
            color: var(--primary);
        }

        /* Workout screen */
        .workout-screen {
            display: none;
            padding: 5.5rem 1rem 5rem;
            opacity: 0;
            transform: translateX(20px);
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .workout-screen.active {
            opacity: 1;
            transform: translateX(0);
        }

        .timer-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 2rem 0;
        }

        .timer-circle {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: conic-gradient(var(--primary) 0% 75%, var(--gray-200) 75% 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            margin-bottom: 2rem;
            transition: background 0.3s ease;
        }

        .timer-circle::before {
            content: '';
            position: absolute;
            width: 170px;
            height: 170px;
            border-radius: 50%;
            background-color: var(--white);
        }

        .timer-value {
            position: relative;
            z-index: 1;
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--gray-900);
        }

        .workout-controls {
            display: flex;
            justify-content: space-between;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .control-btn {
            flex: 1;
            padding: 0.875rem;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 500;
            transition: background-color 0.2s ease, transform 0.2s ease;
            cursor: pointer;
        }

        .control-btn:active {
            transform: scale(0.95);
        }

        .control-btn.primary {
            background-color: var(--primary);
            color: var(--white);
        }

        .control-btn.secondary {
            background-color: var(--gray-200);
            color: var(--gray-700);
        }

        .exercise-list {
            background-color: var(--white);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .exercise-item {
            padding: 1rem;
            border-bottom: 1px solid var(--gray-200);
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .exercise-item:active {
            background-color: var(--gray-100);
        }

        .exercise-item:last-child {
            border-bottom: none;
        }

        .exercise-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
        }

        .exercise-name {
            font-weight: 600;
            color: var(--gray-900);
        }

        .exercise-status {
            font-size: 0.75rem;
            padding: 0.25rem 0.5rem;
            border-radius: var(--radius-full);
            background-color: var(--gray-200);
            color: var(--gray-700);
        }

        .exercise-status.completed {
            background-color: rgba(74, 222, 128, 0.1);
            color: var(--success);
        }

        .exercise-details {
            display: flex;
            gap: 1rem;
        }

        .exercise-stat {
            flex: 1;
            background-color: var(--gray-100);
            padding: 0.5rem;
            border-radius: var(--radius);
            text-align: center;
        }

        .exercise-stat-value {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--gray-900);
            margin-bottom: 0.25rem;
        }

        .exercise-stat-label {
            font-size: 0.625rem;
            color: var(--gray-500);
        }

        /* Progress screen */
        .progress-screen {
            display: none;
            padding: 5.5rem 1rem 5rem;
            opacity: 0;
            transform: translateX(20px);
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .progress-screen.active {
            opacity: 1;
            transform: translateX(0);
        }

        .progress-tabs {
            display: flex;
            background-color: var(--gray-100);
            border-radius: var(--radius-full);
            padding: 0.25rem;
            margin-bottom: 1.5rem;
        }

        .progress-tab {
            flex: 1;
            text-align: center;
            padding: 0.5rem;
            border-radius: var(--radius-full);
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--gray-600);
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .progress-tab.active {
            background-color: var(--white);
            color: var(--primary);
            box-shadow: var(--shadow-sm);
        }

        .progress-charts {
            display: grid;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .chart-card {
            background-color: var(--white);
            border-radius: var(--radius-lg);
            padding: 1rem;
            box-shadow: var(--shadow);
            animation: fadeIn 0.5s ease-out;
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .chart-title {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--gray-900);
        }

        .chart-period {
            font-size: 0.75rem;
            color: var(--gray-500);
        }

        .chart-container {
            height: 150px;
            margin-bottom: 0.5rem;
            position: relative;
        }

        .chart-legend {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            font-size: 0.75rem;
            color: var(--gray-700);
        }

        .legend-color {
            width: 0.75rem;
            height: 0.75rem;
            border-radius: 50%;
            margin-right: 0.25rem;
        }

        .legend-color.primary {
            background-color: var(--primary);
        }

        .legend-color.secondary {
            background-color: var(--secondary);
        }

        /* Profile screen */
        .profile-screen {
            display: none;
            padding: 5.5rem 1rem 5rem;
            opacity: 0;
            transform: translateX(20px);
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .profile-screen.active {
            opacity: 1;
            transform: translateX(0);
        }

        .profile-header {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 2rem;
            animation: fadeIn 0.5s ease-out;
        }

        .profile-avatar {
            width: 6rem;
            height: 6rem;
            border-radius: 50%;
            background-color: var(--gray-200);
            overflow: hidden;
            margin-bottom: 1rem;
            position: relative;
            box-shadow: var(--shadow-md);
        }

        .profile-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .profile-avatar .edit-icon {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 1.5rem;
            height: 1.5rem;
            background-color: var(--primary);
            color: var(--white);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .profile-avatar .edit-icon:active {
            transform: scale(0.9);
        }

        .profile-avatar .edit-icon .material-icons-round {
            font-size: 0.875rem;
        }

        .profile-name {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--gray-900);
            margin-bottom: 0.25rem;
        }

        .profile-email {
            font-size: 0.875rem;
            color: var(--gray-600);
        }

        .profile-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
            animation: slideUp 0.4s ease-out;
            animation-delay: 0.1s;
            animation-fill-mode: backwards;
        }

        .profile-stat {
            background-color: var(--white);
            border-radius: var(--radius-lg);
            padding: 1rem;
            box-shadow: var(--shadow);
            text-align: center;
            transition: transform 0.2s ease;
        }

        .profile-stat:active {
            transform: scale(0.98);
        }

        .profile-stat-value {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: 0.25rem;
        }

        .profile-stat-label {
            font-size: 0.75rem;
            color: var(--gray-600);
        }

        .settings-section {
            background-color: var(--white);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow);
            overflow: hidden;
            margin-bottom: 1.5rem;
            animation: slideUp 0.4s ease-out;
            animation-delay: 0.2s;
            animation-fill-mode: backwards;
        }

        .settings-header {
            padding: 1rem;
            border-bottom: 1px solid var(--gray-200);
        }

        .settings-title {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--gray-900);
        }

        .settings-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid var(--gray-200);
            transition: background-color 0.2s ease;
            cursor: pointer;
        }

        .settings-item:last-child {
            border-bottom: none;
        }

        .settings-item:active {
            background-color: var(--gray-100);
        }

        .settings-item-left {
            display: flex;
            align-items: center;
        }

        .settings-item-icon {
            width: 2rem;
            height: 2rem;
            border-radius: var(--radius);
            background-color: var(--gray-100);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 0.75rem;
            color: var(--gray-700);
        }

        .settings-item-text {
            font-size: 0.875rem;
            color: var(--gray-900);
        }

        .settings-item-right {
            display: flex;
            align-items: center;
        }

        .settings-item-right .material-icons-round {
            color: var(--gray-400);
            font-size: 1.25rem;
        }

        .settings-item-right span.text {
            font-size: 0.75rem;
            color: var(--gray-500);
            margin-right: 0.5rem;
        }

        .toggle-switch {
            width: 2.5rem;
            height: 1.25rem;
            background-color: var(--gray-300);
            border-radius: var(--radius-full);
            position: relative;
            transition: background-color 0.2s ease;
        }

        .toggle-switch.active {
            background-color: var(--primary);
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            top: 0.125rem;
            left: 0.125rem;
            width: 1rem;
            height: 1rem;
            border-radius: 50%;
            background-color: var(--white);
            box-shadow: var(--shadow-sm);
            transition: transform 0.2s ease;
        }

        .toggle-switch.active::after {
            transform: translateX(1.25rem);
        }

        .logout-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            padding: 1rem;
            background-color: rgba(248, 113, 113, 0.1);
            color: var(--danger);
            border-radius: var(--radius-lg);
            font-weight: 500;
            transition: background-color 0.2s ease, transform 0.2s ease;
            cursor: pointer;
            animation: slideUp 0.4s ease-out;
            animation-delay: 0.3s;
            animation-fill-mode: backwards;
        }

        .logout-btn:active {
            background-color: rgba(248, 113, 113, 0.2);
            transform: scale(0.98);
        }

        .logout-btn .material-icons-round {
            margin-right: 0.5rem;
        }

        /* Goals screen */
        .goals-screen {
            display: none;
            padding: 5.5rem 1rem 5rem;
            opacity: 0;
            transform: translateX(20px);
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .goals-screen.active {
            opacity: 1;
            transform: translateX(0);
        }

        .goal-card {
            background-color: var(--white);
            border-radius: var(--radius-lg);
            padding: 1.25rem;
            box-shadow: var(--shadow);
            margin-bottom: 1rem;
            animation: slideUp 0.4s ease-out;
            animation-fill-mode: backwards;
        }

        .goal-card:nth-child(2) {
            animation-delay: 0.1s;
        }

        .goal-card:nth-child(3) {
            animation-delay: 0.2s;
        }

        .goal-card:nth-child(4) {
            animation-delay: 0.3s;
        }

        .goal-card:nth-child(5) {
            animation-delay: 0.4s;
        }

        .goal-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .goal-info h4 {
            font-size: 1rem;
            font-weight: 600;
            color: var(--gray-900);
            margin-bottom: 0.25rem;
        }

        .goal-info p {
            font-size: 0.75rem;
            color: var(--gray-600);
        }

        .goal-status {
            font-size: 0.75rem;
            padding: 0.25rem 0.5rem;
            border-radius: var(--radius-full);
        }

        .goal-status.in-progress {
            background-color: rgba(251, 191, 36, 0.1);
            color: var(--warning);
        }

        .goal-status.completed {
            background-color: rgba(74, 222, 128, 0.1);
            color: var(--success);
        }

        .goal-progress {
            margin-bottom: 0.75rem;
        }

        .progress-bar-container {
            width: 100%;
            height: 0.5rem;
            background-color: var(--gray-200);
            border-radius: var(--radius-full);
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background-color: var(--primary);
            border-radius: var(--radius-full);
            transition: width 0.6s ease;
        }

        .progress-numbers {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            color: var(--gray-600);
            margin-top: 0.25rem;
        }

        .goal-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .goal-deadline {
            font-size: 0.75rem;
            color: var(--gray-600);
            display: flex;
            align-items: center;
        }

        .goal-deadline .material-icons-round {
            font-size: 0.875rem;
            margin-right: 0.25rem;
        }

        .goal-actions {
            display: flex;
            gap: 0.5rem;
        }

        .goal-action-btn {
            width: 2rem;
            height: 2rem;
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s ease, transform 0.2s ease;
            cursor: pointer;
        }

        .goal-action-btn:active {
            background-color: var(--gray-100);
            transform: scale(0.9);
        }

        .goal-action-btn .material-icons-round {
            font-size: 1.125rem;
            color: var(--gray-700);
        }

        .add-goal-btn {
            position: fixed;
            bottom: 5rem;
            right: 1.5rem;
            width: 3.5rem;
            height: 3.5rem;
            border-radius: 50%;
            background-color: var(--primary);
            color: var(--white);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-md);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            z-index: 5;
            cursor: pointer;
        }

        .add-goal-btn:active {
            transform: scale(0.95);
            box-shadow: var(--shadow-sm);
        }

        .add-goal-btn .material-icons-round {
            font-size: 1.5rem;
        }

        /* Chart mock */
        .chart-mock {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .chart-mock .line {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 50%;
            border-top: 2px solid var(--primary);
            border-radius: 50% 50% 0 0;
        }

        .chart-mock .bars {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: space-around;
            align-items: flex-end;
            padding: 0 0.5rem;
        }

        .chart-mock .bar {
            width: 8px;
            background-color: var(--primary);
            border-radius: var(--radius-sm);
            transition: height 0.6s ease-out;
        }

        .chart-mock .bar:nth-child(1) {
            height: 30%;
        }

        .chart-mock .bar:nth-child(2) {
            height: 50%;
        }

        .chart-mock .bar:nth-child(3) {
            height: 40%;
        }

        .chart-mock .bar:nth-child(4) {
            height: 70%;
        }

        .chart-mock .bar:nth-child(5) {
            height: 60%;
        }

        .chart-mock .bar:nth-child(6) {
            height: 80%;
        }

        .chart-mock .bar:nth-child(7) {
            height: 65%;
        }

        .chart-mock .labels {
            position: absolute;
            bottom: -20px;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: space-around;
            font-size: 0.625rem;
            color: var(--gray-500);
        }

        /* Activity chart mock */
        .activity-chart-mock {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .activity-chart-mock .pie {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: conic-gradient(var(--primary) 0% 45%,
                    var(--secondary) 45% 70%,
                    var(--accent) 70% 100%);
            transition: transform 0.3s ease;
        }

        .activity-chart-mock .pie:hover {
            transform: translate(-50%, -50%) scale(1.05);
        }

        .activity-chart-mock .pie::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: var(--white);
        }

        /* Modals */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 100;
            display: flex;
            justify-content: center;
            align-items: flex-end;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background-color: var(--white);
            border-radius: var(--radius-lg) var(--radius-lg) 0 0;
            width: 100%;
            max-width: 414px;
            max-height: 80vh;
            overflow-y: auto;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }

        .modal-overlay.active .modal {
            transform: translateY(0);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.25rem;
            border-bottom: 1px solid var(--gray-200);
        }

        .modal-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--gray-900);
        }

        .modal-close {
            width: 2rem;
            height: 2rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .modal-close:active {
            background-color: var(--gray-100);
        }

        .modal-content {
            padding: 1.25rem;
        }

        .form-group {
            margin-bottom: 1.25rem;
        }

        .form-label {
            display: block;
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--gray-700);
            margin-bottom: 0.5rem;
        }

        .form-input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--gray-300);
            border-radius: var(--radius);
            font-size: 0.875rem;
            color: var(--gray-900);
            transition: border-color 0.2s ease;
        }

        .form-input:focus {
            border-color: var(--primary);
            outline: none;
        }

        .form-select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--gray-300);
            border-radius: var(--radius);
            font-size: 0.875rem;
            color: var(--gray-900);
            background-color: var(--white);
            transition: border-color 0.2s ease;
        }

        .form-select:focus {
            border-color: var(--primary);
            outline: none;
        }

        .modal-footer {
            padding: 1.25rem;
            border-top: 1px solid var(--gray-200);
            display: flex;
            gap: 1rem;
        }

        .btn {
            flex: 1;
            padding: 0.75rem;
            border-radius: var(--radius);
            font-weight: 500;
            font-size: 0.875rem;
            text-align: center;
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.2s ease;
        }

        .btn:active {
            transform: scale(0.98);
        }

        .btn-primary {
            background-color: var(--primary);
            color: var(--white);
        }

        .btn-primary:active {
            background-color: var(--primary-dark);
        }

        .btn-secondary {
            background-color: var(--gray-200);
            color: var(--gray-700);
        }

        .btn-secondary:active {
            background-color: var(--gray-300);
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 1rem;
            left: 50%;
            transform: translateX(-50%) translateY(-100%);
            background-color: var(--gray-800);
            color: var(--white);
            padding: 0.75rem 1rem;
            border-radius: var(--radius);
            font-size: 0.875rem;
            box-shadow: var(--shadow-md);
            z-index: 200;
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        .notification.active {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        .notification.success {
            background-color: var(--success);
        }

        .notification.error {
            background-color: var(--danger);
        }

        /* Swipe actions */
        .swipeable-item {
            position: relative;
            overflow: hidden;
            touch-action: pan-y;
        }

        .swipe-actions {
            position: absolute;
            top: 0;
            right: 0;
            height: 100%;
            display: flex;
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }

        .swipe-action {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 4rem;
            height: 100%;
            color: var(--white);
        }

        .swipe-action.edit {
            background-color: var(--primary);
        }

        .swipe-action.delete {
            background-color: var(--danger);
        }

        /* Pull to refresh */
        .pull-indicator {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: center;
            padding: 1rem;
            transform: translateY(-100%);
            transition: transform 0.3s ease;
        }

        .pull-indicator .spinner {
            width: 1.5rem;
            height: 1.5rem;
            border: 2px solid var(--gray-300);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Accessibility */
        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

        /* Dark mode */
        .dark-mode {
            --primary: #6d8dff;
            --primary-light: #8ba4ff;
            --primary-dark: #5a77e5;
            --secondary: #ff8585;
            --secondary-light: #ff9e9e;
            --secondary-dark: #ff6b6b;
            --accent: #64d8ff;
            --success: #5df29c;
            --warning: #ffd166;
            --danger: #ff8a8a;
            --gray-100: #1f2937;
            --gray-200: #374151;
            --gray-300: #4b5563;
            --gray-400: #6b7280;
            --gray-500: #9ca3af;
            --gray-600: #d1d5db;
            --gray-700: #e5e7eb;
            --gray-800: #f3f4f6;
            --gray-900: #f9fafb;
            --white: #121826;
            --black: #ffffff;
        }
    </style>
</head>

<body>
    <div class="mobile-container">
        <!-- App Header -->
        <header class="app-header">
            <h1>FitTrack</h1>
            <div class="profile-icon">
                <img src="https://placehold.co/100x100?text=JD" alt="Profile">
            </div>
        </header>

        <!-- Dashboard Screen -->
        <main class="app-content">
            <div class="dashboard">
                <div class="welcome-text">
                    <h2>Hello, John!</h2>
                    <p>Let's check your activity today</p>
                </div>

                <div class="stats-row">
                    <div class="stat-card" aria-label="Steps taken today">
                        <div class="card-icon steps">
                            <span class="material-icons-round">directions_walk</span>
                        </div>
                        <div class="card-value">8,243<span class="unit">steps</span></div>
                        <div class="card-label">Daily Goal: 10,000</div>
                    </div>
                    <div class="stat-card" aria-label="Calories burned today">
                        <div class="card-icon calories">
                            <span class="material-icons-round">local_fire_department</span>
                        </div>
                        <div class="card-value">485<span class="unit">cal</span></div>
                        <div class="card-label">Daily Goal: 600</div>
                    </div>
                </div>

                <div class="stats-row">
                    <div class="stat-card" aria-label="Active time today">
                        <div class="card-icon time">
                            <span class="material-icons-round">schedule</span>
                        </div>
                        <div class="card-value">48<span class="unit">min</span></div>
                        <div class="card-label">Daily Goal: 60</div>
                    </div>
                    <div class="stat-card" aria-label="Distance traveled today">
                        <div class="card-icon distance">
                            <span class="material-icons-round">straighten</span>
                        </div>
                        <div class="card-value">5.2<span class="unit">km</span></div>
                        <div class="card-label">Daily Goal: 8</div>
                    </div>
                </div>

                <div class="section-header">
                    <h3>Weekly Progress</h3>
                    <span class="view-all" role="button" tabindex="0">View Details</span>
                </div>

                <div class="progress-chart">
                    <div class="chart-mock">
                        <div class="bars">
                            <div class="bar" data-value="3000" title="Monday: 3,000 steps"></div>
                            <div class="bar" data-value="5000" title="Tuesday: 5,000 steps"></div>
                            <div class="bar" data-value="4000" title="Wednesday: 4,000 steps"></div>
                            <div class="bar" data-value="7000" title="Thursday: 7,000 steps"></div>
                            <div class="bar" data-value="6000" title="Friday: 6,000 steps"></div>
                            <div class="bar" data-value="8000" title="Saturday: 8,000 steps"></div>
                            <div class="bar" data-value="6500" title="Sunday: 6,500 steps"></div>
                        </div>
                        <div class="line"></div>
                        <div class="labels">
                            <span>Mon</span>
                            <span>Tue</span>
                            <span>Wed</span>
                            <span>Thu</span>
                            <span>Fri</span>
                            <span>Sat</span>
                            <span>Sun</span>
                        </div>
                    </div>
                </div>

                <div class="workout-card">
                    <h3>Start Your Workout</h3>
                    <p>Reach your fitness goals with our guided workouts</p>
                    <div class="btn" role="button" tabindex="0">
                        Start Now
                        <span class="material-icons-round">arrow_forward</span>
                    </div>
                </div>

                <div class="section-header">
                    <h3>Recent Activities</h3>
                    <span class="view-all" role="button" tabindex="0">See All</span>
                </div>

                <div class="activity-list">
                    <div class="activity-item swipeable-item" role="button" tabindex="0">
                        <div class="activity-icon running">
                            <span class="material-icons-round">directions_run</span>
                        </div>
                        <div class="activity-details">
                            <div class="activity-title">Morning Run</div>
                            <div class="activity-meta">
                                <span>
                                    <span class="material-icons-round">calendar_today</span>
                                    Today, 7:30 AM
                                </span>
                                <span>
                                    <span class="material-icons-round">schedule</span>
                                    32 min
                                </span>
                            </div>
                        </div>
                        <div class="activity-value">3.2 km</div>
                        <div class="swipe-actions">
                            <div class="swipe-action edit">
                                <span class="material-icons-round">edit</span>
                            </div>
                            <div class="swipe-action delete">
                                <span class="material-icons-round">delete</span>
                            </div>
                        </div>
                    </div>
                    <div class="activity-item swipeable-item" role="button" tabindex="0">
                        <div class="activity-icon cycling">
                            <span class="material-icons-round">pedal_bike</span>
                        </div>
                        <div class="activity-details">
                            <div class="activity-title">Cycling Session</div>
                            <div class="activity-meta">
                                <span>
                                    <span class="material-icons-round">calendar_today</span>
                                    Yesterday, 6:15 PM
                                </span>
                                <span>
                                    <span class="material-icons-round">schedule</span>
                                    45 min
                                </span>
                            </div>
                        </div>
                        <div class="activity-value">12.5 km</div>
                        <div class="swipe-actions">
                            <div class="swipe-action edit">
                                <span class="material-icons-round">edit</span>
                            </div>
                            <div class="swipe-action delete">
                                <span class="material-icons-round">delete</span>
                            </div>
                        </div>
                    </div>
                    <div class="activity-item swipeable-item" role="button" tabindex="0">
                        <div class="activity-icon gym">
                            <span class="material-icons-round">fitness_center</span>
                        </div>
                        <div class="activity-details">
                            <div class="activity-title">Gym Workout</div>
                            <div class="activity-meta">
                                <span>
                                    <span class="material-icons-round">calendar_today</span>
                                    Yesterday, 10:00 AM
                                </span>
                                <span>
                                    <span class="material-icons-round">schedule</span>
                                    60 min
                                </span>
                            </div>
                        </div>
                        <div class="activity-value">390 cal</div>
                        <div class="swipe-actions">
                            <div class="swipe-action edit">
                                <span class="material-icons-round">edit</span>
                            </div>
                            <div class="swipe-action delete">
                                <span class="material-icons-round">delete</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Workout Screen (Hidden) -->
        <div class="workout-screen">
            <div class="timer-container">
                <div class="timer-circle" aria-label="Workout timer showing 23 minutes and 45 seconds">
                    <div class="timer-value">23:45</div>
                </div>
                <div class="workout-controls">
                    <div class="control-btn secondary" role="button" tabindex="0" aria-label="Pause workout">
                        <span class="material-icons-round">pause</span>
                    </div>
                    <div class="control-btn primary" role="button" tabindex="0" aria-label="Start workout">
                        <span class="material-icons-round">play_arrow</span>
                    </div>
                    <div class="control-btn secondary" role="button" tabindex="0" aria-label="Stop workout">
                        <span class="material-icons-round">stop</span>
                    </div>
                </div>
            </div>

            <div class="section-header">
                <h3>Workout Plan</h3>
                <span class="view-all" role="button" tabindex="0">Edit</span>
            </div>

            <div class="exercise-list">
                <div class="exercise-item" role="button" tabindex="0">
                    <div class="exercise-header">
                        <div class="exercise-name">Warm-up Stretching</div>
                        <div class="exercise-status completed">Completed</div>
                    </div>
                    <div class="exercise-details">
                        <div class="exercise-stat">
                            <div class="exercise-stat-value">5 min</div>
                            <div class="exercise-stat-label">Duration</div>
                        </div>
                        <div class="exercise-stat">
                            <div class="exercise-stat-value">Low</div>
                            <div class="exercise-stat-label">Intensity</div>
                        </div>
                        <div class="exercise-stat">
                            <div class="exercise-stat-value">25 cal</div>
                            <div class="exercise-stat-label">Burned</div>
                        </div>
                    </div>
                </div>
                <div class="exercise-item" role="button" tabindex="0">
                    <div class="exercise-header">
                        <div class="exercise-name">Cardio - Running</div>
                        <div class="exercise-status completed">Completed</div>
                    </div>
                    <div class="exercise-details">
                        <div class="exercise-stat">
                            <div class="exercise-stat-value">15 min</div>
                            <div class="exercise-stat-label">Duration</div>
                        </div>
                        <div class="exercise-stat">
                            <div class="exercise-stat-value">High</div>
                            <div class="exercise-stat-label">Intensity</div>
                        </div>
                        <div class="exercise-stat">
                            <div class="exercise-stat-value">180 cal</div>
                            <div class="exercise-stat-label">Burned</div>
                        </div>
                    </div>
                </div>
                <div class="exercise-item" role="button" tabindex="0">
                    <div class="exercise-header">
                        <div class="exercise-name">Circuit Training</div>
                        <div class="exercise-status">In Progress</div>
                    </div>
                    <div class="exercise-details">
                        <div class="exercise-stat">
                            <div class="exercise-stat-value">20 min</div>
                            <div class="exercise-stat-label">Duration</div>
                        </div>
                        <div class="exercise-stat">
                            <div class="exercise-stat-value">Medium</div>
                            <div class="exercise-stat-label">Intensity</div>
                        </div>
                        <div class="exercise-stat">
                            <div class="exercise-stat-value">240 cal</div>
                            <div class="exercise-stat-label">Expected</div>
                        </div>
                    </div>
                </div>
                <div class="exercise-item" role="button" tabindex="0">
                    <div class="exercise-header">
                        <div class="exercise-name">Cool Down</div>
                        <div class="exercise-status">Upcoming</div>
                    </div>
                    <div class="exercise-details">
                        <div class="exercise-stat">
                            <div class="exercise-stat-value">10 min</div>
                            <div class="exercise-stat-label">Duration</div>
                        </div>
                        <div class="exercise-stat">
                            <div class="exercise-stat-value">Low</div>
                            <div class="exercise-stat-label">Intensity</div>
                        </div>
                        <div class="exercise-stat">
                            <div class="exercise-stat-value">50 cal</div>
                            <div class="exercise-stat-label">Expected</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Progress Screen (Hidden) -->
        <div class="progress-screen">
            <div class="progress-tabs" role="tablist">
                <div class="progress-tab active" role="tab" tabindex="0" aria-selected="true">Week</div>
                <div class="progress-tab" role="tab" tabindex="0" aria-selected="false">Month</div>
                <div class="progress-tab" role="tab" tabindex="0" aria-selected="false">Year</div>
            </div>

            <div class="progress-charts">
                <div class="chart-card">
                    <div class="chart-header">
                        <div class="chart-title">Steps & Distance</div>
                        <div class="chart-period">Last 7 days</div>
                    </div>
                    <div class="chart-container">
                        <div class="chart-mock">
                            <div class="bars">
                                <div class="bar" data-value="3000" title="Monday: 3,000 steps"></div>
                                <div class="bar" data-value="5000" title="Tuesday: 5,000 steps"></div>
                                <div class="bar" data-value="4000" title="Wednesday: 4,000 steps"></div>
                                <div class="bar" data-value="7000" title="Thursday: 7,000 steps"></div>
                                <div class="bar" data-value="6000" title="Friday: 6,000 steps"></div>
                                <div class="bar" data-value="8000" title="Saturday: 8,000 steps"></div>
                                <div class="bar" data-value="6500" title="Sunday: 6,500 steps"></div>
                            </div>
                            <div class="line"></div>
                            <div class="labels">
                                <span>M</span>
                                <span>T</span>
                                <span>W</span>
                                <span>T</span>
                                <span>F</span>
                                <span>S</span>
                                <span>S</span>
                            </div>
                        </div>
                    </div>
                    <div class="chart-legend">
                        <div class="legend-item">
                            <div class="legend-color primary"></div>
                            <span>Steps</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color secondary"></div>
                            <span>Distance</span>
                        </div>
                    </div>
                </div>

                <div class="chart-card">
                    <div class="chart-header">
                        <div class="chart-title">Activity Breakdown</div>
                        <div class="chart-period">Last 7 days</div>
                    </div>
                    <div class="chart-container">
                        <div class="activity-chart-mock">
                            <div class="pie" title="Running: 45%, Cycling: 25%, Gym: 30%"></div>
                        </div>
                    </div>
                    <div class="chart-legend">
                        <div class="legend-item">
                            <div class="legend-color primary"></div>
                            <span>Running (45%)</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color secondary"></div>
                            <span>Cycling (25%)</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--accent);"></div>
                            <span>Gym (30%)</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section-header">
                <h3>Your Goals</h3>
                <span class="view-all" role="button" tabindex="0">Add New</span>
            </div>

            <div class="goal-card">
                <div class="goal-header">
                    <div class="goal-info">
                        <h4>Daily Step Goal</h4>
                        <p>Reach 10,000 steps every day</p>
                    </div>
                    <div class="goal-status in-progress">In Progress</div>
                </div>
                <div class="goal-progress">
                    <div class="progress-bar-container">
                        <div class="progress-bar" style="width: 82%;" aria-valuenow="82" aria-valuemin="0"
                            aria-valuemax="100"></div>
                    </div>
                    <div class="progress-numbers">
                        <span>8,243 / 10,000</span>
                        <span>82%</span>
                    </div>
                </div>
                <div class="goal-footer">
                    <div class="goal-deadline">
                        <span class="material-icons-round">today</span>
                        Daily
                    </div>
                    <div class="goal-actions">
                        <div class="goal-action-btn" role="button" tabindex="0" aria-label="Edit goal">
                            <span class="material-icons-round">edit</span>
                        </div>
                        <div class="goal-action-btn" role="button" tabindex="0" aria-label="Delete goal">
                            <span class="material-icons-round">delete</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="goal-card">
                <div class="goal-header">
                    <div class="goal-info">
                        <h4>Weekly Running Goal</h4>
                        <p>Run at least 20km per week</p>
                    </div>
                    <div class="goal-status in-progress">In Progress</div>
                </div>
                <div class="goal-progress">
                    <div class="progress-bar-container">
                        <div class="progress-bar" style="width: 45%;" aria-valuenow="45" aria-valuemin="0"
                            aria-valuemax="100"></div>
                    </div>
                    <div class="progress-numbers">
                        <span>9.1 / 20 km</span>
                        <span>45%</span>
                    </div>
                </div>
                <div class="goal-footer">
                    <div class="goal-deadline">
                        <span class="material-icons-round">today</span>
                        3 days left
                    </div>
                    <div class="goal-actions">
                        <div class="goal-action-btn" role="button" tabindex="0" aria-label="Edit goal">
                            <span class="material-icons-round">edit</span>
                        </div>
                        <div class="goal-action-btn" role="button" tabindex="0" aria-label="Delete goal">
                            <span class="material-icons-round">delete</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Screen (Hidden) -->
        <div class="profile-screen">
            <div class="profile-header">
                <div class="profile-avatar">
                    <img src="https://placehold.co/200x200?text=JD" alt="John Doe">
                    <div class="edit-icon" role="button" tabindex="0" aria-label="Edit profile picture">
                        <span class="material-icons-round">edit</span>
                    </div>
                </div>
                <div class="profile-name">John Doe</div>
                <div class="profile-email">john.doe@example.com</div>
            </div>

            <div class="profile-stats">
                <div class="profile-stat" role="button" tabindex="0" aria-label="Update weight">
                    <div class="profile-stat-value">68 kg</div>
                    <div class="profile-stat-label">Weight</div>
                </div>
                <div class="profile-stat" role="button" tabindex="0" aria-label="Update height">
                    <div class="profile-stat-value">182 cm</div>
                    <div class="profile-stat-label">Height</div>
                </div>
                <div class="profile-stat" role="button" tabindex="0" aria-label="Update age">
                    <div class="profile-stat-value">32</div>
                    <div class="profile-stat-label">Age</div>
                </div>
            </div>

            <div class="settings-section">
                <div class="settings-header">
                    <div class="settings-title">Account Settings</div>
                </div>
                <div class="settings-item" role="button" tabindex="0">
                    <div class="settings-item-left">
                        <div class="settings-item-icon">
                            <span class="material-icons-round">person</span>
                        </div>
                        <div class="settings-item-text">Personal Information</div>
                    </div>
                    <div class="settings-item-right">
                        <span class="material-icons-round">chevron_right</span>
                    </div>
                </div>
                <div class="settings-item" role="button" tabindex="0">
                    <div class="settings-item-left">
                        <div class="settings-item-icon">
                            <span class="material-icons-round">notifications</span>
                        </div>
                        <div class="settings-item-text">Notifications</div>
                    </div>
                    <div class="settings-item-right">
                        <span class="material-icons-round">chevron_right</span>
                    </div>
                </div>
                <div class="settings-item" role="button" tabindex="0">
                    <div class="settings-item-left">
                        <div class="settings-item-icon">
                            <span class="material-icons-round">privacy_tip</span>
                        </div>
                        <div class="settings-item-text">Privacy & Security</div>
                    </div>
                    <div class="settings-item-right">
                        <span class="material-icons-round">chevron_right</span>
                    </div>
                </div>
            </div>

            <div class="settings-section">
                <div class="settings-header">
                    <div class="settings-title">App Settings</div>
                </div>
                <div class="settings-item" role="button" tabindex="0">
                    <div class="settings-item-left">
                        <div class="settings-item-icon">
                            <span class="material-icons-round">language</span>
                        </div>
                        <div class="settings-item-text">Language</div>
                    </div>
                    <div class="settings-item-right">
                        <span class="text">English</span>
                        <span class="material-icons-round">chevron_right</span>
                    </div>
                </div>
                <div class="settings-item" role="button" tabindex="0">
                    <div class="settings-item-left">
                        <div class="settings-item-icon">
                            <span class="material-icons-round">dark_mode</span>
                        </div>
                        <div class="settings-item-text">Dark Mode</div>
                    </div>
                    <div class="settings-item-right">
                        <div class="toggle-switch" id="darkModeToggle" role="switch" aria-checked="false" tabindex="0">
                        </div>
                    </div>
                </div>
                <div class="settings-item" role="button" tabindex="0">
                    <div class="settings-item-left">
                        <div class="settings-item-icon">
                            <span class="material-icons-round">help</span>
                        </div>
                        <div class="settings-item-text">Help & Support</div>
                    </div>
                    <div class="settings-item-right">
                        <span class="material-icons-round">chevron_right</span>
                    </div>
                </div>
            </div>

            <div class="logout-btn" role="button" tabindex="0">
                <span class="material-icons-round">logout</span>
                Sign Out
            </div>
        </div>

        <!-- Goals Screen (Hidden) -->
        <div class="goals-screen">
            <div class="section-header">
                <h3>Your Goals</h3>
            </div>

            <div class="goal-card">
                <div class="goal-header">
                    <div class="goal-info">
                        <h4>Daily Step Goal</h4>
                        <p>Reach 10,000 steps every day</p>
                    </div>
                    <div class="goal-status in-progress">In Progress</div>
                </div>
                <div class="goal-progress">
                    <div class="progress-bar-container">
                        <div class="progress-bar" style="width: 82%;" aria-valuenow="82" aria-valuemin="0"
                            aria-valuemax="100"></div>
                    </div>
                    <div class="progress-numbers">
                        <span>8,243 / 10,000</span>
                        <span>82%</span>
                    </div>
                </div>
                <div class="goal-footer">
                    <div class="goal-deadline">
                        <span class="material-icons-round">today</span>
                        Daily
                    </div>
                    <div class="goal-actions">
                        <div class="goal-action-btn" role="button" tabindex="0" aria-label="Edit goal">
                            <span class="material-icons-round">edit</span>
                        </div>
                        <div class="goal-action-btn" role="button" tabindex="0" aria-label="Delete goal">
                            <span class="material-icons-round">delete</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="goal-card">
                <div class="goal-header">
                    <div class="goal-info">
                        <h4>Weekly Running Goal</h4>
                        <p>Run at least 20km per week</p>
                    </div>
                    <div class="goal-status in-progress">In Progress</div>
                </div>
                <div class="goal-progress">
                    <div class="progress-bar-container">
                        <div class="progress-bar" style="width: 45%;" aria-valuenow="45" aria-valuemin="0"
                            aria-valuemax="100"></div>
                    </div>
                    <div class="progress-numbers">
                        <span>9.1 / 20 km</span>
                        <span>45%</span>
                    </div>
                </div>
                <div class="goal-footer">
                    <div class="goal-deadline">
                        <span class="material-icons-round">today</span>
                        3 days left
                    </div>
                    <div class="goal-actions">
                        <div class="goal-action-btn" role="button" tabindex="0" aria-label="Edit goal">
                            <span class="material-icons-round">edit</span>
                        </div>
                        <div class="goal-action-btn" role="button" tabindex="0" aria-label="Delete goal">
                            <span class="material-icons-round">delete</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="goal-card">
                <div class="goal-header">
                    <div class="goal-info">
                        <h4>Weight Loss Goal</h4>
                        <p>Lose 5kg by the end of month</p>
                    </div>
                    <div class="goal-status in-progress">In Progress</div>
                </div>
                <div class="goal-progress">
                    <div class="progress-bar-container">
                        <div class="progress-bar" style="width: 60%;" aria-valuenow="60" aria-valuemin="0"
                            aria-valuemax="100"></div>
                    </div>
                    <div class="progress-numbers">
                        <span>3 / 5 kg</span>
                        <span>60%</span>
                    </div>
                </div>
                <div class="goal-footer">
                    <div class="goal-deadline">
                        <span class="material-icons-round">today</span>
                        15 days left
                    </div>
                    <div class="goal-actions">
                        <div class="goal-action-btn" role="button" tabindex="0" aria-label="Edit goal">
                            <span class="material-icons-round">edit</span>
                        </div>
                        <div class="goal-action-btn" role="button" tabindex="0" aria-label="Delete goal">
                            <span class="material-icons-round">delete</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="goal-card">
                <div class="goal-header">
                    <div class="goal-info">
                        <h4>Hydration Goal</h4>
                        <p>Drink 2.5L water daily</p>
                    </div>
                    <div class="goal-status completed">Completed</div>
                </div>
                <div class="goal-progress">
                    <div class="progress-bar-container">
                        <div class="progress-bar" style="width: 100%; background-color: var(--success);"
                            aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <div class="progress-numbers">
                        <span>2.5 / 2.5 L</span>
                        <span>100%</span>
                    </div>
                </div>
                <div class="goal-footer">
                    <div class="goal-deadline">
                        <span class="material-icons-round">today</span>
                        Daily
                    </div>
                    <div class="goal-actions">
                        <div class="goal-action-btn" role="button" tabindex="0" aria-label="Edit goal">
                            <span class="material-icons-round">edit</span>
                        </div>
                        <div class="goal-action-btn" role="button" tabindex="0" aria-label="Delete goal">
                            <span class="material-icons-round">delete</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="add-goal-btn" role="button" tabindex="0" aria-label="Add new goal">
                <span class="material-icons-round">add</span>
            </div>
        </div>

        <!-- Add Goal Modal -->
        <div class="modal-overlay" id="addGoalModal">
            <div class="modal">
                <div class="modal-header">
                    <div class="modal-title">Add New Goal</div>
                    <div class="modal-close" aria-label="Close modal">
                        <span class="material-icons-round">close</span>
                    </div>
                </div>
                <div class="modal-content">
                    <form id="goalForm">
                        <div class="form-group">
                            <label for="goalTitle" class="form-label">Goal Title</label>
                            <input type="text" id="goalTitle" class="form-input" placeholder="e.g., Daily Step Goal"
                                required>
                        </div>
                        <div class="form-group">
                            <label for="goalDescription" class="form-label">Description</label>
                            <input type="text" id="goalDescription" class="form-input"
                                placeholder="e.g., Reach 10,000 steps daily" required>
                        </div>
                        <div class="form-group">
                            <label for="goalType" class="form-label">Goal Type</label>
                            <select id="goalType" class="form-select" required>
                                <option value="">Select type</option>
                                <option value="steps">Steps</option>
                                <option value="distance">Distance</option>
                                <option value="calories">Calories</option>
                                <option value="weight">Weight</option>
                                <option value="water">Water Intake</option>
                                <option value="custom">Custom</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="goalTarget" class="form-label">Target Value</label>
                            <input type="number" id="goalTarget" class="form-input" placeholder="e.g., 10000" required>
                        </div>
                        <div class="form-group">
                            <label for="goalDeadline" class="form-label">Deadline</label>
                            <select id="goalDeadline" class="form-select" required>
                                <option value="daily">Daily</option>
                                <option value="weekly">Weekly</option>
                                <option value="monthly">Monthly</option>
                                <option value="custom">Custom Date</option>
                            </select>
                        </div>
                        <div class="form-group" id="customDateGroup" style="display: none;">
                            <label for="customDate" class="form-label">Custom Date</label>
                            <input type="date" id="customDate" class="form-input">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <div class="btn btn-secondary" id="cancelGoalBtn">Cancel</div>
                    <div class="btn btn-primary" id="saveGoalBtn">Save Goal</div>
                </div>
            </div>
        </div>

        <!-- Activity Detail Modal -->
        <div class="modal-overlay" id="activityDetailModal">
            <div class="modal">
                <div class="modal-header">
                    <div class="modal-title">Activity Details</div>
                    <div class="modal-close" aria-label="Close modal">
                        <span class="material-icons-round">close</span>
                    </div>
                </div>
                <div class="modal-content" id="activityDetailContent">
                    <!-- Content will be populated dynamically -->
                </div>
                <div class="modal-footer">
                    <div class="btn btn-secondary" id="closeActivityBtn">Close</div>
                    <div class="btn btn-primary" id="editActivityBtn">Edit</div>
                </div>
            </div>
        </div>

        <!-- Notification -->
        <div class="notification" id="notification"></div>

        <!-- Pull to refresh indicator -->
        <div class="pull-indicator">
            <div class="spinner"></div>
        </div>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <div class="nav-item active" data-screen="dashboard" role="button" tabindex="0" aria-label="Home">
                <span class="material-icons-round">home</span>
                <span class="label">Home</span>
            </div>
            <div class="nav-item" data-screen="workout" role="button" tabindex="0" aria-label="Workout">
                <span class="material-icons-round">fitness_center</span>
                <span class="label">Workout</span>
            </div>
            <div class="nav-item" data-screen="progress" role="button" tabindex="0" aria-label="Progress">
                <span class="material-icons-round">insights</span>
                <span class="label">Progress</span>
            </div>
            <div class="nav-item" data-screen="profile" role="button" tabindex="0" aria-label="Profile">
                <span class="material-icons-round">person</span>
                <span class="label">Profile</span>
            </div>
        </nav>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Elements
            const navItems = document.querySelectorAll('.nav-item');
            const screens = {
                dashboard: document.querySelector('.app-content'),
                workout: document.querySelector('.workout-screen'),
                progress: document.querySelector('.progress-screen'),
                profile: document.querySelector('.profile-screen'),
                goals: document.querySelector('.goals-screen')
            };
            const header = document.querySelector('.app-header');
            const bottomNav = document.querySelector('.bottom-nav');
            const workoutCard = document.querySelector('.workout-card');
            const workoutBtn = document.querySelector('.workout-card .btn');
            const progressTabs = document.querySelectorAll('.progress-tab');
            const viewDetailsBtn = document.querySelector('.dashboard .section-header .view-all');
            const seeAllActivitiesBtn = document.querySelector('.dashboard .section-header:last-of-type .view-all');
            const viewAllGoals = document.querySelector('.progress-screen .section-header .view-all');
            const profileIcon = document.querySelector('.profile-icon');
            const addGoalBtn = document.querySelector('.add-goal-btn');
            const addGoalModal = document.getElementById('addGoalModal');
            const activityDetailModal = document.getElementById('activityDetailModal');
            const activityItems = document.querySelectorAll('.activity-item');
            const notification = document.getElementById('notification');
            const darkModeToggle = document.getElementById('darkModeToggle');
            const body = document.body;
            const modalCloseButtons = document.querySelectorAll('.modal-close, #cancelGoalBtn, #closeActivityBtn');
            const saveGoalBtn = document.getElementById('saveGoalBtn');
            const editActivityBtn = document.getElementById('editActivityBtn');
            const goalDeadlineSelect = document.getElementById('goalDeadline');
            const customDateGroup = document.getElementById('customDateGroup');
            const profileEditIcon = document.querySelector('.profile-avatar .edit-icon');
            const profileStats = document.querySelectorAll('.profile-stat');
            const settingsItems = document.querySelectorAll('.settings-item');
            const logoutBtn = document.querySelector('.logout-btn');
            const goalActionBtns = document.querySelectorAll('.goal-action-btn');

            // State
            let lastScrollTop = 0;
            let currentScreen = 'dashboard';
            let isDarkMode = false;
            let timerInterval = null;
            let timerRunning = false;
            let timerSeconds = 23 * 60 + 45; // 23:45 in seconds
            let swipeActive = null;

            // Functions
            const showScreen = (screenName) => {
                // Hide all screens
                Object.values(screens).forEach(screen => {
                    screen.style.display = 'none';
                    if (screen.classList.contains('active')) {
                        screen.classList.remove('active');
                    }
                });

                // Show selected screen
                if (screens[screenName]) {
                    screens[screenName].style.display = 'block';
                    // Add a small delay before adding the active class for transition
                    setTimeout(() => {
                        screens[screenName].classList.add('active');
                    }, 50);

                    // Update nav items
                    navItems.forEach(item => {
                        if (item.dataset.screen === screenName) {
                            item.classList.add('active');
                        } else {
                            item.classList.remove('active');
                        }
                    });

                    currentScreen = screenName;

                    // Reset any swipe actions when changing screens
                    resetSwipeActions();
                }
            };

            const showNotification = (message, type = '') => {
                notification.textContent = message;
                notification.className = 'notification';
                if (type) {
                    notification.classList.add(type);
                }
                notification.classList.add('active');

                // Hide notification after 3 seconds
                setTimeout(() => {
                    notification.classList.remove('active');
                }, 3000);
            };

            const formatTime = (seconds) => {
                const mins = Math.floor(seconds / 60);
                const secs = seconds % 60;
                return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            };

            const updateTimer = () => {
                if (timerRunning && timerSeconds > 0) {
                    timerSeconds--;
                    document.querySelector('.timer-value').textContent = formatTime(timerSeconds);

                    // Update the timer circle
                    const progress = (timerSeconds / (60 * 60)) * 100; // Assuming 1 hour workout
                    document.querySelector('.timer-circle').style.background =
                        `conic-gradient(var(--primary) 0% ${progress}%, var(--gray-200) ${progress}% 100%)`;
                } else if (timerSeconds === 0 && timerRunning) {
                    // Timer finished
                    clearInterval(timerInterval);
                    timerInterval = null;
                    timerRunning = false;
                    showNotification('Workout completed!', 'success');
                }
            };

            const toggleDarkMode = () => {
                isDarkMode = !isDarkMode;
                if (isDarkMode) {
                    body.classList.add('dark-mode');
                    darkModeToggle.classList.add('active');
                    darkModeToggle.setAttribute('aria-checked', 'true');
                } else {
                    body.classList.remove('dark-mode');
                    darkModeToggle.classList.remove('active');
                    darkModeToggle.setAttribute('aria-checked', 'false');
                }

                showNotification(`Dark mode ${isDarkMode ? 'enabled' : 'disabled'}`, 'success');
            };

            const handleScroll = (e) => {
                const currentScrollTop = e.target.scrollTop;

                // Determine scroll direction
                if (currentScrollTop > lastScrollTop && currentScrollTop > 50) {
                    // Scrolling down
                    header.classList.add('hidden');
                    bottomNav.classList.add('hidden');
                } else {
                    // Scrolling up
                    header.classList.remove('hidden');
                    bottomNav.classList.remove('hidden');
                }

                lastScrollTop = currentScrollTop;
            };

            const resetSwipeActions = () => {
                // Reset any open swipe actions
                document.querySelectorAll('.swipe-actions').forEach(el => {
                    el.style.transform = 'translateX(100%)';
                });
                swipeActive = null;
            };

            const handleGoalAction = (action, goalElement) => {
                const goalTitle = goalElement.querySelector('.goal-info h4').textContent;

                if (action === 'edit') {
                    // Populate edit form with goal data
                    document.getElementById('goalTitle').value = goalTitle;
                    document.getElementById('goalDescription').value =
                        goalElement.querySelector('.goal-info p').textContent;

                    // Show the modal
                    addGoalModal.classList.add('active');
                    document.querySelector('.modal-title').textContent = 'Edit Goal';
                    saveGoalBtn.textContent = 'Update Goal';
                } else if (action === 'delete') {
                    // Confirm deletion
                    if (confirm(`Are you sure you want to delete the goal "${goalTitle}"?`)) {
                        // Remove the goal card with animation
                        goalElement.style.opacity = '0';
                        goalElement.style.transform = 'translateX(100%)';
                        goalElement.style.transition = 'opacity 0.3s ease, transform 0.3s ease';

                        setTimeout(() => {
                            goalElement.remove();
                            showNotification('Goal deleted successfully', 'success');
                        }, 300);
                    }
                }
            };

            const handleActivityAction = (action, activityElement) => {
                const activityTitle = activityElement.querySelector('.activity-title').textContent;

                if (action === 'edit') {
                    // Open activity detail modal in edit mode
                    const clickEvent = new Event('click');
                    activityElement.dispatchEvent(clickEvent);

                    // Simulate edit mode
                    editActivityBtn.click();
                } else if (action === 'delete') {
                    // Confirm deletion
                    if (confirm(`Are you sure you want to delete the activity "${activityTitle}"?`)) {
                        // Remove the activity with animation
                        activityElement.style.opacity = '0';
                        activityElement.style.transform = 'translateX(100%)';
                        activityElement.style.transition = 'opacity 0.3s ease, transform 0.3s ease';

                        setTimeout(() => {
                            activityElement.remove();
                            showNotification('Activity deleted successfully', 'success');
                        }, 300);
                    }
                }
            };

            const showEditProfileModal = () => {
                // Create a modal dynamically
                const modalHTML = `
                <div class="modal-overlay active" id="editProfileModal">
                    <div class="modal" style="transform: translateY(0);">
                        <div class="modal-header">
                            <div class="modal-title">Edit Profile</div>
                            <div class="modal-close" aria-label="Close modal">
                                <span class="material-icons-round">close</span>
                            </div>
                        </div>
                        <div class="modal-content">
                            <form id="profileForm">
                                <div class="form-group">
                                    <label for="profileName" class="form-label">Name</label>
                                    <input type="text" id="profileName" class="form-input" value="John Doe" required>
                                </div>
                                <div class="form-group">
                                    <label for="profileEmail" class="form-label">Email</label>
                                    <input type="email" id="profileEmail" class="form-input" value="john.doe@example.com" required>
                                </div>
                                <div class="form-group">
                                    <label for="profileWeight" class="form-label">Weight (kg)</label>
                                    <input type="number" id="profileWeight" class="form-input" value="68" required>
                                </div>
                                <div class="form-group">
                                    <label for="profileHeight" class="form-label">Height (cm)</label>
                                    <input type="number" id="profileHeight" class="form-input" value="182" required>
                                </div>
                                <div class="form-group">
                                    <label for="profileAge" class="form-label">Age</label>
                                    <input type="number" id="profileAge" class="form-input" value="32" required>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <div class="btn btn-secondary" id="cancelProfileBtn">Cancel</div>
                            <div class="btn btn-primary" id="saveProfileBtn">Save Changes</div>
                        </div>
                    </div>
                </div>`;

                // Add the modal to the body
                document.body.insertAdjacentHTML('beforeend', modalHTML);

                // Add event listeners
                const editProfileModal = document.getElementById('editProfileModal');
                document.getElementById('cancelProfileBtn').addEventListener('click', () => {
                    editProfileModal.remove();
                });

                document.getElementById('saveProfileBtn').addEventListener('click', () => {
                    // Update profile information
                    const name = document.getElementById('profileName').value;
                    const email = document.getElementById('profileEmail').value;
                    const weight = document.getElementById('profileWeight').value;
                    const height = document.getElementById('profileHeight').value;
                    const age = document.getElementById('profileAge').value;

                    // Update profile displays
                    document.querySelector('.profile-name').textContent = name;
                    document.querySelector('.profile-email').textContent = email;
                    document.querySelector('.profile-stat:nth-child(1) .profile-stat-value').textContent = `${weight} kg`;
                    document.querySelector('.profile-stat:nth-child(2) .profile-stat-value').textContent = `${height} cm`;
                    document.querySelector('.profile-stat:nth-child(3) .profile-stat-value').textContent = age;

                    // Close modal and show notification
                    editProfileModal.remove();
                    showNotification('Profile updated successfully!', 'success');
                });

                document.querySelector('#editProfileModal .modal-close').addEventListener('click', () => {
                    editProfileModal.remove();
                });
            };

            // Event Listeners
            navItems.forEach(item => {
                item.addEventListener('click', () => {
                    const screen = item.dataset.screen;
                    showScreen(screen);
                });

                // Add keyboard support
                item.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        const screen = item.dataset.screen;
                        showScreen(screen);
                    }
                });
            });

            // Profile icon click - go to profile screen
            if (profileIcon) {
                profileIcon.addEventListener('click', () => {
                    showScreen('profile');
                });
            }

            // View Details button in Dashboard Weekly Progress
            if (viewDetailsBtn) {
                viewDetailsBtn.addEventListener('click', () => {
                    showScreen('progress');
                    // Simulate click on Weekly tab
                    if (progressTabs && progressTabs.length > 0) {
                        progressTabs[0].click();
                    }
                });
            }

            // See All activities button
            if (seeAllActivitiesBtn) {
                seeAllActivitiesBtn.addEventListener('click', () => {
                    // Show a "coming soon" notification for now
                    showNotification('Activity history coming soon!', 'success');
                });
            }

            // Workout card and Start Now button
            if (workoutCard) {
                workoutCard.addEventListener('click', () => {
                    showScreen('workout');
                });
            }

            if (workoutBtn) {
                workoutBtn.addEventListener('click', (e) => {
                    e.stopPropagation(); // Prevent the workoutCard click event
                    showScreen('workout');
                });
            }

            progressTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    progressTabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');

                    // Update ARIA attributes
                    progressTabs.forEach(t => t.setAttribute('aria-selected', 'false'));
                    tab.setAttribute('aria-selected', 'true');

                    // Simulate data loading
                    const chartBars = document.querySelectorAll('.chart-mock .bar');
                    chartBars.forEach(bar => {
                        // Randomize bar heights for demo
                        const randomHeight = Math.floor(Math.random() * 70) + 20; // 20-90%
                        bar.style.height = `${randomHeight}%`;
                    });

                    // Update chart period
                    const period = tab.textContent.trim();
                    const chartPeriods = document.querySelectorAll('.chart-period');
                    if (period === 'Week') {
                        chartPeriods.forEach(el => el.textContent = 'Last 7 days');
                    } else if (period === 'Month') {
                        chartPeriods.forEach(el => el.textContent = 'Last 30 days');
                    } else if (period === 'Year') {
                        chartPeriods.forEach(el => el.textContent = 'Last 12 months');
                    }

                    showNotification(`Showing ${period.toLowerCase()}ly stats`, 'success');
                });

                // Add keyboard support
                tab.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        tab.click();
                    }
                });
            });

            viewAllGoals.addEventListener('click', () => {
                showScreen('goals');
            });

            addGoalBtn.addEventListener('click', () => {
                // Reset the form
                document.getElementById('goalForm').reset();
                if (customDateGroup) {
                    customDateGroup.style.display = 'none';
                }

                // Update modal title and button text
                const modalTitle = document.querySelector('#addGoalModal .modal-title');
                if (modalTitle) {
                    modalTitle.textContent = 'Add New Goal';
                }
                if (saveGoalBtn) {
                    saveGoalBtn.textContent = 'Save Goal';
                }

                // Show add goal modal
                if (addGoalModal) {
                    addGoalModal.classList.add('active');
                }
            });

            modalCloseButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    // Close all modals
                    addGoalModal.classList.remove('active');
                    activityDetailModal.classList.remove('active');
                });
            });

            saveGoalBtn.addEventListener('click', () => {
                // Simple form validation
                const form = document.getElementById('goalForm');
                const title = document.getElementById('goalTitle').value;
                const description = document.getElementById('goalDescription').value;
                const type = document.getElementById('goalType').value;
                const target = document.getElementById('goalTarget').value;
                const deadline = document.getElementById('goalDeadline').value;

                if (!title || !description || !type || !target || !deadline) {
                    showNotification('Please fill in all required fields', 'error');
                    return;
                }

                // Check if editing or adding
                const isEditing = saveGoalBtn.textContent === 'Update Goal';

                // Close modal and show notification
                addGoalModal.classList.remove('active');

                if (isEditing) {
                    showNotification('Goal updated successfully!', 'success');
                } else {
                    // Create a new goal card (simplified, production code would be more dynamic)
                    const goalsList = document.querySelector('.goals-screen');
                    const newGoalHTML = `
                    <div class="goal-card" style="animation: slideUp 0.4s ease-out;">
                        <div class="goal-header">
                            <div class="goal-info">
                                <h4>${title}</h4>
                                <p>${description}</p>
                            </div>
                            <div class="goal-status in-progress">In Progress</div>
                        </div>
                        <div class="goal-progress">
                            <div class="progress-bar-container">
                                <div class="progress-bar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                            <div class="progress-numbers">
                                <span>0 / ${target} ${type === 'steps' ? 'steps' : type === 'distance' ? 'km' : type === 'calories' ? 'cal' : type === 'weight' ? 'kg' : ''}</span>
                                <span>0%</span>
                            </div>
                        </div>
                        <div class="goal-footer">
                            <div class="goal-deadline">
                                <span class="material-icons-round">today</span>
                                ${deadline === 'daily' ? 'Daily' : deadline === 'weekly' ? 'Weekly' : deadline === 'monthly' ? 'Monthly' : 'Custom'}
                            </div>
                            <div class="goal-actions">
                                <div class="goal-action-btn" role="button" tabindex="0" aria-label="Edit goal">
                                    <span class="material-icons-round">edit</span>
                                </div>
                                <div class="goal-action-btn" role="button" tabindex="0" aria-label="Delete goal">
                                    <span class="material-icons-round">delete</span>
                                </div>
                            </div>
                        </div>
                    </div>`;

                    // Insert after the section header
                    const sectionHeader = document.querySelector('.goals-screen .section-header');
                    sectionHeader.insertAdjacentHTML('afterend', newGoalHTML);

                    // Add event listeners to new goal action buttons
                    const newGoal = sectionHeader.nextElementSibling;
                    const newGoalBtns = newGoal.querySelectorAll('.goal-action-btn');

                    newGoalBtns[0].addEventListener('click', (e) => {
                        e.stopPropagation();
                        handleGoalAction('edit', newGoal);
                    });

                    newGoalBtns[1].addEventListener('click', (e) => {
                        e.stopPropagation();
                        handleGoalAction('delete', newGoal);
                    });

                    showNotification('Goal added successfully!', 'success');
                }

                // Reset form
                form.reset();
            });

            goalDeadlineSelect.addEventListener('change', (e) => {
                if (e.target.value === 'custom' && customDateGroup) {
                    customDateGroup.style.display = 'block';
                } else if (customDateGroup) {
                    customDateGroup.style.display = 'none';
                }
            });

            // Edit activity button in modal
            editActivityBtn.addEventListener('click', () => {
                // Convert activity detail view to editable form
                const content = document.getElementById('activityDetailContent');
                const title = content.querySelector('h3').textContent;
                const time = content.querySelector('p').textContent;
                const duration = content.querySelector('.exercise-stat-value').textContent;
                const notes = content.querySelectorAll('p')[1].textContent;

                // Extract date and time parts from the time string
                // Assuming format like "Today, 7:30 AM" or "Yesterday, 6:15 PM"
                let dateValue = '';
                let timeValue = '';

                if (time) {
                    // Simple time format parsing
                    const timeParts = time.split(', ');
                    if (timeParts.length > 1) {
                        timeValue = timeParts[1];
                    }
                }

                content.innerHTML = `
                    <form id="activityEditForm">
                        <div class="form-group">
                            <label for="activityTitle" class="form-label">Activity Name</label>
                            <input type="text" id="activityTitle" class="form-input" value="${title}" required>
                        </div>
                        <div class="form-group">
                            <label for="activityDate" class="form-label">Date</label>
                            <input type="date" id="activityDate" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label for="activityTime" class="form-label">Time</label>
                            <input type="time" id="activityTime" class="form-input" value="${timeValue}" required>
                        </div>
                        <div class="form-group">
                            <label for="activityDuration" class="form-label">Duration</label>
                            <input type="text" id="activityDuration" class="form-input" value="${duration}" required>
                        </div>
                        <div class="form-group">
                            <label for="activityNotes" class="form-label">Notes</label>
                            <textarea id="activityNotes" class="form-input" rows="3">${notes}</textarea>
                        </div>
                    </form>
                `;

                // Change the button text
                editActivityBtn.textContent = 'Save Changes';

                // Add a new event listener for the Save Changes button
                const saveChangesListener = () => {
                    // Get form values
                    const newTitle = document.getElementById('activityTitle').value;
                    const newDate = document.getElementById('activityDate').value;
                    const newTime = document.getElementById('activityTime').value;
                    // Combine date and time into a friendly format
                    let formattedDateTime = '';

                    // Current date
                    const today = new Date();
                    const yesterday = new Date(today);
                    yesterday.setDate(yesterday.getDate() - 1);

                    // Parse input date
                    if (newDate) {
                        const dateObj = new Date(newDate);
                        const isToday = dateObj.toDateString() === today.toDateString();
                        const isYesterday = dateObj.toDateString() === yesterday.toDateString();

                        if (isToday) {
                            formattedDateTime = `Today, ${newTime}`;
                        } else if (isYesterday) {
                            formattedDateTime = `Yesterday, ${newTime}`;
                        } else {
                            // Format full date
                            const month = dateObj.toLocaleString('default', { month: 'short' });
                            const day = dateObj.getDate();
                            formattedDateTime = `${month} ${day}, ${newTime}`;
                        }
                    } else {
                        formattedDateTime = newTime;
                    }

                    const newDuration = document.getElementById('activityDuration').value;

                    // Close modal and show notification
                    activityDetailModal.classList.remove('active');
                    showNotification('Activity updated successfully!', 'success');

                    // Update the activity item in the list
                    const activities = document.querySelectorAll('.activity-item');
                    activities.forEach(item => {
                        const itemTitle = item.querySelector('.activity-title').textContent;
                        if (itemTitle === title) {
                            item.querySelector('.activity-title').textContent = newTitle;
                            item.querySelector('.activity-meta span:first-child').textContent = formattedDateTime;
                            item.querySelector('.activity-meta span:last-child').textContent = newDuration;
                        }
                    });

                    // Reset the button text and remove this event listener
                    editActivityBtn.textContent = 'Edit';
                    editActivityBtn.removeEventListener('click', saveChangesListener);
                };

                // Remove any existing event listeners and add the new one
                editActivityBtn.removeEventListener('click', saveChangesListener);
                editActivityBtn.addEventListener('click', saveChangesListener);
            });

            activityItems.forEach(item => {
                item.addEventListener('click', () => {
                    // Reset edit button text
                    editActivityBtn.textContent = 'Edit';

                    // Get activity details
                    const title = item.querySelector('.activity-title').textContent;
                    const time = item.querySelector('.activity-meta span:first-child').textContent.trim();
                    const duration = item.querySelector('.activity-meta span:last-child').textContent.trim();
                    const value = item.querySelector('.activity-value').textContent;

                    // Populate modal
                    const content = document.getElementById('activityDetailContent');
                    content.innerHTML = `
                        <div style="margin-bottom: 1.5rem;">
                            <h3 style="font-size: 1.25rem; margin-bottom: 0.5rem;">${title}</h3>
                            <p style="color: var(--gray-600); font-size: 0.875rem;">${time}</p>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; margin-bottom: 1.5rem;">
                            <div style="background-color: var(--gray-100); border-radius: var(--radius); padding: 1rem; text-align: center;">
                                <div style="font-size: 1.25rem; font-weight: 700; margin-bottom: 0.25rem;" class="exercise-stat-value">${duration}</div>
                                <div style="font-size: 0.75rem; color: var(--gray-600);">Duration</div>
                            </div>
                            <div style="background-color: var(--gray-100); border-radius: var(--radius); padding: 1rem; text-align: center;">
                                <div style="font-size: 1.25rem; font-weight: 700; margin-bottom: 0.25rem;">${value}</div>
                                <div style="font-size: 0.75rem; color: var(--gray-600);">${value.includes('km') ? 'Distance' : 'Calories Burned'}</div>
                            </div>
                        </div>
                        <div style="margin-bottom: 1rem;">
                            <h4 style="font-size: 1rem; margin-bottom: 0.5rem;">Notes</h4>
                            <p style="color: var(--gray-700); font-size: 0.875rem;">Great session! Felt strong today and maintained a good pace throughout.</p>
                        </div>
                        <div>
                            <h4 style="font-size: 1rem; margin-bottom: 0.5rem;">Route</h4>
                            <div style="background-color: var(--gray-200); height: 150px; border-radius: var(--radius); display: flex; align-items: center; justify-content: center;">
                                <span class="material-icons-round" style="font-size: 2rem; color: var(--gray-500);">map</span>
                            </div>
                        </div>
                    `;

                    // Show modal
                    activityDetailModal.classList.add('active');
                });
            });

            darkModeToggle.addEventListener('click', toggleDarkMode);

            // Add keyboard support for dark mode toggle
            darkModeToggle.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    toggleDarkMode();
                }
            });

            // Workout controls
            const startBtn = document.querySelector('.workout-controls .primary');
            const pauseBtn = document.querySelector('.workout-controls .secondary:first-child');
            const stopBtn = document.querySelector('.workout-controls .secondary:last-child');

            startBtn.addEventListener('click', () => {
                timerRunning = true;
                if (!timerInterval) {
                    timerInterval = setInterval(updateTimer, 1000);
                }
                showNotification('Workout started', 'success');

                // Update button text
                startBtn.innerHTML = '<span class="material-icons-round">play_arrow</span>';
                pauseBtn.innerHTML = '<span class="material-icons-round">pause</span>';
            });

            pauseBtn.addEventListener('click', () => {
                timerRunning = !timerRunning;
                if (timerRunning) {
                    showNotification('Workout resumed');
                    pauseBtn.innerHTML = '<span class="material-icons-round">pause</span>';
                } else {
                    showNotification('Workout paused');
                    pauseBtn.innerHTML = '<span class="material-icons-round">play_arrow</span>';
                }
            });

            stopBtn.addEventListener('click', () => {
                if (confirm('Are you sure you want to end this workout?')) {
                    timerRunning = false;
                    clearInterval(timerInterval);
                    timerInterval = null;
                    showNotification('Workout completed!', 'success');

                    // Reset the timer for next time
                    timerSeconds = 23 * 60 + 45;
                    document.querySelector('.timer-value').textContent = formatTime(timerSeconds);
                    document.querySelector('.timer-circle').style.background =
                        `conic-gradient(var(--primary) 0% 75%, var(--gray-200) 75% 100%)`;

                    // Reset button text
                    startBtn.innerHTML = '<span class="material-icons-round">play_arrow</span>';
                    pauseBtn.innerHTML = '<span class="material-icons-round">pause</span>';

                    // Simulate adding workout to history
                    setTimeout(() => {
                        showNotification('Workout saved to your activity history!', 'success');
                    }, 1000);
                }
            });

            // Exercise items interaction
            const exerciseItems = document.querySelectorAll('.exercise-item');
            exerciseItems.forEach(item => {
                item.addEventListener('click', () => {
                    const status = item.querySelector('.exercise-status');
                    const isCompleted = status.classList.contains('completed');

                    if (!isCompleted && status.textContent !== 'Upcoming') {
                        status.textContent = 'Completed';
                        status.classList.add('completed');
                        showNotification('Exercise marked as completed!', 'success');
                    } else if (status.textContent === 'Completed') {
                        status.textContent = 'In Progress';
                        status.classList.remove('completed');
                        showNotification('Exercise marked as in progress');
                    }
                });
            });

            // Goal action buttons (edit/delete)
            goalActionBtns.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const isEdit = btn.querySelector('.material-icons-round').textContent === 'edit';
                    const goalCard = btn.closest('.goal-card');

                    if (isEdit) {
                        handleGoalAction('edit', goalCard);
                    } else {
                        handleGoalAction('delete', goalCard);
                    }
                });
            });

            // Profile edit icon
            if (profileEditIcon) {
                profileEditIcon.addEventListener('click', showEditProfileModal);
            }

            // Profile stats click
            profileStats.forEach(stat => {
                stat.addEventListener('click', () => {
                    const type = stat.querySelector('.profile-stat-label').textContent.toLowerCase();
                    const value = stat.querySelector('.profile-stat-value').textContent;

                    // Show a simple prompt for quick edit
                    const newValue = prompt(`Update your ${type}:`, value.split(' ')[0]);

                    if (newValue && !isNaN(newValue)) {
                        if (type === 'weight') {
                            stat.querySelector('.profile-stat-value').textContent = `${newValue} kg`;
                        } else if (type === 'height') {
                            stat.querySelector('.profile-stat-value').textContent = `${newValue} cm`;
                        } else {
                            stat.querySelector('.profile-stat-value').textContent = newValue;
                        }
                        showNotification(`${type.charAt(0).toUpperCase() + type.slice(1)} updated successfully!`, 'success');
                    } else if (newValue) {
                        showNotification('Please enter a valid number', 'error');
                    }
                });
            });

            // Settings items
            settingsItems.forEach(item => {
                item.addEventListener('click', () => {
                    const settingName = item.querySelector('.settings-item-text').textContent;

                    if (settingName === 'Dark Mode') {
                        // Dark mode is handled by the toggle directly
                        return;
                    }

                    // For other settings, show a "coming soon" notification
                    showNotification(`${settingName} settings coming soon!`, 'success');
                });
            });

            // Logout button
            logoutBtn.addEventListener('click', () => {
                if (confirm('Are you sure you want to sign out?')) {
                    showNotification('Signing out...', 'success');

                    // Simulate logout with a redirect or refresh
                    setTimeout(() => {
                        // In a real app, you would redirect to a login page
                        // For demo purposes, just refresh the screen
                        showNotification('Signed out successfully!', 'success');
                        setTimeout(() => {
                            window.location.reload();
                        }, 1000);
                    }, 1000);
                }
            });

            // Scroll event for hiding/showing header and nav
            const appContent = document.querySelector('.app-content');
            if (appContent) {
                appContent.addEventListener('scroll', handleScroll);
            }

            // Swipe detection for activity items
            let touchStartX = 0;
            let touchEndX = 0;

            if (activityItems && activityItems.length > 0) {
                activityItems.forEach(item => {
                    // Add click handlers for swipe actions
                    const editBtn = item.querySelector('.swipe-action.edit');
                    const deleteBtn = item.querySelector('.swipe-action.delete');

                    if (editBtn) {
                        editBtn.addEventListener('click', (e) => {
                            e.stopPropagation();
                            handleActivityAction('edit', item);
                            resetSwipeActions();
                        });
                    }

                    if (deleteBtn) {
                        deleteBtn.addEventListener('click', (e) => {
                            e.stopPropagation();
                            handleActivityAction('delete', item);
                            resetSwipeActions();
                        });
                    }

                    item.addEventListener('touchstart', e => {
                        touchStartX = e.changedTouches[0].screenX;
                    });

                    item.addEventListener('touchend', e => {
                        touchEndX = e.changedTouches[0].screenX;
                        handleSwipe(item);
                    });
                });
            }

            // Add click outside listener to close swipe actions - attach to document only once
            document.addEventListener('click', (e) => {
                if (swipeActive && !swipeActive.contains(e.target)) {
                    resetSwipeActions();
                }
            });

            const handleSwipe = (item) => {
                const swipeThreshold = 100;
                const swipeActions = item.querySelector('.swipe-actions');

                if (touchStartX - touchEndX > swipeThreshold) {
                    // Swiped left - show actions
                    // First reset any other open swipe actions
                    resetSwipeActions();

                    swipeActions.style.transform = 'translateX(0)';
                    swipeActive = item;
                } else if (touchEndX - touchStartX > swipeThreshold) {
                    // Swiped right - hide actions
                    swipeActions.style.transform = 'translateX(100%)';
                    swipeActive = null;
                }
            };

            // Pull to refresh simulation
            const pullIndicator = document.querySelector('.pull-indicator');
            let touchStartY = 0;
            let touchEndY = 0;

            document.querySelector('.app-content').addEventListener('touchstart', e => {
                touchStartY = e.changedTouches[0].screenY;
            });

            document.querySelector('.app-content').addEventListener('touchmove', e => {
                const currentY = e.changedTouches[0].screenY;
                const scrollTop = document.querySelector('.app-content').scrollTop;

                // Only show pull indicator if at the top of the content
                if (scrollTop === 0 && currentY > touchStartY) {
                    const pullDistance = Math.min((currentY - touchStartY) / 3, 60);
                    pullIndicator.style.transform = `translateY(${pullDistance - 100}%)`;
                }
            });

            document.querySelector('.app-content').addEventListener('touchend', e => {
                touchEndY = e.changedTouches[0].screenY;
                const scrollTop = document.querySelector('.app-content').scrollTop;

                if (scrollTop === 0 && touchEndY - touchStartY > 100) {
                    // Pulled enough to refresh
                    pullIndicator.style.transform = 'translateY(0)';

                    // Simulate refresh
                    setTimeout(() => {
                        pullIndicator.style.transform = 'translateY(-100%)';
                        showNotification('Content refreshed!', 'success');

                        // Simulate data updates
                        const steps = document.querySelector('.stat-card:nth-child(1) .card-value');
                        const calories = document.querySelector('.stat-card:nth-child(2) .card-value');

                        // Update with random values for demo
                        const newSteps = Math.floor(Math.random() * 2000) + 8000;
                        const newCalories = Math.floor(Math.random() * 100) + 450;

                        steps.innerHTML = `${newSteps}<span class="unit">steps</span>`;
                        calories.innerHTML = `${newCalories}<span class="unit">cal</span>`;

                        // Update progress bars
                        const stepProgress = (newSteps / 10000) * 100;
                        const calorieProgress = (newCalories / 600) * 100;

                        document.querySelector('.goals-screen .goal-card:nth-child(2) .progress-bar').style.width = `${stepProgress}%`;
                        document.querySelector('.goals-screen .goal-card:nth-child(2) .progress-numbers span:first-child').textContent = `${newSteps} / 10,000`;
                        document.querySelector('.goals-screen .goal-card:nth-child(2) .progress-numbers span:last-child').textContent = `${Math.round(stepProgress)}%`;
                    }, 1500);
                } else {
                    // Not pulled enough, reset
                    pullIndicator.style.transform = 'translateY(-100%)';
                }
            });

            // Add interactivity to the chart bars
            const chartBars = document.querySelectorAll('.chart-mock .bar');
            chartBars.forEach(bar => {
                bar.addEventListener('click', () => {
                    const value = bar.getAttribute('data-value');
                    const title = bar.getAttribute('title');
                    showNotification(title || `Value: ${value}`, 'success');
                });
            });

            // Initialize
            showScreen('dashboard');
        });
    </script>
</body>

</html>