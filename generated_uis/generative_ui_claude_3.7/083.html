<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sustainable Fashion Content Strategy Hub</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <style>
        :root {
            --primary: #2e7d32;
            --primary-light: #60ad5e;
            --primary-dark: #005005;
            --secondary: #795548;
            --secondary-light: #a98274;
            --secondary-dark: #4b2c20;
            --accent: #ffa000;
            --text-primary: #263238;
            --text-secondary: #546e7a;
            --background: #f5f5f5;
            --card-bg: #ffffff;
            --instagram: #e1306c;
            --tiktok: #000000;
            --blog: #4db6ac;
            --newsletter: #7e57c2;
            --success: #4caf50;
            --warning: #ff9800;
            --error: #f44336;
            --border-radius: 12px;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s ease;
        }

        [data-theme="dark"] {
            --primary: #81c784;
            --primary-light: #b2fab4;
            --primary-dark: #519657;
            --secondary: #bcaaa4;
            --secondary-light: #efdcd5;
            --secondary-dark: #8c7b75;
            --accent: #ffca28;
            --text-primary: #eceff1;
            --text-secondary: #b0bec5;
            --background: #121212;
            --card-bg: #1e1e1e;
            --instagram: #e1306c;
            --tiktok: #ffffff;
            --blog: #4db6ac;
            --newsletter: #9575cd;
            --success: #66bb6a;
            --warning: #ffa726;
            --error: #ef5350;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--background);
            color: var(--text-primary);
            line-height: 1.6;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .app-container {
            display: grid;
            grid-template-columns: 280px 1fr;
            min-height: 100vh;
        }

        /* Sidebar Styles */
        .sidebar {
            background-color: var(--card-bg);
            padding: 24px;
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            z-index: 10;
            position: sticky;
            top: 0;
            height: 100vh;
            overflow-y: auto;
            transition: background-color 0.3s ease, box-shadow 0.3s ease, left 0.3s ease;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 32px;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background-color: var(--primary);
            color: var(--card-bg);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .logo-icon:hover {
            transform: rotate(10deg) scale(1.05);
        }

        .logo-text {
            font-weight: 600;
            font-size: 18px;
            color: var(--primary);
            transition: color 0.3s ease;
        }

        .nav-menu {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 32px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            color: var(--text-secondary);
        }

        .nav-item:hover,
        .nav-item.active {
            background-color: var(--primary-light);
            color: var(--card-bg);
            transform: translateX(5px);
        }

        .nav-item.active {
            font-weight: 500;
        }

        .platform-section {
            margin-top: 24px;
        }

        .section-title {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 12px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .platform-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            margin-bottom: 8px;
        }

        .platform-item.instagram {
            color: var(--instagram);
            background-color: rgba(225, 48, 108, 0.1);
        }

        .platform-item.tiktok {
            color: var(--tiktok);
            background-color: rgba(0, 0, 0, 0.05);
        }

        .platform-item.blog {
            color: var(--blog);
            background-color: rgba(77, 182, 172, 0.1);
        }

        .platform-item.newsletter {
            color: var(--newsletter);
            background-color: rgba(126, 87, 194, 0.1);
        }

        .platform-item:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        /* Main Content Styles */
        .main-content {
            padding: 32px;
            overflow-y: auto;
            transition: background-color 0.3s ease;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 32px;
        }

        .page-title {
            font-size: 24px;
            font-weight: 600;
            transition: color 0.3s ease;
        }

        .action-buttons {
            display: flex;
            gap: 12px;
        }

        .btn {
            padding: 10px 20px;
            border-radius: var(--border-radius);
            border: none;
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
            position: relative;
            overflow: hidden;
        }

        .btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 5px;
            height: 5px;
            background: rgba(255, 255, 255, 0.5);
            opacity: 0;
            border-radius: 100%;
            transform: scale(1, 1) translate(-50%);
            transform-origin: 50% 50%;
        }

        .btn:focus:not(:active)::after {
            animation: ripple 1s ease-out;
        }

        @keyframes ripple {
            0% {
                transform: scale(0, 0);
                opacity: 0.5;
            }

            20% {
                transform: scale(25, 25);
                opacity: 0.3;
            }

            100% {
                opacity: 0;
                transform: scale(40, 40);
            }
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background-color: var(--primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }

        .card {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 24px;
            box-shadow: var(--shadow);
            transition: var(--transition), background-color 0.3s ease;
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .card-title {
            font-size: 18px;
            font-weight: 600;
            transition: color 0.3s ease;
        }

        .card-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .card-content {
            margin-bottom: 16px;
            transition: color 0.3s ease;
        }

        .card-footer {
            display: flex;
            justify-content: flex-end;
        }

        .strategy-card {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 24px;
            box-shadow: var(--shadow);
            margin-bottom: 24px;
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }

        .strategy-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            padding-bottom: 16px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .strategy-title {
            font-size: 20px;
            font-weight: 600;
            transition: color 0.3s ease;
        }

        .strategy-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
        }

        .platform-card {
            border-radius: var(--border-radius);
            padding: 20px;
            transition: var(--transition);
        }

        .platform-card.instagram {
            background-color: rgba(225, 48, 108, 0.1);
            border-left: 4px solid var(--instagram);
        }

        .platform-card.tiktok {
            background-color: rgba(0, 0, 0, 0.05);
            border-left: 4px solid var(--tiktok);
        }

        .platform-card.blog {
            background-color: rgba(77, 182, 172, 0.1);
            border-left: 4px solid var(--blog);
        }

        .platform-card.newsletter {
            background-color: rgba(126, 87, 194, 0.1);
            border-left: 4px solid var(--newsletter);
        }

        .platform-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .platform-title {
            font-weight: 600;
            transition: color 0.3s ease;
        }

        .platform-content {
            font-size: 14px;
            transition: color 0.3s ease;
        }

        .platform-tips {
            margin-top: 16px;
        }

        .tip-item {
            display: flex;
            align-items: flex-start;
            gap: 8px;
            margin-bottom: 8px;
            font-size: 14px;
            transition: var(--transition), color 0.3s ease;
        }

        .tip-item:hover {
            transform: translateX(5px);
        }

        .brand-voice-section {
            margin-top: 32px;
        }

        .voice-attributes {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-top: 16px;
        }

        .voice-attribute {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 16px;
            box-shadow: var(--shadow);
            transition: var(--transition), background-color 0.3s ease;
            cursor: pointer;
        }

        .voice-attribute:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }

        .attribute-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--primary);
            transition: color 0.3s ease;
        }

        .attribute-description {
            font-size: 14px;
            transition: color 0.3s ease;
        }

        .content-calendar {
            margin-top: 32px;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            flex-wrap: wrap;
            gap: 16px;
        }

        .calendar-navigation {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .calendar-month {
            font-weight: 600;
            font-size: 18px;
            transition: color 0.3s ease;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
        }

        .calendar-day-header {
            text-align: center;
            font-weight: 500;
            padding: 8px;
            font-size: 14px;
            color: var(--text-secondary);
            transition: color 0.3s ease;
        }

        .calendar-day {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 8px;
            min-height: 100px;
            cursor: pointer;
            transition: var(--transition), background-color 0.3s ease;
            position: relative;
        }

        .calendar-day:hover {
            box-shadow: var(--shadow);
            transform: scale(1.02);
        }

        .calendar-day.today {
            border: 2px solid var(--primary);
        }

        .calendar-day-number {
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 8px;
            transition: color 0.3s ease;
        }

        .calendar-event {
            font-size: 12px;
            padding: 4px 8px;
            border-radius: 4px;
            margin-bottom: 4px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            cursor: grab;
            transition: var(--transition);
        }

        .calendar-event:hover {
            transform: translateX(2px);
        }

        .event-instagram {
            background-color: rgba(225, 48, 108, 0.2);
            color: var(--instagram);
        }

        .event-tiktok {
            background-color: rgba(0, 0, 0, 0.1);
            color: var(--tiktok);
        }

        .event-blog {
            background-color: rgba(77, 182, 172, 0.2);
            color: var(--blog);
        }

        .event-newsletter {
            background-color: rgba(126, 87, 194, 0.2);
            color: var(--newsletter);
        }

        .audience-insights {
            margin-top: 32px;
        }

        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
        }

        .insight-card {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 24px;
            box-shadow: var(--shadow);
            transition: var(--transition), background-color 0.3s ease;
        }

        .insight-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
        }

        .insight-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .insight-title {
            font-weight: 600;
            transition: color 0.3s ease;
        }

        .chart-container {
            height: 200px;
            position: relative;
        }

        .chart-tooltip {
            position: absolute;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 4px;
            padding: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            font-size: 12px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 10;
        }

        [data-theme="dark"] .chart-tooltip {
            background: rgba(30, 30, 30, 0.9);
            color: var(--text-primary);
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            width: 100%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            padding: 32px;
            position: relative;
            transform: translateY(20px);
            transition: var(--transition), background-color 0.3s ease;
        }

        .modal.active .modal-content {
            transform: translateY(0);
        }

        .modal-close {
            position: absolute;
            top: 16px;
            right: 16px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 24px;
            color: var(--text-secondary);
            transition: var(--transition), color 0.3s ease;
        }

        .modal-close:hover {
            color: var(--error);
            transform: rotate(90deg);
        }

        .modal-header {
            margin-bottom: 24px;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 600;
            transition: color 0.3s ease;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .form-input,
        .form-textarea,
        .form-select {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: var(--border-radius);
            font-family: 'Poppins', sans-serif;
            font-size: 14px;
            transition: var(--transition), background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
            background-color: var(--card-bg);
            color: var(--text-primary);
        }

        .form-input:focus,
        .form-textarea:focus,
        .form-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(46, 125, 50, 0.2);
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 12px;
            margin-top: 24px;
        }

        .progress-container {
            display: flex;
            justify-content: space-between;
            margin-bottom: 32px;
            position: relative;
        }

        .progress-container::before {
            content: '';
            position: absolute;
            top: 12px;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: rgba(0, 0, 0, 0.1);
            z-index: 0;
            transition: background-color 0.3s ease;
        }

        [data-theme="dark"] .progress-container::before {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .progress-bar {
            position: absolute;
            top: 12px;
            left: 0;
            height: 2px;
            background-color: var(--primary);
            transition: width 0.3s ease, background-color 0.3s ease;
            z-index: 1;
        }

        .progress-step {
            flex: 1;
            text-align: center;
            position: relative;
            z-index: 2;
        }

        .step-indicator {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background-color: rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            margin: 0 auto 8px;
            position: relative;
            z-index: 1;
            transition: var(--transition), background-color 0.3s ease;
        }

        [data-theme="dark"] .step-indicator {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .progress-step.active .step-indicator,
        .progress-step.completed .step-indicator {
            background-color: var(--primary);
        }

        .progress-step.completed .step-indicator {
            background-color: var(--success);
        }

        .step-label {
            font-size: 14px;
            font-weight: 500;
            transition: var(--transition), color 0.3s ease;
        }

        .progress-step.active .step-label {
            color: var(--primary);
        }

        .progress-step.completed .step-label {
            color: var(--success);
        }

        .step-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .step-content.active {
            display: block;
        }

        .resource-library {
            margin-top: 32px;
        }

        .library-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            flex-wrap: wrap;
            gap: 16px;
        }

        .search-container {
            display: flex;
            gap: 12px;
            width: 100%;
            max-width: 400px;
        }

        .search-input {
            flex: 1;
            padding: 10px 16px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: var(--border-radius);
            font-family: 'Poppins', sans-serif;
            transition: var(--transition), background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
            background-color: var(--card-bg);
            color: var(--text-primary);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(46, 125, 50, 0.2);
        }

        .resource-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 24px;
        }

        .resource-card {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition), background-color 0.3s ease;
            cursor: pointer;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .resource-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
        }

        .resource-image {
            height: 160px;
            background-color: var(--primary-light);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 48px;
            transition: var(--transition), background-color 0.3s ease;
        }

        .resource-card:hover .resource-image {
            background-color: var(--primary);
        }

        .resource-details {
            padding: 16px;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .resource-title {
            font-weight: 600;
            margin-bottom: 8px;
            transition: color 0.3s ease;
        }

        .resource-description {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 16px;
            flex: 1;
            transition: color 0.3s ease;
        }

        .resource-meta {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: var(--text-secondary);
            transition: color 0.3s ease;
        }

        .differentiation-prompts {
            margin-top: 32px;
        }

        .prompt-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
        }

        .prompt-card {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 24px;
            box-shadow: var(--shadow);
            transition: var(--transition), background-color 0.3s ease;
            cursor: pointer;
            border-left: 4px solid var(--accent);
            height: 100%;
        }

        .prompt-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
        }

        .prompt-title {
            font-weight: 600;
            margin-bottom: 16px;
            transition: color 0.3s ease;
            position: relative;
            padding-right: 30px;
        }

        .prompt-title::after {
            content: 'expand_less';
            font-family: 'Material Icons Round';
            position: absolute;
            right: 0;
            top: 0;
            color: var(--primary);
            transition: transform 0.3s ease, color 0.3s ease;
            font-size: 20px;
        }

        .prompt-card.collapsed .prompt-title::after {
            content: 'expand_more';
            transform: rotate(0deg);
        }

        .prompt-description {
            font-size: 14px;
            margin-bottom: 16px;
            transition: color 0.3s ease;
        }

        .prompt-examples {
            font-size: 14px;
            padding: 16px;
            background-color: rgba(0, 0, 0, 0.05);
            border-radius: 8px;
            margin-top: 16px;
            max-height: 300px;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease, margin 0.3s ease, background-color 0.3s ease;
        }

        [data-theme="dark"] .prompt-examples {
            background-color: rgba(255, 255, 255, 0.05);
        }

        .prompt-card.collapsed .prompt-examples {
            max-height: 0;
            padding: 0 16px;
            margin-top: 0;
        }

        .example-item {
            margin-bottom: 8px;
            padding-left: 16px;
            position: relative;
            transition: color 0.3s ease;
        }

        .example-item::before {
            content: '•';
            position: absolute;
            left: 0;
            color: var(--primary);
            transition: color 0.3s ease;
        }

        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: var(--text-primary);
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 8px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
        }

        .tooltip .tooltiptext::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--text-primary) transparent transparent transparent;
            transition: border-color 0.3s ease;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        .event-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .event-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .event-modal-content {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            padding: 24px;
            position: relative;
            transform: translateY(20px);
            transition: var(--transition), background-color 0.3s ease;
        }

        .event-modal.active .event-modal-content {
            transform: translateY(0);
        }

        .event-modal-close {
            position: absolute;
            top: 16px;
            right: 16px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 24px;
            color: var(--text-secondary);
            transition: var(--transition), color 0.3s ease;
        }

        .event-modal-close:hover {
            color: var(--error);
            transform: rotate(90deg);
        }

        .event-modal-header {
            margin-bottom: 24px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .event-modal-title {
            font-size: 20px;
            font-weight: 600;
            transition: color 0.3s ease;
        }

        .event-platform-badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }

        .event-platform-badge.instagram {
            background-color: rgba(225, 48, 108, 0.2);
            color: var(--instagram);
        }

        .event-platform-badge.tiktok {
            background-color: rgba(0, 0, 0, 0.1);
            color: var(--tiktok);
        }

        .event-platform-badge.blog {
            background-color: rgba(77, 182, 172, 0.2);
            color: var(--blog);
        }

        .event-platform-badge.newsletter {
            background-color: rgba(126, 87, 194, 0.2);
            color: var(--newsletter);
        }

        .event-date {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 16px;
            transition: color 0.3s ease;
        }

        .event-description {
            margin-bottom: 16px;
        }

        .event-actions {
            display: flex;
            justify-content: flex-end;
            gap: 12px;
        }

        .filter-container {
            display: flex;
            gap: 12px;
            margin-bottom: 16px;
            flex-wrap: wrap;
        }

        .filter-button {
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition), background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
            background-color: var(--card-bg);
            border: 1px solid rgba(0, 0, 0, 0.1);
            color: var(--text-primary);
        }

        [data-theme="dark"] .filter-button {
            border-color: rgba(255, 255, 255, 0.1);
        }

        .filter-button:hover {
            border-color: var(--primary);
        }

        .filter-button.active {
            background-color: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .filter-button.instagram.active {
            background-color: var(--instagram);
            border-color: var(--instagram);
        }

        .filter-button.tiktok.active {
            background-color: var(--tiktok);
            border-color: var(--tiktok);
        }

        .filter-button.blog.active {
            background-color: var(--blog);
            border-color: var(--blog);
        }

        .filter-button.newsletter.active {
            background-color: var(--newsletter);
            border-color: var(--newsletter);
        }

        .resource-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 8px;
        }

        .resource-tag {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            background-color: rgba(0, 0, 0, 0.05);
            color: var(--text-secondary);
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        [data-theme="dark"] .resource-tag {
            background-color: rgba(255, 255, 255, 0.05);
        }

        .loading-indicator {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 24px;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s linear infinite;
            transition: border-color 0.3s ease;
        }

        [data-theme="dark"] .spinner {
            border-color: rgba(255, 255, 255, 0.1);
            border-top-color: var(--primary);
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 24px;
            color: var(--text-primary);
            cursor: pointer;
            transition: color 0.3s ease;
        }

        @media (max-width: 1024px) {
            .app-container {
                grid-template-columns: 240px 1fr;
            }
        }

        @media (max-width: 768px) {
            .app-container {
                grid-template-columns: 1fr;
            }

            .sidebar {
                position: fixed;
                left: -280px;
                transition: left 0.3s ease;
                z-index: 100;
                height: 100vh;
                width: 280px;
            }

            .sidebar.active {
                left: 0;
            }

            .mobile-menu-toggle {
                display: block;
                margin-right: 16px;
            }

            .main-content {
                padding: 16px;
            }

            .header {
                flex-wrap: wrap;
            }

            .page-title {
                font-size: 20px;
            }

            .dashboard-grid,
            .strategy-content,
            .insights-grid,
            .resource-grid,
            .prompt-grid {
                grid-template-columns: 1fr;
            }

            .calendar-grid {
                grid-template-columns: repeat(3, 1fr);
            }

            .calendar-day-header:nth-child(n+4),
            .calendar-day:nth-child(n+22) {
                display: none;
            }

            .action-buttons {
                margin-top: 16px;
                width: 100%;
                justify-content: space-between;
            }

            .modal-content {
                max-width: 90%;
                padding: 16px;
            }
        }

        /* Accessibility focus styles */
        button:focus,
        a:focus,
        input:focus,
        select:focus,
        textarea:focus {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }

        /* Keyboard navigation indicator */
        .keyboard-focus-indicator {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--card-bg);
            padding: 8px 16px;
            border-radius: 20px;
            box-shadow: var(--shadow);
            font-size: 12px;
            display: none;
            align-items: center;
            gap: 8px;
            z-index: 1000;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .keyboard-focus-indicator.active {
            display: flex;
        }

        /* Dark mode toggle */
        .dark-mode-toggle {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background-color: var(--card-bg);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow);
            cursor: pointer;
            z-index: 1000;
            transition: var(--transition), background-color 0.3s ease;
        }

        .dark-mode-toggle:hover {
            transform: rotate(30deg);
        }

        /* Chart controls */
        .chart-controls {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 8px;
            box-shadow: var(--shadow);
            display: none;
            z-index: 10;
            transition: background-color 0.3s ease;
        }

        .chart-controls.active {
            display: block;
        }

        .chart-control-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
        }

        .chart-control-item label {
            margin-right: 8px;
            font-size: 12px;
            color: var(--text-secondary);
            transition: color 0.3s ease;
        }

        .chart-control-item select,
        .chart-control-item input {
            font-size: 12px;
            padding: 4px;
            border-radius: 4px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            background-color: var(--card-bg);
            color: var(--text-primary);
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }

        [data-theme="dark"] .chart-control-item select,
        [data-theme="dark"] .chart-control-item input {
            border-color: rgba(255, 255, 255, 0.1);
        }

        /* Enhanced tooltips */
        .enhanced-tooltip {
            position: absolute;
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 12px;
            box-shadow: var(--shadow);
            font-size: 12px;
            max-width: 250px;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease, background-color 0.3s ease;
        }

        .enhanced-tooltip.active {
            opacity: 1;
            pointer-events: auto;
        }

        .enhanced-tooltip-title {
            font-weight: 600;
            margin-bottom: 4px;
            color: var(--primary);
            transition: color 0.3s ease;
        }

        .enhanced-tooltip-content {
            line-height: 1.4;
            color: var(--text-primary);
            transition: color 0.3s ease;
        }

        /* Drag and drop visual cues */
        .calendar-day.drag-over {
            background-color: rgba(46, 125, 50, 0.1);
            border: 2px dashed var(--primary);
        }

        .calendar-event.dragging {
            opacity: 0.5;
            transform: scale(0.95);
        }

        /* Notification system */
        .notification-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 10px;
            max-width: 300px;
        }

        .notification {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 16px;
            box-shadow: var(--shadow);
            display: flex;
            align-items: flex-start;
            gap: 12px;
            transform: translateX(100%);
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease, background-color 0.3s ease;
        }

        .notification.active {
            transform: translateX(0);
            opacity: 1;
        }

        .notification-icon {
            color: var(--primary);
            font-size: 20px;
            transition: color 0.3s ease;
        }

        .notification-content {
            flex: 1;
        }

        .notification-title {
            font-weight: 600;
            margin-bottom: 4px;
            transition: color 0.3s ease;
        }

        .notification-message {
            font-size: 14px;
            color: var(--text-secondary);
            transition: color 0.3s ease;
        }

        .notification-close {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 16px;
            transition: color 0.3s ease;
        }

        .notification-close:hover {
            color: var(--error);
        }

        .notification.success .notification-icon {
            color: var(--success);
        }

        .notification.error .notification-icon {
            color: var(--error);
        }

        .notification.warning .notification-icon {
            color: var(--warning);
        }

        /* Floating action button */
        .floating-action-btn {
            position: fixed;
            bottom: 80px;
            right: 20px;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background-color: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            z-index: 90;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .floating-action-btn:hover {
            transform: scale(1.1) rotate(180deg);
            box-shadow: 0 6px 25px rgba(56, 151, 114, 0.4);
        }

        .floating-action-menu {
            position: fixed;
            bottom: 150px;
            right: 20px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            z-index: 89;
            opacity: 0;
            pointer-events: none;
            transform: translateY(20px);
            transition: var(--transition);
        }

        .floating-action-menu.active {
            opacity: 1;
            pointer-events: auto;
            transform: translateY(0);
        }

        .floating-action-item {
            display: flex;
            align-items: center;
            gap: 8px;
            background-color: var(--card-bg);
            padding: 8px 16px;
            border-radius: 20px;
            box-shadow: var(--shadow);
            cursor: pointer;
            transition: var(--transition), background-color 0.3s ease, color 0.3s ease;
        }

        .floating-action-item:hover {
            background-color: var(--primary);
            color: white;
            transform: translateX(-4px);
        }

        .floating-action-item span {
            margin-right: 8px;
        }

        .floating-action-menu.active .floating-action-item {
            animation: fadeInUp 0.3s ease forwards;
        }

        .floating-action-menu.active .floating-action-item:nth-child(1) {
            animation-delay: 0.1s;
        }

        .floating-action-menu.active .floating-action-item:nth-child(2) {
            animation-delay: 0.2s;
        }

        .floating-action-menu.active .floating-action-item:nth-child(3) {
            animation-delay: 0.3s;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px) scale(0.8);
            }

            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        /* Additional styles for enhanced functionality */
        .field-error {
            color: var(--error);
            font-size: 12px;
            margin-top: 4px;
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .form-input.error,
        .form-textarea.error,
        .form-select.error {
            border-color: var(--error);
            box-shadow: 0 0 0 3px rgba(244, 67, 54, 0.1);
        }

        .modal-body {
            padding: 20px 0;
            max-height: 400px;
            overflow-y: auto;
        }

        .performance-metrics,
        .audience-details {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .metric,
        .insight {
            padding: 12px;
            background-color: var(--background);
            border-radius: 8px;
            border-left: 4px solid var(--primary);
        }

        [data-theme="dark"] .metric,
        [data-theme="dark"] .insight {
            background-color: rgba(255, 255, 255, 0.05);
        }

        .content-suggestion {
            padding: 16px;
            margin-bottom: 16px;
            background-color: var(--background);
            border-radius: 8px;
            border-left: 4px solid var(--accent);
        }

        [data-theme="dark"] .content-suggestion {
            background-color: rgba(255, 255, 255, 0.05);
        }

        .content-suggestion h4 {
            margin: 0 0 8px 0;
            color: var(--primary);
            font-weight: 600;
        }

        .content-suggestion p {
            margin: 0 0 8px 0;
            line-height: 1.5;
        }

        .content-suggestion small {
            color: var(--text-secondary);
            font-style: italic;
        }

        .suggestions-container {
            max-height: 400px;
            overflow-y: auto;
        }

        .platform-card.highlighted {
            transform: scale(1.02);
            box-shadow: 0 8px 24px rgba(46, 125, 50, 0.2);
            border: 2px solid var(--primary);
        }

        .platform-card.primary-focus {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
        }

        .platform-card.secondary-focus {
            background: linear-gradient(135deg, var(--secondary) 0%, var(--secondary-light) 100%);
            color: white;
        }

        .resource-preview {
            padding: 20px;
        }

        .resource-preview h3 {
            margin: 0 0 16px 0;
            color: var(--primary);
        }

        .resource-preview p {
            margin: 0 0 16px 0;
            line-height: 1.6;
        }

        .resource-details ul {
            list-style: none;
            padding: 0;
            margin: 16px 0;
        }

        .resource-details li {
            padding: 8px 0;
            border-bottom: 1px solid var(--background);
            position: relative;
            padding-left: 24px;
        }

        .resource-details li::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: var(--primary);
            font-weight: bold;
        }

        /* Enhanced keyboard navigation */
        .calendar-day:focus {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }

        /* Enhanced drag and drop styles */
        .calendar-event.dragging {
            opacity: 0.5;
            transform: rotate(5deg);
            z-index: 1000;
        }

        .calendar-day.drag-over {
            background-color: rgba(46, 125, 50, 0.1);
            border: 2px dashed var(--primary);
        }

        /* Loading states */
        .loading {
            pointer-events: none;
            opacity: 0.6;
        }

        .loading::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 20px;
            height: 20px;
            margin: -10px 0 0 -10px;
            border: 2px solid var(--primary);
            border-top-color: transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        /* Responsive enhancements */
        @media (max-width: 768px) {

            .performance-metrics,
            .audience-details,
            .suggestions-container {
                padding: 0 16px;
            }

            .content-suggestion {
                margin-bottom: 12px;
                padding: 12px;
            }

            .modal-body {
                padding: 16px;
                max-height: 300px;
            }

            .resource-preview {
                padding: 16px;
            }
        }

        /* Animation enhancements */
        @keyframes slideInUp {
            from {
                transform: translateY(20px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .notification {
            animation: slideInUp 0.3s ease;
        }

        /* Focus states for better accessibility */
        button:focus-visible,
        input:focus-visible,
        textarea:focus-visible,
        select:focus-visible {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }

        /* Enhanced tooltip positioning */
        .enhanced-tooltip {
            max-width: 280px;
            word-wrap: break-word;
        }

        /* Chart container improvements */
        .chart-container {
            position: relative;
            min-height: 300px;
        }

        .chart-container canvas {
            max-height: 300px;
        }

        /* Strategy completion styles */
        .strategy-complete {
            text-align: center;
            padding: 40px 20px;
        }

        .strategy-complete .checkmark {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: var(--success);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 30px;
        }

        /* Enhanced form styles */
        .form-group.has-error .form-label {
            color: var(--error);
        }

        .form-help-text {
            font-size: 12px;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        /* Interactive elements hover states */
        .interactive-hover {
            transition: all 0.2s ease;
        }

        .interactive-hover:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        /* Brand voice enhancements */
        .voice-attribute:hover .attribute-title {
            color: var(--primary);
        }

        /* Calendar enhancements */
        .calendar-event.completed {
            opacity: 0.7;
            text-decoration: line-through;
        }

        .calendar-event.in-progress {
            border-left: 4px solid var(--warning);
        }

        .calendar-event.ready {
            border-left: 4px solid var(--success);
        }

        /* Floating Action Button Enhancements */
        .floating-action-btn {
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 4px 20px rgba(56, 151, 114, 0.3);
        }

        .floating-action-btn:hover {
            transform: scale(1.1) rotate(180deg);
            box-shadow: 0 6px 25px rgba(56, 151, 114, 0.4);
        }

        .floating-action-menu.active .floating-action-item {
            animation: fadeInUp 0.3s ease forwards;
        }

        .floating-action-menu.active .floating-action-item:nth-child(1) {
            animation-delay: 0.1s;
        }

        .floating-action-menu.active .floating-action-item:nth-child(2) {
            animation-delay: 0.2s;
        }

        .floating-action-menu.active .floating-action-item:nth-child(3) {
            animation-delay: 0.3s;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px) scale(0.8);
            }

            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        /* Form Input Styles */
        .form-input {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 14px;
            font-family: inherit;
            background-color: var(--card-bg);
            color: var(--text-primary);
            transition: all 0.2s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(56, 151, 114, 0.1);
        }

        .form-input.error {
            border-color: #dc3545;
            box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.1);
        }

        /* Enhanced Modal Styles */
        .modal-body {
            max-height: 70vh;
            overflow-y: auto;
            padding: 24px;
        }

        .modal-body::-webkit-scrollbar {
            width: 6px;
        }

        .modal-body::-webkit-scrollbar-track {
            background: var(--border-color);
            border-radius: 3px;
        }

        .modal-body::-webkit-scrollbar-thumb {
            background: var(--text-secondary);
            border-radius: 3px;
        }

        /* Content Creation Modal Styles */
        #contentCreationModal .form-group {
            margin-bottom: 20px;
        }

        #contentCreationModal .form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        /* Schedule Modal Styles */
        .optimal-times-suggestion {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 16px;
            margin-top: 20px;
        }

        .optimal-times-suggestion h4 {
            margin: 0 0 12px 0;
            color: var(--text-primary);
            font-size: 14px;
            font-weight: 600;
        }

        .time-suggestions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .time-suggestion {
            background: var(--primary);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }

        /* Idea Generator Modal Styles */
        .generated-idea-container {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 1px solid #ffc107;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }

        .generated-idea h3 {
            margin: 0 0 12px 0;
            color: #856404;
            font-size: 16px;
            font-weight: 600;
        }

        .generated-idea p {
            color: #856404;
            font-size: 14px;
            line-height: 1.5;
            margin: 0 0 20px 0;
            font-weight: 500;
        }

        .idea-tips {
            background: rgba(255, 255, 255, 0.7);
            border-radius: 8px;
            padding: 16px;
        }

        .idea-tips h4 {
            margin: 0 0 12px 0;
            color: #856404;
            font-size: 14px;
            font-weight: 600;
        }

        .idea-tips ul {
            margin: 0;
            padding-left: 20px;
        }

        .idea-tips li {
            color: #856404;
            font-size: 13px;
            line-height: 1.4;
            margin-bottom: 6px;
        }

        .idea-actions {
            display: flex;
            gap: 12px;
            margin-top: 16px;
        }

        .idea-actions .btn {
            flex: 1;
            font-size: 13px;
            padding: 8px 16px;
        }

        /* Saved Ideas Styles */
        .saved-ideas-container {
            max-height: 400px;
            overflow-y: auto;
        }

        .saved-idea-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            margin-bottom: 12px;
            background: var(--card-bg);
            transition: all 0.2s ease;
        }

        .saved-idea-item:hover {
            border-color: var(--primary);
            box-shadow: 0 2px 8px rgba(56, 151, 114, 0.1);
        }

        .saved-idea-content {
            flex: 1;
            margin-right: 16px;
        }

        .saved-idea-content p {
            margin: 0 0 4px 0;
            color: var(--text-primary);
            font-size: 14px;
            line-height: 1.4;
        }

        .saved-idea-content small {
            color: var(--text-secondary);
            font-size: 12px;
        }

        .saved-idea-actions {
            display: flex;
            gap: 8px;
        }

        .btn-small {
            padding: 6px 12px;
            font-size: 12px;
            font-weight: 500;
        }

        /* Form Validation Styles */
        .field-error {
            color: #dc3545;
            font-size: 12px;
            margin-top: 4px;
            display: block;
        }

        .form-select.error,
        .form-textarea.error {
            border-color: #dc3545;
            box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.1);
        }

        /* Enhanced Notification Styles */
        .notification {
            position: relative;
            overflow: hidden;
        }

        .notification::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: currentColor;
        }

        .notification.success::before {
            background: #28a745;
        }

        .notification.error::before {
            background: #dc3545;
        }

        .notification.info::before {
            background: #17a2b8;
        }

        /* Calendar Integration Styles */
        .calendar-event.new-content {
            background: linear-gradient(135deg, #28a745, #20c997);
            border-left: 4px solid #155724;
        }

        .calendar-event.scheduled-post {
            background: linear-gradient(135deg, #ffc107, #fd7e14);
            border-left: 4px solid #e0a800;
        }

        /* Responsive Enhancements */
        @media (max-width: 768px) {
            .modal-content {
                margin: 20px;
                max-height: calc(100vh - 40px);
            }

            .optimal-times-suggestion {
                padding: 12px;
            }

            .time-suggestions {
                justify-content: center;
            }

            .saved-idea-item {
                flex-direction: column;
                align-items: flex-start;
            }

            .saved-idea-actions {
                margin-top: 12px;
                width: 100%;
                justify-content: flex-end;
            }

            .idea-actions {
                flex-direction: column;
            }
        }

        /* Dark Mode Enhancements */
        [data-theme="dark"] .optimal-times-suggestion {
            background: linear-gradient(135deg, #2d3748 0%, #4a5568 100%);
            border-color: #4a5568;
        }

        [data-theme="dark"] .generated-idea-container {
            background: linear-gradient(135deg, #744210 0%, #975a16 100%);
            border-color: #975a16;
        }

        [data-theme="dark"] .generated-idea h3,
        [data-theme="dark"] .generated-idea p,
        [data-theme="dark"] .idea-tips h4,
        [data-theme="dark"] .idea-tips li {
            color: #fbbf24;
        }

        [data-theme="dark"] .idea-tips {
            background: rgba(0, 0, 0, 0.3);
        }

        [data-theme="dark"] .form-input {
            background-color: #2d3748;
            border-color: #4a5568;
            color: #e2e8f0;
        }

        [data-theme="dark"] .form-input:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(56, 151, 114, 0.2);
        }

        /* Animation Enhancements */
        .modal.active .modal-content {
            animation: modalSlideIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: scale(0.8) translateY(-50px);
            }

            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .floating-action-btn.active {
            transform: rotate(45deg);
        }

        /* Loading States */
        .btn.loading {
            position: relative;
            color: transparent;
        }

        .btn.loading::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 16px;
            height: 16px;
            margin-top: -8px;
            margin-left: -8px;
            border: 2px solid transparent;
            border-top: 2px solid currentColor;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }
    </style>
    <!-- jQuery CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <!-- Chart.js CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.js"></script>
</head>

<body>
    <div class="app-container">
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="logo">
                <div class="logo-icon">
                    <span class="material-icons-round">eco</span>
                </div>
                <div class="logo-text">EcoContent Hub</div>
            </div>

            <div class="nav-menu">
                <div class="nav-item active" data-section="dashboard">
                    <span class="material-icons-round">dashboard</span>
                    Dashboard
                </div>
                <div class="nav-item" data-section="strategy-builder">
                    <span class="material-icons-round">lightbulb</span>
                    Strategy Builder
                </div>
                <div class="nav-item" data-section="brand-voice">
                    <span class="material-icons-round">record_voice_over</span>
                    Brand Voice
                </div>
                <div class="nav-item" data-section="content-calendar">
                    <span class="material-icons-round">event</span>
                    Content Calendar
                </div>
                <div class="nav-item" data-section="audience-insights">
                    <span class="material-icons-round">insights</span>
                    Audience Insights
                </div>
                <div class="nav-item" data-section="resource-library">
                    <span class="material-icons-round">library_books</span>
                    Resource Library
                </div>
            </div>

            <div class="platform-section">
                <div class="section-title">Platforms</div>
                <div class="platform-item instagram" data-platform="instagram">
                    <span class="material-icons-round">photo_camera</span>
                    Instagram
                </div>
                <div class="platform-item tiktok" data-platform="tiktok">
                    <span class="material-icons-round">music_video</span>
                    TikTok
                </div>
                <div class="platform-item blog" data-platform="blog">
                    <span class="material-icons-round">article</span>
                    Blog
                </div>
                <div class="platform-item newsletter" data-platform="newsletter">
                    <span class="material-icons-round">mail</span>
                    Newsletter
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="header">
                <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle mobile menu">
                    <span class="material-icons-round">menu</span>
                </button>
                <h1 class="page-title">Content Strategy Dashboard</h1>
                <div class="action-buttons">
                    <button class="btn btn-outline" id="openResourcesBtn" aria-label="Open Resources">
                        <span class="material-icons-round">library_books</span>
                        Resources
                    </button>
                    <button class="btn btn-primary" id="createStrategyBtn" aria-label="Create New Strategy">
                        <span class="material-icons-round">add</span>
                        New Strategy
                    </button>
                </div>
            </div>

            <!-- Dashboard Cards -->
            <div class="dashboard-grid">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Content Performance</h3>
                        <div class="card-icon" style="background-color: var(--primary);">
                            <span class="material-icons-round">trending_up</span>
                        </div>
                    </div>
                    <div class="card-content">
                        <p>Your sustainable fashion content is performing well across platforms, with Instagram showing
                            the highest engagement rates.</p>
                    </div>
                    <div class="card-footer">
                        <button class="btn btn-outline" id="viewPerformanceDetails">View Details</button>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Audience Growth</h3>
                        <div class="card-icon" style="background-color: var(--accent);">
                            <span class="material-icons-round">group_add</span>
                        </div>
                    </div>
                    <div class="card-content">
                        <p>Your audience of environmentally conscious millennials has grown by 15% in the last month,
                            primarily through TikTok.</p>
                    </div>
                    <div class="card-footer">
                        <button class="btn btn-outline" id="viewAudienceDetails">View Details</button>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Content Calendar</h3>
                        <div class="card-icon" style="background-color: var(--secondary);">
                            <span class="material-icons-round">event_note</span>
                        </div>
                    </div>
                    <div class="card-content">
                        <p>You have 8 content pieces scheduled for this week across all platforms, with 2 focused on
                            sustainability education.</p>
                    </div>
                    <div class="card-footer">
                        <button class="btn btn-outline" id="viewCalendarBtn">View Calendar</button>
                    </div>
                </div>
            </div>

            <!-- Content Strategy Section -->
            <div class="strategy-card">
                <div class="strategy-header">
                    <h2 class="strategy-title">Recommended Content Strategy</h2>
                    <button class="btn btn-outline" id="editStrategyBtn">Edit Strategy</button>
                </div>
                <div class="strategy-content">
                    <div class="platform-card instagram">
                        <div class="platform-header">
                            <span class="material-icons-round">photo_camera</span>
                            <h3 class="platform-title">Instagram Strategy</h3>
                        </div>
                        <div class="platform-content">
                            <p>Focus on visually stunning product photography, behind-the-scenes content, and
                                sustainability infographics that educate your audience.</p>
                            <div class="platform-tips">
                                <div class="tip-item">
                                    <span class="material-icons-round">check_circle</span>
                                    <span>Share fabric sourcing stories with beautiful visuals</span>
                                </div>
                                <div class="tip-item">
                                    <span class="material-icons-round">check_circle</span>
                                    <span>Create carousel posts about fast fashion impact</span>
                                </div>
                                <div class="tip-item">
                                    <span class="material-icons-round">check_circle</span>
                                    <span>Highlight customer styling with your pieces</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="platform-card tiktok">
                        <div class="platform-header">
                            <span class="material-icons-round">music_video</span>
                            <h3 class="platform-title">TikTok Strategy</h3>
                        </div>
                        <div class="platform-content">
                            <p>Create engaging, authentic short-form videos that showcase your sustainable practices,
                                fabric quality comparisons, and garment longevity.</p>
                            <div class="platform-tips">
                                <div class="tip-item">
                                    <span class="material-icons-round">check_circle</span>
                                    <span>Film "Fast Fashion vs. Sustainable" comparisons</span>
                                </div>
                                <div class="tip-item">
                                    <span class="material-icons-round">check_circle</span>
                                    <span>Show your production process transparency</span>
                                </div>
                                <div class="tip-item">
                                    <span class="material-icons-round">check_circle</span>
                                    <span>Create trending challenges with sustainable themes</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="platform-card blog">
                        <div class="platform-header">
                            <span class="material-icons-round">article</span>
                            <h3 class="platform-title">Blog Strategy</h3>
                        </div>
                        <div class="platform-content">
                            <p>Develop in-depth content about sustainable fashion practices, ethical sourcing, and
                                detailed stories about your brand's environmental impact.</p>
                            <div class="platform-tips">
                                <div class="tip-item">
                                    <span class="material-icons-round">check_circle</span>
                                    <span>Write detailed sustainability reports</span>
                                </div>
                                <div class="tip-item">
                                    <span class="material-icons-round">check_circle</span>
                                    <span>Create capsule wardrobe guides with your pieces</span>
                                </div>
                                <div class="tip-item">
                                    <span class="material-icons-round">check_circle</span>
                                    <span>Interview sustainable fashion experts</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="platform-card newsletter">
                        <div class="platform-header">
                            <span class="material-icons-round">mail</span>
                            <h3 class="platform-title">Newsletter Strategy</h3>
                        </div>
                        <div class="platform-content">
                            <p>Deliver exclusive content directly to your audience, including early access to
                                collections, detailed sustainability metrics, and personal stories.</p>
                            <div class="platform-tips">
                                <div class="tip-item">
                                    <span class="material-icons-round">check_circle</span>
                                    <span>Share monthly impact metrics and achievements</span>
                                </div>
                                <div class="tip-item">
                                    <span class="material-icons-round">check_circle</span>
                                    <span>Offer subscriber-only sustainable living tips</span>
                                </div>
                                <div class="tip-item">
                                    <span class="material-icons-round">check_circle</span>
                                    <span>Feature customer stories and styling inspiration</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Brand Voice Section -->
            <div class="brand-voice-section">
                <h2 class="section-title">Brand Voice Management</h2>
                <div class="voice-attributes">
                    <div class="voice-attribute">
                        <h3 class="attribute-title">Authentic</h3>
                        <p class="attribute-description">Be transparent about your sustainable practices and challenges.
                            Share real stories and avoid greenwashing.</p>
                    </div>
                    <div class="voice-attribute">
                        <h3 class="attribute-title">Educational</h3>
                        <p class="attribute-description">Inform your audience about sustainable fashion practices,
                            materials, and environmental impact in an accessible way.</p>
                    </div>
                    <div class="voice-attribute">
                        <h3 class="attribute-title">Inspiring</h3>
                        <p class="attribute-description">Motivate your audience to make more sustainable choices without
                            guilt-tripping or shaming.</p>
                    </div>
                    <div class="voice-attribute">
                        <h3 class="attribute-title">Inclusive</h3>
                        <p class="attribute-description">Use language that welcomes everyone into the sustainability
                            conversation, regardless of their current knowledge level.</p>
                    </div>
                </div>
            </div>

            <!-- Content Calendar -->
            <div class="content-calendar">
                <div class="calendar-header">
                    <h2 class="section-title">Content Calendar</h2>
                    <div class="filter-container">
                        <button class="filter-button active" data-filter="all">All</button>
                        <button class="filter-button instagram" data-filter="instagram">Instagram</button>
                        <button class="filter-button tiktok" data-filter="tiktok">TikTok</button>
                        <button class="filter-button blog" data-filter="blog">Blog</button>
                        <button class="filter-button newsletter" data-filter="newsletter">Newsletter</button>
                    </div>
                    <div class="calendar-navigation">
                        <button class="btn btn-outline" id="prevMonth" aria-label="Previous month">
                            <span class="material-icons-round">chevron_left</span>
                        </button>
                        <div class="calendar-month" id="currentMonth">June 2023</div>
                        <button class="btn btn-outline" id="nextMonth" aria-label="Next month">
                            <span class="material-icons-round">chevron_right</span>
                        </button>
                    </div>
                </div>
                <div class="calendar-grid" id="calendarGrid">
                    <div class="calendar-day-header">Sun</div>
                    <div class="calendar-day-header">Mon</div>
                    <div class="calendar-day-header">Tue</div>
                    <div class="calendar-day-header">Wed</div>
                    <div class="calendar-day-header">Thu</div>
                    <div class="calendar-day-header">Fri</div>
                    <div class="calendar-day-header">Sat</div>

                    <div class="calendar-day" data-date="2023-05-28">
                        <div class="calendar-day-number">28</div>
                    </div>
                    <div class="calendar-day" data-date="2023-05-29">
                        <div class="calendar-day-number">29</div>
                    </div>
                    <div class="calendar-day" data-date="2023-05-30">
                        <div class="calendar-day-number">30</div>
                    </div>
                    <div class="calendar-day" data-date="2023-05-31">
                        <div class="calendar-day-number">31</div>
                        <div class="calendar-event event-instagram" data-event-id="1" draggable="true">IG: Material
                            Spotlight</div>
                    </div>
                    <div class="calendar-day" data-date="2023-06-01">
                        <div class="calendar-day-number">1</div>
                    </div>
                    <div class="calendar-day" data-date="2023-06-02">
                        <div class="calendar-day-number">2</div>
                        <div class="calendar-event event-blog" data-event-id="2" draggable="true">Blog: Sustainable
                            Summer</div>
                    </div>
                    <div class="calendar-day" data-date="2023-06-03">
                        <div class="calendar-day-number">3</div>
                    </div>

                    <div class="calendar-day" data-date="2023-06-04">
                        <div class="calendar-day-number">4</div>
                    </div>
                    <div class="calendar-day" data-date="2023-06-05">
                        <div class="calendar-day-number">5</div>
                        <div class="calendar-event event-newsletter" data-event-id="3" draggable="true">Newsletter: June
                            Edition</div>
                    </div>
                    <div class="calendar-day" data-date="2023-06-06">
                        <div class="calendar-day-number">6</div>
                    </div>
                    <div class="calendar-day" data-date="2023-06-07">
                        <div class="calendar-day-number">7</div>
                        <div class="calendar-event event-instagram" data-event-id="4" draggable="true">IG: Behind the
                            Scenes</div>
                    </div>
                    <div class="calendar-day" data-date="2023-06-08">
                        <div class="calendar-day-number">8</div>
                        <div class="calendar-event event-tiktok" data-event-id="5" draggable="true">TikTok: Fast Fashion
                            Comparison</div>
                    </div>
                    <div class="calendar-day" data-date="2023-06-09">
                        <div class="calendar-day-number">9</div>
                    </div>
                    <div class="calendar-day" data-date="2023-06-10">
                        <div class="calendar-day-number">10</div>
                    </div>

                    <div class="calendar-day" data-date="2023-06-11">
                        <div class="calendar-day-number">11</div>
                    </div>
                    <div class="calendar-day" data-date="2023-06-12">
                        <div class="calendar-day-number">12</div>
                        <div class="calendar-event event-instagram" data-event-id="6" draggable="true">IG: Customer
                            Spotlight</div>
                    </div>
                    <div class="calendar-day" data-date="2023-06-13">
                        <div class="calendar-day-number">13</div>
                    </div>
                    <div class="calendar-day" data-date="2023-06-14">
                        <div class="calendar-day-number">14</div>
                        <div class="calendar-event event-blog" data-event-id="7" draggable="true">Blog: Ethical Sourcing
                        </div>
                    </div>
                    <div class="calendar-day" data-date="2023-06-15">
                        <div class="calendar-day-number">15</div>
                        <div class="calendar-event event-tiktok" data-event-id="8" draggable="true">TikTok: Styling Tips
                        </div>
                    </div>
                    <div class="calendar-day" data-date="2023-06-16">
                        <div class="calendar-day-number">16</div>
                    </div>
                    <div class="calendar-day" data-date="2023-06-17">
                        <div class="calendar-day-number">17</div>
                    </div>

                    <div class="calendar-day" data-date="2023-06-18">
                        <div class="calendar-day-number">18</div>
                    </div>
                    <div class="calendar-day" data-date="2023-06-19">
                        <div class="calendar-day-number">19</div>
                        <div class="calendar-event event-instagram" data-event-id="9" draggable="true">IG: Infographic
                            Series</div>
                    </div>
                    <div class="calendar-day" data-date="2023-06-20">
                        <div class="calendar-day-number">20</div>
                        <div class="calendar-event event-newsletter" data-event-id="10" draggable="true">Newsletter:
                            Special Edition</div>
                    </div>
                    <div class="calendar-day" data-date="2023-06-21">
                        <div class="calendar-day-number">21</div>
                    </div>
                    <div class="calendar-day" data-date="2023-06-22">
                        <div class="calendar-day-number">22</div>
                        <div class="calendar-event event-tiktok" data-event-id="11" draggable="true">TikTok: Production
                            Tour</div>
                    </div>
                    <div class="calendar-day" data-date="2023-06-23">
                        <div class="calendar-day-number">23</div>
                    </div>
                    <div class="calendar-day" data-date="2023-06-24">
                        <div class="calendar-day-number">24</div>
                    </div>

                    <div class="calendar-day" data-date="2023-06-25">
                        <div class="calendar-day-number">25</div>
                    </div>
                    <div class="calendar-day" data-date="2023-06-26">
                        <div class="calendar-day-number">26</div>
                        <div class="calendar-event event-instagram" data-event-id="12" draggable="true">IG: New
                            Collection Teaser</div>
                    </div>
                    <div class="calendar-day" data-date="2023-06-27">
                        <div class="calendar-day-number">27</div>
                    </div>
                    <div class="calendar-day" data-date="2023-06-28">
                        <div class="calendar-day-number">28</div>
                        <div class="calendar-event event-blog" data-event-id="13" draggable="true">Blog: Capsule
                            Wardrobe Guide</div>
                    </div>
                    <div class="calendar-day" data-date="2023-06-29">
                        <div class="calendar-day-number">29</div>
                    </div>
                    <div class="calendar-day" data-date="2023-06-30">
                        <div class="calendar-day-number">30</div>
                        <div class="calendar-event event-instagram" data-event-id="14" draggable="true">IG: Month Recap
                        </div>
                    </div>
                    <div class="calendar-day" data-date="2023-07-01">
                        <div class="calendar-day-number">1</div>
                    </div>
                </div>
            </div>

            <!-- Audience Insights -->
            <div class="audience-insights">
                <h2 class="section-title">Audience Insights</h2>
                <div class="insights-grid">
                    <div class="insight-card">
                        <div class="insight-header">
                            <span class="material-icons-round">people</span>
                            <h3 class="insight-title">Demographics</h3>
                        </div>
                        <div class="chart-container">
                            <canvas id="demographicsChart"></canvas>
                            <div class="chart-tooltip" id="demographicsTooltip"></div>
                            <div class="chart-controls" id="demographicsControls">
                                <div class="chart-control-item">
                                    <label for="demoChartType">Chart Type:</label>
                                    <select id="demoChartType">
                                        <option value="pie">Pie</option>
                                        <option value="doughnut">Doughnut</option>
                                        <option value="bar">Bar</option>
                                    </select>
                                </div>
                                <div class="chart-control-item">
                                    <label for="demoLegendPosition">Legend Position:</label>
                                    <select id="demoLegendPosition">
                                        <option value="right">Right</option>
                                        <option value="top">Top</option>
                                        <option value="bottom">Bottom</option>
                                        <option value="left">Left</option>
                                    </select>
                                </div>
                                <div class="chart-control-item">
                                    <label for="demoColorScheme">Color Scheme:</label>
                                    <select id="demoColorScheme">
                                        <option value="green">Green</option>
                                        <option value="blue">Blue</option>
                                        <option value="earth">Earth Tones</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="insight-card">
                        <div class="insight-header">
                            <span class="material-icons-round">interests</span>
                            <h3 class="insight-title">Interest Areas</h3>
                        </div>
                        <div class="chart-container">
                            <canvas id="interestsChart"></canvas>
                            <div class="chart-tooltip" id="interestsTooltip"></div>
                            <div class="chart-controls" id="interestsControls">
                                <div class="chart-control-item">
                                    <label for="interestsChartType">Chart Type:</label>
                                    <select id="interestsChartType">
                                        <option value="bar">Bar</option>
                                        <option value="horizontalBar">Horizontal Bar</option>
                                        <option value="radar">Radar</option>
                                    </select>
                                </div>
                                <div class="chart-control-item">
                                    <label for="interestsBarColor">Bar Color:</label>
                                    <input type="color" id="interestsBarColor" value="#795548">
                                </div>
                                <div class="chart-control-item">
                                    <label for="interestsShowValues">Show Values:</label>
                                    <input type="checkbox" id="interestsShowValues" checked>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="insight-card">
                        <div class="insight-header">
                            <span class="material-icons-round">devices</span>
                            <h3 class="insight-title">Platform Usage</h3>
                        </div>
                        <div class="chart-container">
                            <canvas id="platformChart"></canvas>
                            <div class="chart-tooltip" id="platformTooltip"></div>
                            <div class="chart-controls" id="platformControls">
                                <div class="chart-control-item">
                                    <label for="platformChartType">Chart Type:</label>
                                    <select id="platformChartType">
                                        <option value="doughnut">Doughnut</option>
                                        <option value="pie">Pie</option>
                                        <option value="polarArea">Polar Area</option>
                                    </select>
                                </div>
                                <div class="chart-control-item">
                                    <label for="platformCutout">Cutout %:</label>
                                    <input type="range" id="platformCutout" min="0" max="90" value="50">
                                </div>
                                <div class="chart-control-item">
                                    <label for="platformShowLabels">Show Labels:</label>
                                    <input type="checkbox" id="platformShowLabels" checked>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Differentiation Prompts -->
            <div class="differentiation-prompts">
                <h2 class="section-title">Differentiation Content Prompts</h2>
                <p style="margin-bottom: 24px; color: var(--text-secondary); font-size: 14px;">💡 Click on any card to
                    expand or collapse the examples</p>
                <div class="prompt-grid">
                    <div class="prompt-card" data-prompt-id="1">
                        <h3 class="prompt-title">Transparency Storytelling</h3>
                        <p class="prompt-description">Create content that showcases your transparent supply chain and
                            ethical practices, differentiating you from fast fashion's opaque production.</p>
                        <div class="prompt-examples">
                            <div class="example-item">Factory tour videos showing fair working conditions</div>
                            <div class="example-item">Interviews with your fabric suppliers</div>
                            <div class="example-item">Cost breakdown of a sustainable garment vs. fast fashion</div>
                        </div>
                    </div>
                    <div class="prompt-card" data-prompt-id="2">
                        <h3 class="prompt-title">Quality Comparisons</h3>
                        <p class="prompt-description">Demonstrate the superior quality and longevity of your garments
                            compared to fast fashion alternatives.</p>
                        <div class="prompt-examples">
                            <div class="example-item">Wear and tear tests over time</div>
                            <div class="example-item">Close-up fabric and stitching comparisons</div>
                            <div class="example-item">Cost-per-wear calculations</div>
                        </div>
                    </div>
                    <div class="prompt-card" data-prompt-id="3">
                        <h3 class="prompt-title">Environmental Impact Education</h3>
                        <p class="prompt-description">Educate your audience about the environmental benefits of choosing
                            your brand over fast fashion alternatives.</p>
                        <div class="prompt-examples">
                            <div class="example-item">Water usage comparison infographics</div>
                            <div class="example-item">Carbon footprint reduction stories</div>
                            <div class="example-item">Waste reduction initiatives at your company</div>
                        </div>
                    </div>
                    <div class="prompt-card" data-prompt-id="4">
                        <h3 class="prompt-title">Timeless Design Philosophy</h3>
                        <p class="prompt-description">Highlight your commitment to timeless design over trendy,
                            disposable fashion that quickly becomes outdated.</p>
                        <div class="prompt-examples">
                            <div class="example-item">Design inspiration behind your collections</div>
                            <div class="example-item">Multiple styling options for versatility</div>
                            <div class="example-item">Customer stories of long-term wear</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Resource Library -->
            <div class="resource-library">
                <div class="library-header">
                    <h2 class="section-title">Resource Library</h2>
                    <div class="search-container">
                        <input type="text" class="search-input" id="resourceSearch" placeholder="Search resources..."
                            aria-label="Search resources">
                        <button class="btn btn-primary" id="searchButton" aria-label="Search">
                            <span class="material-icons-round">search</span>
                        </button>
                    </div>
                </div>
                <div class="filter-container">
                    <button class="filter-button active" data-filter="all">All Resources</button>
                    <button class="filter-button" data-filter="templates">Templates</button>
                    <button class="filter-button" data-filter="guides">Guides</button>
                    <button class="filter-button" data-filter="research">Research</button>
                    <button class="filter-button" data-filter="tools">Tools</button>
                </div>
                <div class="resource-grid" id="resourceGrid">
                    <div class="resource-card" data-resource-id="1" data-category="templates">
                        <div class="resource-image">
                            <span class="material-icons-round">photo_camera</span>
                        </div>
                        <div class="resource-details">
                            <h3 class="resource-title">Instagram Content Templates</h3>
                            <p class="resource-description">Ready-to-use templates for creating engaging Instagram posts
                                about sustainable fashion.</p>
                            <div class="resource-tags">
                                <span class="resource-tag">Instagram</span>
                                <span class="resource-tag">Templates</span>
                            </div>
                            <div class="resource-meta">
                                <span>Templates</span>
                                <span>12 items</span>
                            </div>
                        </div>
                    </div>
                    <div class="resource-card" data-resource-id="2" data-category="templates">
                        <div class="resource-image">
                            <span class="material-icons-round">article</span>
                        </div>
                        <div class="resource-details">
                            <h3 class="resource-title">Blog Post Frameworks</h3>
                            <p class="resource-description">Structured outlines for creating compelling blog content
                                about sustainable fashion topics.</p>
                            <div class="resource-tags">
                                <span class="resource-tag">Blog</span>
                                <span class="resource-tag">Frameworks</span>
                            </div>
                            <div class="resource-meta">
                                <span>Frameworks</span>
                                <span>8 items</span>
                            </div>
                        </div>
                    </div>
                    <div class="resource-card" data-resource-id="3" data-category="templates">
                        <div class="resource-image">
                            <span class="material-icons-round">music_video</span>
                        </div>
                        <div class="resource-details">
                            <h3 class="resource-title">TikTok Script Templates</h3>
                            <p class="resource-description">Script templates for creating engaging and educational
                                TikTok videos about sustainable fashion.</p>
                            <div class="resource-tags">
                                <span class="resource-tag">TikTok</span>
                                <span class="resource-tag">Scripts</span>
                            </div>
                            <div class="resource-meta">
                                <span>Templates</span>
                                <span>10 items</span>
                            </div>
                        </div>
                    </div>
                    <div class="resource-card" data-resource-id="4" data-category="templates">
                        <div class="resource-image">
                            <span class="material-icons-round">mail</span>
                        </div>
                        <div class="resource-details">
                            <h3 class="resource-title">Newsletter Templates</h3>
                            <p class="resource-description">Structured templates for creating engaging newsletters that
                                convert and retain subscribers.</p>
                            <div class="resource-tags">
                                <span class="resource-tag">Newsletter</span>
                                <span class="resource-tag">Templates</span>
                            </div>
                            <div class="resource-meta">
                                <span>Templates</span>
                                <span>6 items</span>
                            </div>
                        </div>
                    </div>
                    <div class="resource-card" data-resource-id="5" data-category="guides">
                        <div class="resource-image">
                            <span class="material-icons-round">menu_book</span>
                        </div>
                        <div class="resource-details">
                            <h3 class="resource-title">Sustainable Messaging Guide</h3>
                            <p class="resource-description">Comprehensive guide to communicating sustainability without
                                greenwashing.</p>
                            <div class="resource-tags">
                                <span class="resource-tag">Messaging</span>
                                <span class="resource-tag">Guide</span>
                            </div>
                            <div class="resource-meta">
                                <span>Guide</span>
                                <span>32 pages</span>
                            </div>
                        </div>
                    </div>
                    <div class="resource-card" data-resource-id="6" data-category="research">
                        <div class="resource-image">
                            <span class="material-icons-round">analytics</span>
                        </div>
                        <div class="resource-details">
                            <h3 class="resource-title">Millennial Consumer Report</h3>
                            <p class="resource-description">Research data on environmentally conscious millennial
                                shopping habits and content preferences.</p>
                            <div class="resource-tags">
                                <span class="resource-tag">Research</span>
                                <span class="resource-tag">Demographics</span>
                            </div>
                            <div class="resource-meta">
                                <span>Research</span>
                                <span>Updated Q2 2023</span>
                            </div>
                        </div>
                    </div>
                    <div class="resource-card" data-resource-id="7" data-category="tools">
                        <div class="resource-image">
                            <span class="material-icons-round">build</span>
                        </div>
                        <div class="resource-details">
                            <h3 class="resource-title">Sustainability Calculator</h3>
                            <p class="resource-description">Tool for calculating and communicating the environmental
                                impact of your products.</p>
                            <div class="resource-tags">
                                <span class="resource-tag">Tool</span>
                                <span class="resource-tag">Calculator</span>
                            </div>
                            <div class="resource-meta">
                                <span>Interactive Tool</span>
                                <span>Excel + Web Version</span>
                            </div>
                        </div>
                    </div>
                    <div class="resource-card" data-resource-id="8" data-category="guides">
                        <div class="resource-image">
                            <span class="material-icons-round">style</span>
                        </div>
                        <div class="resource-details">
                            <h3 class="resource-title">Visual Storytelling Guide</h3>
                            <p class="resource-description">How to tell compelling visual stories about sustainable
                                fashion across platforms.</p>
                            <div class="resource-tags">
                                <span class="resource-tag">Visual</span>
                                <span class="resource-tag">Storytelling</span>
                            </div>
                            <div class="resource-meta">
                                <span>Guide</span>
                                <span>28 pages</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Strategy Modal -->
    <div class="modal" id="strategyModal">
        <div class="modal-content">
            <button class="modal-close" id="closeStrategyModal" aria-label="Close modal">
                <span class="material-icons-round">close</span>
            </button>
            <div class="modal-header">
                <h2 class="modal-title">Create Content Strategy</h2>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
                <div class="progress-step active" data-step="1">
                    <div class="step-indicator">1</div>
                    <div class="step-label">Brand Goals</div>
                </div>
                <div class="progress-step" data-step="2">
                    <div class="step-indicator">2</div>
                    <div class="step-label">Audience</div>
                </div>
                <div class="progress-step" data-step="3">
                    <div class="step-indicator">3</div>
                    <div class="step-label">Platforms</div>
                </div>
                <div class="progress-step" data-step="4">
                    <div class="step-indicator">4</div>
                    <div class="step-label">Content Types</div>
                </div>
                <div class="progress-step" data-step="5">
                    <div class="step-indicator">5</div>
                    <div class="step-label">Schedule</div>
                </div>
            </div>

            <div class="step-content active" id="step1">
                <div class="form-group">
                    <label class="form-label" for="brandGoals">What are your primary brand goals?</label>
                    <select class="form-select" id="brandGoals" multiple aria-label="Select brand goals">
                        <option>Increase brand awareness</option>
                        <option>Educate about sustainable practices</option>
                        <option>Drive sales of specific products</option>
                        <option>Build community engagement</option>
                        <option>Differentiate from fast fashion</option>
                        <option>Showcase product quality and longevity</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label" for="valueProposition">Describe your brand's unique value
                        proposition</label>
                    <textarea class="form-textarea" id="valueProposition"
                        placeholder="What makes your sustainable fashion brand unique?"
                        aria-label="Enter your brand's unique value proposition"></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label" for="sustainabilityAspects">Key sustainability aspects to
                        highlight</label>
                    <textarea class="form-textarea" id="sustainabilityAspects"
                        placeholder="What sustainable practices or materials are most important to your brand?"
                        aria-label="Enter key sustainability aspects to highlight"></textarea>
                </div>
            </div>

            <div class="step-content" id="step2">
                <div class="form-group">
                    <label class="form-label">Target Audience Demographics</label>
                    <div class="form-group">
                        <label class="form-label" for="ageRange">Age Range</label>
                        <select class="form-select" id="ageRange" aria-label="Select age range">
                            <option>18-24</option>
                            <option selected>25-34</option>
                            <option>35-44</option>
                            <option>45-54</option>
                            <option>55+</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="primaryInterests">Primary Interests</label>
                        <select class="form-select" id="primaryInterests" multiple
                            aria-label="Select primary interests">
                            <option selected>Sustainability</option>
                            <option selected>Fashion</option>
                            <option>Minimalism</option>
                            <option>Ethical consumption</option>
                            <option>Zero waste lifestyle</option>
                            <option>Veganism</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label" for="audiencePainPoints">Audience Pain Points</label>
                    <textarea class="form-textarea" id="audiencePainPoints"
                        placeholder="What challenges does your audience face when trying to shop sustainably?"
                        aria-label="Enter audience pain points"></textarea>
                </div>
            </div>

            <div class="step-content" id="step3">
                <div class="form-group">
                    <label class="form-label">Which platforms will you focus on?</label>
                    <div class="form-group">
                        <label class="form-label" for="instagramFocus">Instagram</label>
                        <select class="form-select" id="instagramFocus" aria-label="Select Instagram focus level">
                            <option>Not a priority</option>
                            <option>Secondary focus</option>
                            <option selected>Primary focus</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="tiktokFocus">TikTok</label>
                        <select class="form-select" id="tiktokFocus" aria-label="Select TikTok focus level">
                            <option>Not a priority</option>
                            <option>Secondary focus</option>
                            <option selected>Primary focus</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="blogFocus">Blog</label>
                        <select class="form-select" id="blogFocus" aria-label="Select Blog focus level">
                            <option>Not a priority</option>
                            <option selected>Secondary focus</option>
                            <option>Primary focus</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="newsletterFocus">Newsletter</label>
                        <select class="form-select" id="newsletterFocus" aria-label="Select Newsletter focus level">
                            <option>Not a priority</option>
                            <option selected>Secondary focus</option>
                            <option>Primary focus</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="step-content" id="step4">
                <div class="form-group">
                    <label class="form-label">Content Types by Platform</label>
                    <div class="form-group">
                        <label class="form-label" for="instagramContent">Instagram</label>
                        <select class="form-select" id="instagramContent" multiple
                            aria-label="Select Instagram content types">
                            <option selected>Product photography</option>
                            <option selected>Behind-the-scenes content</option>
                            <option selected>Educational carousels</option>
                            <option>Customer testimonials</option>
                            <option>Sustainability infographics</option>
                            <option>Styling inspiration</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="tiktokContent">TikTok</label>
                        <select class="form-select" id="tiktokContent" multiple
                            aria-label="Select TikTok content types">
                            <option selected>Fast fashion comparisons</option>
                            <option>Production process videos</option>
                            <option selected>Styling tutorials</option>
                            <option>Educational content</option>
                            <option>Trending challenges</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="blogContent">Blog</label>
                        <select class="form-select" id="blogContent" multiple aria-label="Select Blog content types">
                            <option selected>Sustainability deep dives</option>
                            <option>Ethical fashion guides</option>
                            <option>Brand stories</option>
                            <option selected>Capsule wardrobe tips</option>
                            <option>Industry insights</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="newsletterContent">Newsletter</label>
                        <select class="form-select" id="newsletterContent" multiple
                            aria-label="Select Newsletter content types">
                            <option selected>Exclusive content</option>
                            <option>Early access to collections</option>
                            <option selected>Sustainability metrics</option>
                            <option>Curated resources</option>
                            <option>Community spotlights</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="step-content" id="step5">
                <div class="form-group">
                    <label class="form-label">Content Frequency</label>
                    <div class="form-group">
                        <label class="form-label" for="instagramFrequency">Instagram</label>
                        <select class="form-select" id="instagramFrequency"
                            aria-label="Select Instagram posting frequency">
                            <option>Daily</option>
                            <option selected>3-4 times per week</option>
                            <option>1-2 times per week</option>
                            <option>A few times per month</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="tiktokFrequency">TikTok</label>
                        <select class="form-select" id="tiktokFrequency" aria-label="Select TikTok posting frequency">
                            <option>Daily</option>
                            <option selected>3-4 times per week</option>
                            <option>1-2 times per week</option>
                            <option>A few times per month</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="blogFrequency">Blog</label>
                        <select class="form-select" id="blogFrequency" aria-label="Select Blog posting frequency">
                            <option>Multiple times per week</option>
                            <option>Weekly</option>
                            <option selected>Bi-weekly</option>
                            <option>Monthly</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="newsletterFrequency">Newsletter</label>
                        <select class="form-select" id="newsletterFrequency" aria-label="Select Newsletter frequency">
                            <option>Weekly</option>
                            <option selected>Bi-weekly</option>
                            <option>Monthly</option>
                            <option>Quarterly</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label" for="keyDates">Key Dates & Campaigns</label>
                    <textarea class="form-textarea" id="keyDates"
                        placeholder="List any important dates, product launches, or seasonal campaigns to plan for"
                        aria-label="Enter key dates and campaigns"></textarea>
                </div>
            </div>

            <div class="form-actions">
                <button class="btn btn-outline" id="prevStepBtn">Previous</button>
                <button class="btn btn-primary" id="nextStepBtn">Next</button>
            </div>
        </div>
    </div>

    <!-- Event Modal -->
    <div class="event-modal" id="eventModal">
        <div class="event-modal-content">
            <button class="event-modal-close" id="closeEventModal" aria-label="Close event modal">
                <span class="material-icons-round">close</span>
            </button>
            <div class="event-modal-header">
                <h3 class="event-modal-title" id="eventTitle">Event Title</h3>
                <div class="event-platform-badge" id="eventPlatform">Platform</div>
            </div>
            <div class="event-date" id="eventDate">Date: June 12, 2023</div>
            <div class="form-group">
                <label class="form-label" for="eventDescription">Description</label>
                <textarea class="form-textarea" id="eventDescription" placeholder="Event description"
                    aria-label="Event description"></textarea>
            </div>
            <div class="form-group">
                <label class="form-label" for="eventStatus">Status</label>
                <select class="form-select" id="eventStatus" aria-label="Event status">
                    <option>Planning</option>
                    <option>In Progress</option>
                    <option>Ready to Publish</option>
                    <option>Published</option>
                </select>
            </div>
            <div class="event-actions">
                <button class="btn btn-outline" id="deleteEventBtn">
                    <span class="material-icons-round">delete</span>
                    Delete
                </button>
                <button class="btn btn-outline" id="duplicateEventBtn">
                    <span class="material-icons-round">content_copy</span>
                    Duplicate
                </button>
                <button class="btn btn-primary" id="saveEventBtn">
                    <span class="material-icons-round">save</span>
                    Save
                </button>
            </div>
        </div>
    </div>

    <!-- Resource Viewer Modal -->
    <div class="modal" id="resourceViewerModal">
        <div class="modal-content">
            <button class="modal-close" id="closeResourceViewerModal" aria-label="Close resource viewer">
                <span class="material-icons-round">close</span>
            </button>
            <div class="modal-header">
                <h2 class="modal-title" id="resourceViewerTitle">Resource Title</h2>
            </div>
            <div id="resourceViewerContent">
                <!-- Resource content will be loaded here -->
            </div>
            <div class="form-actions">
                <button class="btn btn-outline" id="downloadResourceBtn">
                    <span class="material-icons-round">download</span>
                    Download
                </button>
                <button class="btn btn-primary" id="useResourceBtn">
                    <span class="material-icons-round">add_circle</span>
                    Use This Resource
                </button>
            </div>
        </div>
    </div>

    <!-- Enhanced Tooltip -->
    <div class="enhanced-tooltip" id="enhancedTooltip">
        <div class="enhanced-tooltip-title" id="enhancedTooltipTitle">Tooltip Title</div>
        <div class="enhanced-tooltip-content" id="enhancedTooltipContent">Tooltip content goes here.</div>
    </div>

    <!-- Notification Container -->
    <div class="notification-container" id="notificationContainer">
        <!-- Notifications will be added here -->
    </div>

    <!-- Floating Action Button and Menu -->
    <div class="floating-action-btn" id="floatingActionBtn">
        <span class="material-icons-round">add</span>
    </div>
    <div class="floating-action-menu" id="floatingActionMenu">
        <div class="floating-action-item" id="createContentBtn">
            <span class="material-icons-round">post_add</span>
            <span>Create Content</span>
        </div>
        <div class="floating-action-item" id="schedulePostBtn">
            <span class="material-icons-round">event</span>
            <span>Schedule Post</span>
        </div>
        <div class="floating-action-item" id="generateIdeasBtn">
            <span class="material-icons-round">lightbulb</span>
            <span>Generate Ideas</span>
        </div>
    </div>

    <!-- Keyboard Navigation Indicator -->
    <div class="keyboard-focus-indicator" id="keyboardIndicator">
        <span class="material-icons-round">keyboard</span>
        <span>Keyboard navigation active</span>
    </div>

    <!-- Dark Mode Toggle -->
    <div class="dark-mode-toggle" id="darkModeToggle" aria-label="Toggle dark mode">
        <span class="material-icons-round">dark_mode</span>
    </div>

    <script>
        $(document).ready(function () {
            // Global state management
            const AppState = {
                currentStep: 1,
                totalSteps: 5,
                currentEvent: null,
                isDragging: false,
                draggedEvent: null,
                isUsingKeyboard: false,
                isDarkMode: false,
                currentMonth: { month: 5, year: 2023 }, // June 2023
                activeFilters: { platform: 'all', category: 'all' },
                floatingMenuOpen: false,
                charts: {},
                colorSchemes: {
                    green: ['#2e7d32', '#60ad5e', '#a5d6a7', '#c8e6c9'],
                    blue: ['#1976d2', '#42a5f5', '#90caf9', '#bbdefb'],
                    earth: ['#795548', '#a1887f', '#bcaaa4', '#d7ccc8']
                },
                sampleData: {
                    demographics: {
                        labels: ['25-30', '31-35', '36-40', '41-45'],
                        data: [35, 28, 22, 15]
                    },
                    interests: {
                        labels: ['Sustainability', 'Ethical Fashion', 'Minimalism', 'Zero Waste', 'Veganism'],
                        data: [85, 78, 65, 58, 42]
                    },
                    platforms: {
                        labels: ['Instagram', 'TikTok', 'Blog', 'Newsletter'],
                        data: [45, 30, 15, 10]
                    }
                }
            };

            // Initialize the application
            function initializeApp() {
                setupEventListeners();
                initializeCharts();
                markTodayInCalendar();
                checkDarkModePreference();
                initializeTooltips();
                initializeKeyboardNavigation();
                updateProgressBar();
                loadResourceLibrary();

                // Show welcome notification
                // showNotification('success', 'Welcome!', 'Content Strategy Hub loaded successfully');
            }

            // Event Listeners Setup
            function setupEventListeners() {
                // Mobile menu toggle
                $('#mobileMenuToggle').on('click', function () {
                    $('#sidebar').toggleClass('active');
                });

                // Navigation items
                $('.nav-item').on('click', function () {
                    $('.nav-item').removeClass('active');
                    $(this).addClass('active');
                    const section = $(this).data('section');
                    navigateToSection(section);
                });

                // Platform items
                $('.platform-item').on('click', function () {
                    const platform = $(this).data('platform');
                    filterContentByPlatform(platform);
                });

                // Strategy modal
                $('#createStrategyBtn, #editStrategyBtn').on('click', function () {
                    $('#strategyModal').addClass('active');
                    resetStrategyForm();
                });

                $('#closeStrategyModal').on('click', function () {
                    $('#strategyModal').removeClass('active');
                });

                // Strategy wizard navigation
                $('#nextStepBtn').on('click', function () {
                    if (validateCurrentStep()) {
                        nextStep();
                    }
                });

                $('#prevStepBtn').on('click', function () {
                    prevStep();
                });

                // Calendar navigation
                $('#prevMonth').on('click', function () {
                    navigateMonth(-1);
                });

                $('#nextMonth').on('click', function () {
                    navigateMonth(1);
                });

                // Calendar events
                $('.calendar-event').on('click', function (e) {
                    e.stopPropagation();
                    const eventId = $(this).data('event-id');
                    openEventModal(eventId);
                });

                // Event modal
                $('#closeEventModal').on('click', function () {
                    $('#eventModal').removeClass('active');
                });

                $('#saveEventBtn').on('click', function () {
                    saveEvent();
                });

                $('#deleteEventBtn').on('click', function () {
                    deleteEvent();
                });

                $('#duplicateEventBtn').on('click', function () {
                    duplicateEvent();
                });

                // Filter buttons
                $('.filter-button').on('click', function () {
                    const filter = $(this).data('filter');
                    const filterType = $(this).closest('.filter-container').hasClass('calendar-header') ? 'platform' : 'category';
                    applyFilter(filterType, filter);
                });

                // Resource search
                $('#resourceSearch').on('input', function () {
                    const searchTerm = $(this).val();
                    searchResources(searchTerm);
                });

                $('#searchButton').on('click', function () {
                    const searchTerm = $('#resourceSearch').val();
                    searchResources(searchTerm);
                });

                // Resource cards
                $('.resource-card').on('click', function () {
                    const resourceId = $(this).data('resource-id');
                    openResourceViewer(resourceId);
                });

                // Resource viewer modal
                $('#closeResourceViewerModal').on('click', function () {
                    $('#resourceViewerModal').removeClass('active');
                });

                $('#downloadResourceBtn').on('click', function () {
                    downloadResource();
                });

                $('#useResourceBtn').on('click', function () {
                    useResource();
                });

                // Dark mode toggle
                $('#darkModeToggle').on('click', function () {
                    toggleDarkMode();
                });

                // Floating action button
                $('#floatingActionBtn').on('click', function () {
                    toggleFloatingMenu();
                });

                // Floating action menu items
                $('#createContentBtn').on('click', function () {
                    createContent();
                });

                $('#schedulePostBtn').on('click', function () {
                    schedulePost();
                });

                $('#generateIdeasBtn').on('click', function () {
                    generateIdeas();
                });

                // Prompt cards toggle functionality
                $('.prompt-card').on('click', function () {
                    $(this).toggleClass('collapsed');

                    // Add visual feedback
                    if ($(this).hasClass('collapsed')) {
                        $(this).find('.prompt-examples').slideUp(300);
                    } else {
                        $(this).find('.prompt-examples').slideDown(300);
                    }
                });

                // Dashboard action buttons
                $('#viewPerformanceDetails').on('click', function () {
                    showPerformanceDetails();
                });

                $('#viewAudienceDetails').on('click', function () {
                    showAudienceDetails();
                });

                $('#viewCalendarBtn').on('click', function () {
                    navigateToSection('content-calendar');
                });

                $('#openResourcesBtn').on('click', function () {
                    navigateToSection('resource-library');
                });

                // Chart controls
                setupChartControls();

                // Keyboard navigation
                $(document).on('keydown', function (e) {
                    handleKeyboardNavigation(e);
                });

                // Close modals on escape
                $(document).on('keydown', function (e) {
                    if (e.key === 'Escape') {
                        $('.modal.active, .event-modal.active').removeClass('active');
                        hideFloatingMenu();
                    }
                });

                // Close modals on outside click
                $('.modal, .event-modal').on('click', function (e) {
                    if (e.target === this) {
                        $(this).removeClass('active');
                    }
                });

                // Drag and drop for calendar events
                setupDragAndDrop();

                // Form validation
                setupFormValidation();
            }

            // Navigation Functions
            function navigateToSection(section) {
                // Hide all sections first
                $('.dashboard-grid, .strategy-card, .brand-voice-section, .content-calendar, .audience-insights, .differentiation-prompts, .resource-library').hide();

                // Update page title
                let title = 'Content Strategy Dashboard';

                switch (section) {
                    case 'dashboard':
                        $('.dashboard-grid, .strategy-card').show();
                        title = 'Content Strategy Dashboard';
                        break;
                    case 'strategy-builder':
                        $('.differentiation-prompts').show();
                        title = 'Strategy Builder';
                        break;
                    case 'brand-voice':
                        $('.brand-voice-section').show();
                        title = 'Brand Voice Management';
                        break;
                    case 'content-calendar':
                        $('.content-calendar').show();
                        title = 'Content Calendar';
                        break;
                    case 'audience-insights':
                        $('.audience-insights').show();
                        title = 'Audience Insights';
                        break;
                    case 'resource-library':
                        $('.resource-library').show();
                        title = 'Resource Library';
                        break;
                }

                $('.page-title').text(title);

                // Update navigation state
                $('.nav-item').removeClass('active');
                $(`.nav-item[data-section="${section}"]`).addClass('active');

                // showNotification('info', 'Navigation', `Switched to ${title}`);
            }

            // Strategy Wizard Functions
            function nextStep() {
                if (AppState.currentStep < AppState.totalSteps) {
                    AppState.currentStep++;
                    updateStepDisplay();
                    updateProgressBar();
                }
            }

            function prevStep() {
                if (AppState.currentStep > 1) {
                    AppState.currentStep--;
                    updateStepDisplay();
                    updateProgressBar();
                }
            }

            function updateStepDisplay() {
                $('.step-content').removeClass('active');
                $(`#step${AppState.currentStep}`).addClass('active');

                $('.progress-step').removeClass('active completed');

                for (let i = 1; i <= AppState.totalSteps; i++) {
                    if (i < AppState.currentStep) {
                        $(`.progress-step[data-step="${i}"]`).addClass('completed');
                    } else if (i === AppState.currentStep) {
                        $(`.progress-step[data-step="${i}"]`).addClass('active');
                    }
                }

                // Update button states
                $('#prevStepBtn').prop('disabled', AppState.currentStep === 1);
                $('#nextStepBtn').text(AppState.currentStep === AppState.totalSteps ? 'Complete' : 'Next');

                if (AppState.currentStep === AppState.totalSteps) {
                    $('#nextStepBtn').off('click').on('click', function () {
                        completeStrategy();
                    });
                }
            }

            function updateProgressBar() {
                const progress = ((AppState.currentStep - 1) / (AppState.totalSteps - 1)) * 100;
                $('#progressBar').css('width', `${progress}%`);
            }

            function validateCurrentStep() {
                let isValid = true;
                const currentStepElement = $(`#step${AppState.currentStep}`);

                // Check required fields in current step
                currentStepElement.find('textarea[required], select[required]').each(function () {
                    if (!$(this).val() || $(this).val().length === 0) {
                        $(this).addClass('error');
                        isValid = false;
                    } else {
                        $(this).removeClass('error');
                    }
                });

                if (!isValid) {
                    showNotification('error', 'Validation Error', 'Please fill in all required fields');
                }

                return isValid;
            }

            function resetStrategyForm() {
                AppState.currentStep = 1;
                updateStepDisplay();
                updateProgressBar();

                // Clear all form fields
                $('#strategyModal input, #strategyModal textarea, #strategyModal select').val('').removeClass('error');

                // Reset multi-selects
                $('#strategyModal select[multiple]').each(function () {
                    $(this).find('option').prop('selected', false);
                });
            }

            function completeStrategy() {
                // Collect form data
                const strategyData = {
                    brandGoals: $('#brandGoals').val(),
                    valueProposition: $('#valueProposition').val(),
                    sustainabilityAspects: $('#sustainabilityAspects').val(),
                    ageRange: $('#ageRange').val(),
                    primaryInterests: $('#primaryInterests').val(),
                    audiencePainPoints: $('#audiencePainPoints').val(),
                    platforms: {
                        instagram: $('#instagramFocus').val(),
                        tiktok: $('#tiktokFocus').val(),
                        blog: $('#blogFocus').val(),
                        newsletter: $('#newsletterFocus').val()
                    },
                    contentTypes: {
                        instagram: $('#instagramContent').val(),
                        tiktok: $('#tiktokContent').val(),
                        blog: $('#blogContent').val(),
                        newsletter: $('#newsletterContent').val()
                    },
                    frequency: {
                        instagram: $('#instagramFrequency').val(),
                        tiktok: $('#tiktokFrequency').val(),
                        blog: $('#blogFrequency').val(),
                        newsletter: $('#newsletterFrequency').val()
                    },
                    keyDates: $('#keyDates').val()
                };

                // Save strategy
                localStorage.setItem('contentStrategy', JSON.stringify(strategyData));

                // Close modal
                $('#strategyModal').removeClass('active');

                // Show success message
                showNotification('success', 'Strategy Created', 'Your content strategy has been saved successfully!');

                // Update dashboard with new strategy
                updateDashboardWithStrategy(strategyData);
            }

            function updateDashboardWithStrategy(strategy) {
                // Update strategy recommendations based on user input
                updateStrategyRecommendations(strategy);

                // Update calendar with suggested content schedule
                generateContentSchedule(strategy);
            }

            // Calendar Functions
            function navigateMonth(direction) {
                AppState.currentMonth.month += direction;

                if (AppState.currentMonth.month > 11) {
                    AppState.currentMonth.month = 0;
                    AppState.currentMonth.year++;
                } else if (AppState.currentMonth.month < 0) {
                    AppState.currentMonth.month = 11;
                    AppState.currentMonth.year--;
                }

                updateCalendarDisplay();
            }

            function updateCalendarDisplay() {
                const monthNames = [
                    'January', 'February', 'March', 'April', 'May', 'June',
                    'July', 'August', 'September', 'October', 'November', 'December'
                ];

                $('#currentMonth').text(`${monthNames[AppState.currentMonth.month]} ${AppState.currentMonth.year}`);

                // Update calendar grid
                generateCalendarDays();
                markTodayInCalendar();
            }

            function generateCalendarDays() {
                // This would generate calendar days based on current month
                // For now, we'll keep the existing static calendar
                // showNotification('info', 'Calendar', `Showing ${$('#currentMonth').text()}`);
            }

            function markTodayInCalendar() {
                const today = new Date();
                const todayString = today.toISOString().split('T')[0];

                $('.calendar-day').removeClass('today');
                $(`.calendar-day[data-date="${todayString}"]`).addClass('today');
            }

            // Event Management Functions
            function openEventModal(eventId) {
                const event = getEventById(eventId);
                if (!event) return;

                AppState.currentEvent = event;

                $('#eventTitle').text(event.title);
                $('#eventPlatform').text(event.platform).removeClass().addClass(`event-platform-badge ${event.platform}`);
                $('#eventDate').text(`Date: ${event.date}`);
                $('#eventDescription').val(event.description || '');
                $('#eventStatus').val(event.status || 'Planning');

                $('#eventModal').addClass('active');
            }

            function getEventById(eventId) {
                // Mock event data - in real app this would come from database
                const events = {
                    1: { id: 1, title: 'Material Spotlight', platform: 'instagram', date: 'May 31, 2023', description: 'Showcase sustainable materials used in our latest collection' },
                    2: { id: 2, title: 'Sustainable Summer', platform: 'blog', date: 'June 2, 2023', description: 'Blog post about summer sustainable fashion trends' },
                    3: { id: 3, title: 'June Edition', platform: 'newsletter', date: 'June 5, 2023', description: 'Monthly newsletter with sustainability updates' }
                };

                return events[eventId];
            }

            function saveEvent() {
                if (!AppState.currentEvent) return;

                // Update event data
                AppState.currentEvent.description = $('#eventDescription').val();
                AppState.currentEvent.status = $('#eventStatus').val();

                // Save to local storage or send to server
                showNotification('success', 'Event Saved', 'Event details have been updated');

                $('#eventModal').removeClass('active');
            }

            function deleteEvent() {
                if (!AppState.currentEvent) return;

                if (confirm('Are you sure you want to delete this event?')) {
                    // Remove event from calendar
                    $(`.calendar-event[data-event-id="${AppState.currentEvent.id}"]`).remove();

                    showNotification('success', 'Event Deleted', 'Event has been removed from calendar');
                    $('#eventModal').removeClass('active');
                }
            }

            function duplicateEvent() {
                if (!AppState.currentEvent) return;

                // Create duplicate event
                const newEvent = { ...AppState.currentEvent };
                newEvent.id = Date.now(); // Generate new ID
                newEvent.title = `${newEvent.title} (Copy)`;

                showNotification('success', 'Event Duplicated', 'Event has been duplicated');
                $('#eventModal').removeClass('active');
            }

            // Filter Functions
            function applyFilter(filterType, filter) {
                AppState.activeFilters[filterType] = filter;

                // Update button states
                $(`.filter-button`).removeClass('active');
                $(`.filter-button[data-filter="${filter}"]`).addClass('active');

                if (filterType === 'platform') {
                    filterCalendarEvents(filter);
                } else {
                    filterResources(filter);
                }
            }

            function filterCalendarEvents(platform) {
                if (platform === 'all') {
                    $('.calendar-event').show();
                } else {
                    $('.calendar-event').hide();
                    $(`.event-${platform}`).show();
                }

                // showNotification('info', 'Filter Applied', `Showing ${platform === 'all' ? 'all' : platform} events`);
            }

            function filterContentByPlatform(platform) {
                // Highlight platform-specific content
                $('.platform-card').removeClass('highlighted');
                $(`.platform-card.${platform}`).addClass('highlighted');

                // showNotification('info', 'Platform Focus', `Focused on ${platform} content strategy`);
            }

            // Resource Library Functions
            function loadResourceLibrary() {
                // Resources are already in HTML, this function would typically load from API
                setupResourceSearch();
            }

            function setupResourceSearch() {
                $('#resourceSearch').on('input', function () {
                    const searchTerm = $(this).val().toLowerCase();
                    searchResources(searchTerm);
                });
            }

            function searchResources(searchTerm) {
                if (!searchTerm) {
                    $('.resource-card').show();
                    return;
                }

                $('.resource-card').each(function () {
                    const title = $(this).find('.resource-title').text().toLowerCase();
                    const description = $(this).find('.resource-description').text().toLowerCase();
                    const tags = $(this).find('.resource-tag').map(function () {
                        return $(this).text().toLowerCase();
                    }).get().join(' ');

                    if (title.includes(searchTerm) || description.includes(searchTerm) || tags.includes(searchTerm)) {
                        $(this).show();
                    } else {
                        $(this).hide();
                    }
                });

                const visibleCount = $('.resource-card:visible').length;
                // showNotification('info', 'Search Results', `Found ${visibleCount} resources matching "${searchTerm}"`);
            }

            function filterResources(category) {
                if (category === 'all') {
                    $('.resource-card').show();
                } else {
                    $('.resource-card').hide();
                    $(`.resource-card[data-category="${category}"]`).show();
                }

                const visibleCount = $('.resource-card:visible').length;
                // showNotification('info', 'Filter Applied', `Showing ${visibleCount} ${category} resources`);
            }

            function openResourceViewer(resourceId) {
                const resource = getResourceById(resourceId);
                if (!resource) return;

                $('#resourceViewerTitle').text(resource.title);
                $('#resourceViewerContent').html(generateResourceContent(resource));
                $('#resourceViewerModal').addClass('active');
            }

            function getResourceById(resourceId) {
                // Mock resource data
                const resources = {
                    1: { id: 1, title: 'Instagram Content Templates', type: 'templates', description: 'Ready-to-use templates for sustainable fashion posts' },
                    2: { id: 2, title: 'Blog Post Frameworks', type: 'frameworks', description: 'Structured outlines for blog content' },
                    3: { id: 3, title: 'TikTok Script Templates', type: 'scripts', description: 'Video script templates for TikTok' }
                };

                return resources[resourceId];
            }

            function generateResourceContent(resource) {
                return `
            <div class="resource-preview">
                <h3>${resource.title}</h3>
                <p>${resource.description}</p>
                <div class="resource-details">
                    <p>This resource includes comprehensive templates and guidelines for creating engaging ${resource.type} that align with sustainable fashion messaging.</p>
                    <ul>
                        <li>Professional design templates</li>
                        <li>Copywriting guidelines</li>
                        <li>Best practices for engagement</li>
                        <li>Sustainability messaging tips</li>
                    </ul>
                </div>
            </div>
        `;
            }

            function downloadResource() {
                showNotification('success', 'Download Started', 'Resource download has begun');
                // In real app, this would trigger actual download
            }

            function useResource() {
                showNotification('success', 'Resource Added', 'Resource has been added to your workspace');
                $('#resourceViewerModal').removeClass('active');
            }

            // Chart Functions
            function initializeCharts() {
                createDemographicsChart();
                createInterestsChart();
                createPlatformChart();
            }

            function createDemographicsChart() {
                const ctx = document.getElementById('demographicsChart');
                if (!ctx) return;

                AppState.charts.demographics = new Chart(ctx, {
                    type: 'pie',
                    data: {
                        labels: AppState.sampleData.demographics.labels,
                        datasets: [{
                            data: AppState.sampleData.demographics.data,
                            backgroundColor: AppState.colorSchemes.green,
                            borderWidth: 2,
                            borderColor: '#ffffff'
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: {
                                position: 'right'
                            },
                            tooltip: {
                                callbacks: {
                                    label: function (context) {
                                        return `${context.label}: ${context.parsed}%`;
                                    }
                                }
                            }
                        }
                    }
                });
            }

            function createInterestsChart() {
                const ctx = document.getElementById('interestsChart');
                if (!ctx) return;

                AppState.charts.interests = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: AppState.sampleData.interests.labels,
                        datasets: [{
                            label: 'Interest Level (%)',
                            data: AppState.sampleData.interests.data,
                            backgroundColor: '#795548',
                            borderColor: '#5d4037',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 100
                            }
                        },
                        plugins: {
                            legend: {
                                display: false
                            }
                        }
                    }
                });
            }

            function createPlatformChart() {
                const ctx = document.getElementById('platformChart');
                if (!ctx) return;

                AppState.charts.platform = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: AppState.sampleData.platforms.labels,
                        datasets: [{
                            data: AppState.sampleData.platforms.data,
                            backgroundColor: ['#e1306c', '#000000', '#4db6ac', '#7e57c2'],
                            borderWidth: 2,
                            borderColor: '#ffffff'
                        }]
                    },
                    options: {
                        responsive: true,
                        cutout: '50%',
                        plugins: {
                            legend: {
                                position: 'bottom'
                            }
                        }
                    }
                });
            }

            function setupChartControls() {
                // Demographics chart controls
                $('#demoChartType').on('change', function () {
                    updateChartType('demographics', $(this).val());
                });

                $('#demoLegendPosition').on('change', function () {
                    updateChartLegend('demographics', $(this).val());
                });

                $('#demoColorScheme').on('change', function () {
                    updateChartColors('demographics', $(this).val());
                });

                // Similar controls for other charts...

                // Chart control toggles
                $('.insight-card').on('click', '.insight-header', function () {
                    const controls = $(this).closest('.insight-card').find('.chart-controls');
                    controls.toggleClass('active');
                });
            }

            function updateChartType(chartName, type) {
                if (AppState.charts[chartName]) {
                    AppState.charts[chartName].config.type = type;
                    AppState.charts[chartName].update();
                }
            }

            function updateChartLegend(chartName, position) {
                if (AppState.charts[chartName]) {
                    AppState.charts[chartName].options.plugins.legend.position = position;
                    AppState.charts[chartName].update();
                }
            }

            function updateChartColors(chartName, scheme) {
                if (AppState.charts[chartName]) {
                    AppState.charts[chartName].data.datasets[0].backgroundColor = AppState.colorSchemes[scheme];
                    AppState.charts[chartName].update();
                }
            }

            // UI Enhancement Functions
            function showNotification(type, title, message, duration = 5000) {
                const notification = $(`
            <div class="notification ${type}">
                <div class="notification-icon">
                    <span class="material-icons-round">${type === 'success' ? 'check_circle' : type === 'error' ? 'error' : 'info'}</span>
                </div>
                <div class="notification-content">
                    <div class="notification-title">${title}</div>
                    <div class="notification-message">${message}</div>
                </div>
                <button class="notification-close" aria-label="Close notification">
                    <span class="material-icons-round">close</span>
                </button>
            </div>
        `);

                $('#notificationContainer').append(notification);

                // Add event listener to close button
                notification.find('.notification-close').on('click', function () {
                    notification.removeClass('active');
                    setTimeout(() => notification.remove(), 300);
                });

                // Show notification with animation
                setTimeout(() => notification.addClass('active'), 10);

                // Auto-remove after duration
                if (duration) {
                    setTimeout(() => {
                        if (notification.parent().length) {
                            notification.removeClass('active');
                            setTimeout(() => notification.remove(), 300);
                        }
                    }, duration);
                }
            }

            function toggleDarkMode() {
                AppState.isDarkMode = !AppState.isDarkMode;

                if (AppState.isDarkMode) {
                    $('body').attr('data-theme', 'dark');
                    $('#darkModeToggle').html('<span class="material-icons-round">light_mode</span>');
                } else {
                    $('body').removeAttr('data-theme');
                    $('#darkModeToggle').html('<span class="material-icons-round">dark_mode</span>');
                }

                // Save preference
                localStorage.setItem('darkMode', AppState.isDarkMode);

                // Update charts for dark mode
                updateChartsForTheme();

                // showNotification('info', 'Theme Changed', `Switched to ${AppState.isDarkMode ? 'dark' : 'light'} mode`);
            }

            function checkDarkModePreference() {
                const savedPreference = localStorage.getItem('darkMode');
                const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

                if (savedPreference === 'true' || (!savedPreference && prefersDark)) {
                    toggleDarkMode();
                }
            }

            function updateChartsForTheme() {
                // Update chart colors for current theme
                Object.keys(AppState.charts).forEach(chartName => {
                    if (AppState.charts[chartName]) {
                        AppState.charts[chartName].update();
                    }
                });
            }

            function toggleFloatingMenu() {
                AppState.floatingMenuOpen = !AppState.floatingMenuOpen;

                if (AppState.floatingMenuOpen) {
                    $('#floatingActionMenu').addClass('active');
                    $('#floatingActionBtn').html('<span class="material-icons-round">close</span>');
                } else {
                    hideFloatingMenu();
                }
            }

            function hideFloatingMenu() {
                AppState.floatingMenuOpen = false;
                $('#floatingActionMenu').removeClass('active');
                $('#floatingActionBtn').html('<span class="material-icons-round">add</span>');
            }

            function initializeTooltips() {
                // Initialize enhanced tooltips
                $('[data-tooltip]').each(function () {
                    $(this).on('mouseenter', function (e) {
                        showEnhancedTooltip(e);
                    }).on('mouseleave', function () {
                        hideEnhancedTooltip();
                    });
                });
            }

            function showEnhancedTooltip(e) {
                const element = $(e.currentTarget);
                const title = element.data('tooltip-title') || '';
                const content = element.data('tooltip') || '';

                $('#enhancedTooltipTitle').text(title);
                $('#enhancedTooltipContent').text(content);

                const rect = element[0].getBoundingClientRect();
                $('#enhancedTooltip').css({
                    left: `${rect.left + (rect.width / 2) - 125}px`,
                    top: `${rect.top - $('#enhancedTooltip').outerHeight() - 10}px`
                }).addClass('active');
            }

            function hideEnhancedTooltip() {
                $('#enhancedTooltip').removeClass('active');
            }

            // Content Creation Functions
            function createContent() {
                hideFloatingMenu();

                const contentCreationModal = `
            <div class="modal active" id="contentCreationModal">
                <div class="modal-content">
                    <button class="modal-close" id="closeContentCreationModal" aria-label="Close modal">
                        <span class="material-icons-round">close</span>
                    </button>
                    <div class="modal-header">
                        <h2 class="modal-title">Create New Content</h2>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label class="form-label" for="contentPlatform">Platform</label>
                            <select class="form-select" id="contentPlatform" aria-label="Select platform">
                                <option value="">Select a platform</option>
                                <option value="instagram">Instagram</option>
                                <option value="tiktok">TikTok</option>
                                <option value="blog">Blog</option>
                                <option value="newsletter">Newsletter</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="contentType">Content Type</label>
                            <select class="form-select" id="contentType" aria-label="Select content type">
                                <option value="">Select content type</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="contentTitle">Title/Caption</label>
                            <input type="text" class="form-input" id="contentTitle" placeholder="Enter content title or caption" aria-label="Content title">
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="contentDescription">Description/Body</label>
                            <textarea class="form-textarea" id="contentDescription" placeholder="Write your content description or body text..." aria-label="Content description"></textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="contentTags">Tags/Hashtags</label>
                            <input type="text" class="form-input" id="contentTags" placeholder="#sustainable #fashion #ethical" aria-label="Content tags">
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="contentCTA">Call to Action</label>
                            <select class="form-select" id="contentCTA" aria-label="Select call to action">
                                <option value="">Select CTA</option>
                                <option value="visit_website">Visit our website</option>
                                <option value="shop_now">Shop now</option>
                                <option value="learn_more">Learn more</option>
                                <option value="share_story">Share your story</option>
                                <option value="join_community">Join our community</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-outline" id="saveDraftBtn">Save as Draft</button>
                        <button class="btn btn-primary" id="createContentSubmitBtn">Create Content</button>
                    </div>
                </div>
            </div>
        `;

                $('body').append(contentCreationModal);
                setupContentCreationHandlers();
            }

            function setupContentCreationHandlers() {
                // Platform change handler
                $('#contentPlatform').on('change', function () {
                    const platform = $(this).val();
                    updateContentTypeOptions(platform);
                });

                // Close modal handler
                $('#closeContentCreationModal').on('click', function () {
                    $('#contentCreationModal').removeClass('active');
                    setTimeout(() => $('#contentCreationModal').remove(), 300);
                });

                // Save draft handler
                $('#saveDraftBtn').on('click', function () {
                    const contentData = collectContentData();
                    saveContentDraft(contentData);
                });

                // Create content handler
                $('#createContentSubmitBtn').on('click', function () {
                    const contentData = collectContentData();
                    if (validateContentData(contentData)) {
                        createContentPiece(contentData);
                    }
                });

                // Close on outside click
                $('#contentCreationModal').on('click', function (e) {
                    if (e.target === this) {
                        $(this).removeClass('active');
                        setTimeout(() => $(this).remove(), 300);
                    }
                });
            }

            function updateContentTypeOptions(platform) {
                const contentTypes = {
                    instagram: [
                        { value: 'post', text: 'Single Post' },
                        { value: 'carousel', text: 'Carousel Post' },
                        { value: 'story', text: 'Story' },
                        { value: 'reel', text: 'Reel' }
                    ],
                    tiktok: [
                        { value: 'video', text: 'Short Video' },
                        { value: 'educational', text: 'Educational Video' },
                        { value: 'trend', text: 'Trend Video' },
                        { value: 'behind_scenes', text: 'Behind the Scenes' }
                    ],
                    blog: [
                        { value: 'article', text: 'Long-form Article' },
                        { value: 'guide', text: 'How-to Guide' },
                        { value: 'interview', text: 'Interview' },
                        { value: 'review', text: 'Product Review' }
                    ],
                    newsletter: [
                        { value: 'weekly', text: 'Weekly Update' },
                        { value: 'special', text: 'Special Edition' },
                        { value: 'announcement', text: 'Announcement' },
                        { value: 'spotlight', text: 'Feature Spotlight' }
                    ]
                };

                const typeSelect = $('#contentType');
                typeSelect.empty().append('<option value="">Select content type</option>');

                if (platform && contentTypes[platform]) {
                    contentTypes[platform].forEach(type => {
                        typeSelect.append(`<option value="${type.value}">${type.text}</option>`);
                    });
                }
            }

            function collectContentData() {
                return {
                    platform: $('#contentPlatform').val(),
                    type: $('#contentType').val(),
                    title: $('#contentTitle').val(),
                    description: $('#contentDescription').val(),
                    tags: $('#contentTags').val(),
                    cta: $('#contentCTA').val(),
                    createdAt: new Date().toISOString()
                };
            }

            function validateContentData(data) {
                if (!data.platform) {
                    showNotification('error', 'Validation Error', 'Please select a platform');
                    return false;
                }
                if (!data.type) {
                    showNotification('error', 'Validation Error', 'Please select a content type');
                    return false;
                }
                if (!data.title.trim()) {
                    showNotification('error', 'Validation Error', 'Please enter a title or caption');
                    return false;
                }
                return true;
            }

            function saveContentDraft(data) {
                // Save to localStorage or send to server
                const drafts = JSON.parse(localStorage.getItem('contentDrafts') || '[]');
                data.id = Date.now();
                data.status = 'draft';
                drafts.push(data);
                localStorage.setItem('contentDrafts', JSON.stringify(drafts));

                showNotification('success', 'Draft Saved', 'Your content has been saved as a draft');
                $('#contentCreationModal').removeClass('active');
                setTimeout(() => $('#contentCreationModal').remove(), 300);
            }

            function createContentPiece(data) {
                // Process and create content
                data.id = Date.now();
                data.status = 'created';

                // Save to content library
                const content = JSON.parse(localStorage.getItem('createdContent') || '[]');
                content.push(data);
                localStorage.setItem('createdContent', JSON.stringify(content));

                showNotification('success', 'Content Created', `Your ${data.platform} ${data.type} has been created successfully!`);
                $('#contentCreationModal').removeClass('active');
                setTimeout(() => $('#contentCreationModal').remove(), 300);

                // Optionally add to calendar if scheduling is enabled
                if (data.platform && data.type) {
                    addContentToCalendar(data);
                }
            }

            function schedulePost() {
                hideFloatingMenu();

                const scheduleModal = `
            <div class="modal active" id="scheduleModal">
                <div class="modal-content">
                    <button class="modal-close" id="closeScheduleModal" aria-label="Close modal">
                        <span class="material-icons-round">close</span>
                    </button>
                    <div class="modal-header">
                        <h2 class="modal-title">Schedule Post</h2>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label class="form-label" for="schedulePlatform">Platform</label>
                            <select class="form-select" id="schedulePlatform" aria-label="Select platform">
                                <option value="">Select a platform</option>
                                <option value="instagram">Instagram</option>
                                <option value="tiktok">TikTok</option>
                                <option value="blog">Blog</option>
                                <option value="newsletter">Newsletter</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="scheduleContent">Content</label>
                            <select class="form-select" id="scheduleContent" aria-label="Select content">
                                <option value="">Select existing content or create new</option>
                                <option value="new">Create new content</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="scheduleDate">Schedule Date</label>
                            <input type="date" class="form-input" id="scheduleDate" aria-label="Schedule date">
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="scheduleTime">Schedule Time</label>
                            <input type="time" class="form-input" id="scheduleTime" aria-label="Schedule time">
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="scheduleFrequency">Frequency</label>
                            <select class="form-select" id="scheduleFrequency" aria-label="Select frequency">
                                <option value="once">Once</option>
                                <option value="daily">Daily</option>
                                <option value="weekly">Weekly</option>
                                <option value="monthly">Monthly</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label" for="scheduleNotes">Notes</label>
                            <textarea class="form-textarea" id="scheduleNotes" placeholder="Add any scheduling notes or reminders..." aria-label="Schedule notes"></textarea>
                        </div>
                        <div class="optimal-times-suggestion" id="optimalTimesSuggestion">
                            <h4>📊 Optimal Posting Times for Your Audience:</h4>
                            <div class="time-suggestions" id="timeSuggestions">
                                <span class="time-suggestion">Mon-Fri: 6:00-8:00 PM</span>
                                <span class="time-suggestion">Sat-Sun: 10:00 AM-12:00 PM</span>
                            </div>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-outline" id="saveScheduleBtn">Save Schedule</button>
                        <button class="btn btn-primary" id="scheduleNowBtn">Schedule Now</button>
                    </div>
                </div>
            </div>
        `;

                $('body').append(scheduleModal);
                setupScheduleHandlers();
                loadExistingContent();
                setDefaultScheduleTime();
            }

            function setupScheduleHandlers() {
                // Platform change handler
                $('#schedulePlatform').on('change', function () {
                    const platform = $(this).val();
                    updateOptimalTimes(platform);
                    loadPlatformContent(platform);
                });

                // Content selection handler
                $('#scheduleContent').on('change', function () {
                    if ($(this).val() === 'new') {
                        // Close schedule modal and open content creation
                        $('#scheduleModal').removeClass('active');
                        setTimeout(() => {
                            $('#scheduleModal').remove();
                            createContent();
                        }, 300);
                    }
                });

                // Close modal handler
                $('#closeScheduleModal').on('click', function () {
                    $('#scheduleModal').removeClass('active');
                    setTimeout(() => $('#scheduleModal').remove(), 300);
                });

                // Save schedule handler
                $('#saveScheduleBtn').on('click', function () {
                    const scheduleData = collectScheduleData();
                    if (validateScheduleData(scheduleData)) {
                        saveSchedule(scheduleData);
                    }
                });

                // Schedule now handler
                $('#scheduleNowBtn').on('click', function () {
                    const scheduleData = collectScheduleData();
                    if (validateScheduleData(scheduleData)) {
                        scheduleImmediately(scheduleData);
                    }
                });

                // Close on outside click
                $('#scheduleModal').on('click', function (e) {
                    if (e.target === this) {
                        $(this).removeClass('active');
                        setTimeout(() => $(this).remove(), 300);
                    }
                });
            }

            function loadExistingContent() {
                const content = JSON.parse(localStorage.getItem('createdContent') || '[]');
                const drafts = JSON.parse(localStorage.getItem('contentDrafts') || '[]');

                const contentSelect = $('#scheduleContent');

                if (content.length > 0) {
                    content.forEach(item => {
                        contentSelect.append(`<option value="${item.id}">[${item.platform}] ${item.title}</option>`);
                    });
                }

                if (drafts.length > 0) {
                    drafts.forEach(item => {
                        contentSelect.append(`<option value="draft-${item.id}">[Draft] ${item.title}</option>`);
                    });
                }
            }

            function loadPlatformContent(platform) {
                const content = JSON.parse(localStorage.getItem('createdContent') || '[]');
                const platformContent = content.filter(item => item.platform === platform);

                const contentSelect = $('#scheduleContent');
                contentSelect.find('option:not(:first-child):not([value="new"])').remove();

                platformContent.forEach(item => {
                    contentSelect.append(`<option value="${item.id}">${item.title}</option>`);
                });
            }

            function setDefaultScheduleTime() {
                const now = new Date();
                const tomorrow = new Date(now);
                tomorrow.setDate(tomorrow.getDate() + 1);

                $('#scheduleDate').val(tomorrow.toISOString().split('T')[0]);
                $('#scheduleTime').val('18:00'); // Default to 6 PM
            }

            function updateOptimalTimes(platform) {
                const optimalTimes = {
                    instagram: ['Mon-Fri: 6:00-8:00 PM', 'Sat-Sun: 10:00 AM-12:00 PM'],
                    tiktok: ['Tue-Thu: 6:00-10:00 PM', 'Fri-Sat: 7:00-9:00 PM'],
                    blog: ['Tue-Thu: 10:00 AM-12:00 PM', 'Sun: 2:00-4:00 PM'],
                    newsletter: ['Tue: 10:00 AM', 'Thu: 2:00 PM']
                };

                const suggestions = optimalTimes[platform] || ['Weekdays: 9:00 AM-5:00 PM'];
                const suggestionHtml = suggestions.map(time =>
                    `<span class="time-suggestion">${time}</span>`
                ).join('');

                $('#timeSuggestions').html(suggestionHtml);
            }

            function collectScheduleData() {
                return {
                    platform: $('#schedulePlatform').val(),
                    contentId: $('#scheduleContent').val(),
                    date: $('#scheduleDate').val(),
                    time: $('#scheduleTime').val(),
                    frequency: $('#scheduleFrequency').val(),
                    notes: $('#scheduleNotes').val(),
                    scheduledAt: new Date().toISOString()
                };
            }

            function validateScheduleData(data) {
                if (!data.platform) {
                    showNotification('error', 'Validation Error', 'Please select a platform');
                    return false;
                }
                if (!data.contentId) {
                    showNotification('error', 'Validation Error', 'Please select content to schedule');
                    return false;
                }
                if (!data.date) {
                    showNotification('error', 'Validation Error', 'Please select a schedule date');
                    return false;
                }
                if (!data.time) {
                    showNotification('error', 'Validation Error', 'Please select a schedule time');
                    return false;
                }

                // Check if date is in the future
                const scheduleDateTime = new Date(`${data.date}T${data.time}`);
                if (scheduleDateTime <= new Date()) {
                    showNotification('error', 'Validation Error', 'Please select a future date and time');
                    return false;
                }

                return true;
            }

            function saveSchedule(data) {
                // Save schedule to calendar
                const schedules = JSON.parse(localStorage.getItem('scheduledPosts') || '[]');
                data.id = Date.now();
                data.status = 'scheduled';
                schedules.push(data);
                localStorage.setItem('scheduledPosts', JSON.stringify(schedules));

                // Add to calendar visual
                addScheduleToCalendar(data);

                showNotification('success', 'Post Scheduled', `Your ${data.platform} post has been scheduled for ${data.date} at ${data.time}`);
                $('#scheduleModal').removeClass('active');
                setTimeout(() => $('#scheduleModal').remove(), 300);
            }

            function scheduleImmediately(data) {
                data.status = 'publishing';
                showNotification('success', 'Publishing', `Publishing your ${data.platform} post now...`);

                // Simulate publishing process
                setTimeout(() => {
                    showNotification('success', 'Published', 'Your post has been published successfully!');
                }, 2000);

                $('#scheduleModal').removeClass('active');
                setTimeout(() => $('#scheduleModal').remove(), 300);
            }

            function addContentToCalendar(content) {
                // Find next available date slot
                const nextSlot = findNextAvailableSlot();
                if (nextSlot) {
                    const eventHtml = `<div class="calendar-event event-${content.platform}" data-event-id="${content.id}" draggable="true">${content.platform}: ${content.title}</div>`;
                    nextSlot.append(eventHtml);
                }
            }

            function addScheduleToCalendar(schedule) {
                const targetDate = schedule.date;
                const targetDay = $(`.calendar-day[data-date="${targetDate}"]`);

                if (targetDay.length) {
                    const eventHtml = `<div class="calendar-event event-${schedule.platform}" data-event-id="${schedule.id}" draggable="true">${schedule.platform}: Scheduled Post</div>`;
                    targetDay.append(eventHtml);
                }
            }

            function findNextAvailableSlot() {
                // Find calendar day with least events
                let bestDay = null;
                let minEvents = Infinity;

                $('.calendar-day').each(function () {
                    const eventCount = $(this).find('.calendar-event').length;
                    if (eventCount < minEvents) {
                        minEvents = eventCount;
                        bestDay = $(this);
                    }
                });

                return bestDay;
            }

            function generateIdeas() {
                const sustainableFashionIdeas = [
                    'Share a behind-the-scenes look at your sustainable production process',
                    'Create an infographic comparing fast fashion vs. sustainable fashion impact',
                    'Feature a customer story about their sustainable fashion journey',
                    'Show how to style one piece three different ways',
                    'Discuss the true cost of fast fashion on the environment',
                    'Create a time-lapse of your eco-friendly fabric dyeing process',
                    'Interview a textile worker about fair labor practices',
                    'Show the lifecycle of a garment from fiber to finished product',
                    'Create a "sustainable fashion myth vs reality" post series',
                    'Share tips for extending the life of clothing through proper care',
                    'Document a clothing swap event in your community',
                    'Create a capsule wardrobe lookbook with sustainable pieces',
                    'Show the environmental benefits of choosing organic cotton',
                    'Create before/after content of upcycled fashion pieces',
                    'Share the story behind your sustainable material suppliers',
                    'Create educational content about textile recycling processes',
                    'Show how to identify quality clothing that will last longer',
                    'Create content about seasonal sustainable fashion trends',
                    'Share tips for sustainable fashion on a budget',
                    'Document your brand\'s carbon footprint reduction efforts'
                ];

                const platformSpecificTips = {
                    instagram: [
                        'Use natural lighting for authentic product photography',
                        'Create carousel posts with sustainability facts',
                        'Share user-generated content from sustainable fashion advocates',
                        'Use trending sustainable fashion hashtags strategically'
                    ],
                    tiktok: [
                        'Create quick transformation videos showing styling versatility',
                        'Make educational videos about sustainable fashion terms',
                        'Participate in eco-friendly fashion challenges',
                        'Show quick sustainable fashion hacks and tips'
                    ],
                    blog: [
                        'Write detailed guides about sustainable fashion choices',
                        'Create in-depth brand transparency reports',
                        'Interview sustainable fashion industry experts',
                        'Write seasonal sustainable fashion trend reports'
                    ],
                    newsletter: [
                        'Share exclusive behind-the-scenes content with subscribers',
                        'Create monthly sustainability impact reports',
                        'Offer subscriber-only sustainable fashion tips',
                        'Feature customer spotlights and their sustainability journeys'
                    ]
                };

                const ideaGeneratorModal = `
            <div class="modal active" id="ideaGeneratorModal">
                <div class="modal-content">
                    <button class="modal-close" id="closeIdeaModal" aria-label="Close modal">
                        <span class="material-icons-round">close</span>
                    </button>
                    <div class="modal-header">
                        <h2 class="modal-title">💡 Content Idea Generator</h2>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label class="form-label" for="ideaPlatform">Platform Focus</label>
                            <select class="form-select" id="ideaPlatform" aria-label="Select platform">
                                <option value="general">General Ideas</option>
                                <option value="instagram">Instagram</option>
                                <option value="tiktok">TikTok</option>
                                <option value="blog">Blog</option>
                                <option value="newsletter">Newsletter</option>
                            </select>
                        </div>
                        <div class="generated-idea-container">
                            <div class="generated-idea" id="generatedIdea">
                                <h3>Your Content Idea:</h3>
                                <p id="ideaText">${sustainableFashionIdeas[Math.floor(Math.random() * sustainableFashionIdeas.length)]}</p>
                            </div>
                            <div class="idea-tips" id="ideaTips">
                                <h4>💡 Pro Tips:</h4>
                                <ul id="tipsList">
                                    <li>Focus on authenticity and transparency in your messaging</li>
                                    <li>Use high-quality visuals to showcase your sustainable practices</li>
                                    <li>Include educational elements to inform your audience</li>
                                    <li>Encourage audience engagement with questions or calls-to-action</li>
                                </ul>
                            </div>
                        </div>
                        <div class="idea-actions">
                            <button class="btn btn-outline" id="generateNewIdea">🎲 Generate New Idea</button>
                            <button class="btn btn-outline" id="saveIdeaBtn">💾 Save Idea</button>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-outline" id="viewSavedIdeas">View Saved Ideas</button>
                        <button class="btn btn-primary" id="useIdeaBtn">Use This Idea</button>
                    </div>
                </div>
            </div>
        `;

                $('body').append(ideaGeneratorModal);
                setupIdeaGeneratorHandlers(sustainableFashionIdeas, platformSpecificTips);
                hideFloatingMenu();
            }

            function setupIdeaGeneratorHandlers(ideas, platformTips) {
                // Platform change handler
                $('#ideaPlatform').on('change', function () {
                    const platform = $(this).val();
                    generateIdeaForPlatform(platform, ideas, platformTips);
                });

                // Generate new idea handler
                $('#generateNewIdea').on('click', function () {
                    const platform = $('#ideaPlatform').val();
                    generateIdeaForPlatform(platform, ideas, platformTips);
                });

                // Save idea handler
                $('#saveIdeaBtn').on('click', function () {
                    const idea = $('#ideaText').text();
                    const platform = $('#ideaPlatform').val();
                    saveContentIdea(idea, platform);
                });

                // Use idea handler
                $('#useIdeaBtn').on('click', function () {
                    const idea = $('#ideaText').text();
                    $('#ideaGeneratorModal').removeClass('active');
                    setTimeout(() => {
                        $('#ideaGeneratorModal').remove();
                        createContentWithIdea(idea);
                    }, 300);
                });

                // View saved ideas handler
                $('#viewSavedIdeas').on('click', function () {
                    showSavedIdeas();
                });

                // Close modal handler
                $('#closeIdeaModal').on('click', function () {
                    $('#ideaGeneratorModal').removeClass('active');
                    setTimeout(() => $('#ideaGeneratorModal').remove(), 300);
                });

                // Close on outside click
                $('#ideaGeneratorModal').on('click', function (e) {
                    if (e.target === this) {
                        $(this).removeClass('active');
                        setTimeout(() => $(this).remove(), 300);
                    }
                });
            }

            function generateIdeaForPlatform(platform, generalIdeas, platformTips) {
                let idea, tips;

                if (platform === 'general') {
                    idea = generalIdeas[Math.floor(Math.random() * generalIdeas.length)];
                    tips = [
                        'Focus on authenticity and transparency in your messaging',
                        'Use high-quality visuals to showcase your sustainable practices',
                        'Include educational elements to inform your audience',
                        'Encourage audience engagement with questions or calls-to-action'
                    ];
                } else {
                    idea = generalIdeas[Math.floor(Math.random() * generalIdeas.length)];
                    tips = platformTips[platform] || [];
                }

                $('#ideaText').text(idea);

                const tipsList = tips.map(tip => `<li>${tip}</li>`).join('');
                $('#tipsList').html(tipsList);
            }

            function saveContentIdea(idea, platform) {
                const savedIdeas = JSON.parse(localStorage.getItem('savedIdeas') || '[]');
                const ideaData = {
                    id: Date.now(),
                    idea: idea,
                    platform: platform,
                    savedAt: new Date().toISOString(),
                    used: false
                };

                savedIdeas.push(ideaData);
                localStorage.setItem('savedIdeas', JSON.stringify(savedIdeas));

                showNotification('success', 'Idea Saved', 'Content idea has been saved to your library');
            }

            function createContentWithIdea(idea) {
                createContent();

                // Pre-fill the description with the idea
                setTimeout(() => {
                    $('#contentDescription').val(idea);
                }, 500);
            }

            function showSavedIdeas() {
                const savedIdeas = JSON.parse(localStorage.getItem('savedIdeas') || '[]');

                if (savedIdeas.length === 0) {
                    showNotification('info', 'No Saved Ideas', 'You haven\'t saved any content ideas yet');
                    return;
                }

                const ideasHtml = savedIdeas.map(idea => `
            <div class="saved-idea-item" data-idea-id="${idea.id}">
                <div class="saved-idea-content">
                    <p>${idea.idea}</p>
                    <small>Platform: ${idea.platform} | Saved: ${new Date(idea.savedAt).toLocaleDateString()}</small>
                </div>
                <div class="saved-idea-actions">
                    <button class="btn btn-small btn-primary use-saved-idea" data-idea="${idea.idea}">Use</button>
                    <button class="btn btn-small btn-outline delete-saved-idea" data-idea-id="${idea.id}">Delete</button>
                </div>
            </div>
        `).join('');

                showModal('Saved Ideas', `
            <div class="saved-ideas-container">
                ${ideasHtml}
            </div>
        `);

                // Add event handlers for saved ideas
                $('.use-saved-idea').on('click', function () {
                    const idea = $(this).data('idea');
                    $('.modal.active').removeClass('active');
                    setTimeout(() => {
                        $('.modal').remove();
                        createContentWithIdea(idea);
                    }, 300);
                });

                $('.delete-saved-idea').on('click', function () {
                    const ideaId = $(this).data('idea-id');
                    deleteSavedIdea(ideaId);
                    $(this).closest('.saved-idea-item').remove();
                });
            }

            function deleteSavedIdea(ideaId) {
                let savedIdeas = JSON.parse(localStorage.getItem('savedIdeas') || '[]');
                savedIdeas = savedIdeas.filter(idea => idea.id !== ideaId);
                localStorage.setItem('savedIdeas', JSON.stringify(savedIdeas));
                showNotification('success', 'Idea Deleted', 'Content idea has been removed');
            }

            // Dashboard Functions
            function showPerformanceDetails() {
                const performanceData = `
            <h3>Content Performance Details</h3>
            <div class="performance-metrics">
                <div class="metric">
                    <strong>Instagram Engagement Rate:</strong> 4.2% (Above average)
                </div>
                <div class="metric">
                    <strong>Top Performing Post:</strong> "Sustainable Material Spotlight" - 856 likes, 23 comments
                </div>
                <div class="metric">
                    <strong>Best Performing Time:</strong> Weekdays 6-8 PM
                </div>
                <div class="metric">
                    <strong>Audience Growth:</strong> +15% this month
                </div>
            </div>
        `;

                showModal('Performance Details', performanceData);
            }

            function showAudienceDetails() {
                const audienceData = `
            <h3>Audience Insights</h3>
            <div class="audience-details">
                <div class="insight">
                    <strong>Primary Demographics:</strong> Women aged 25-34 (65%)
                </div>
                <div class="insight">
                    <strong>Top Interests:</strong> Sustainability (85%), Ethical Fashion (78%), Minimalism (65%)
                </div>
                <div class="insight">
                    <strong>Engagement Patterns:</strong> Highest on educational content about sustainability
                </div>
                <div class="insight">
                    <strong>Platform Preferences:</strong> Instagram for discovery, Blog for deep content
                </div>
            </div>
        `;

                showModal('Audience Details', audienceData);
            }

            function showModal(title, content) {
                const modal = $(`
            <div class="modal active">
                <div class="modal-content">
                    <button class="modal-close">
                        <span class="material-icons-round">close</span>
                    </button>
                    <div class="modal-header">
                        <h2 class="modal-title">${title}</h2>
                    </div>
                    <div class="modal-body">
                        ${content}
                    </div>
                </div>
            </div>
        `);

                $('body').append(modal);

                modal.find('.modal-close').on('click', function () {
                    modal.removeClass('active');
                    setTimeout(() => modal.remove(), 300);
                });

                modal.on('click', function (e) {
                    if (e.target === this) {
                        modal.removeClass('active');
                        setTimeout(() => modal.remove(), 300);
                    }
                });
            }

            // Advanced Features
            function setupDragAndDrop() {
                // Make calendar events draggable
                $('.calendar-event').attr('draggable', true);

                $('.calendar-event').on('dragstart', function (e) {
                    AppState.isDragging = true;
                    AppState.draggedEvent = $(this);
                    $(this).addClass('dragging');
                });

                $('.calendar-day').on('dragover', function (e) {
                    e.preventDefault();
                    $(this).addClass('drag-over');
                });

                $('.calendar-day').on('dragleave', function () {
                    $(this).removeClass('drag-over');
                });

                $('.calendar-day').on('drop', function (e) {
                    e.preventDefault();
                    $(this).removeClass('drag-over');

                    if (AppState.draggedEvent) {
                        // Move event to new date
                        $(this).append(AppState.draggedEvent);
                        AppState.draggedEvent.removeClass('dragging');

                        const newDate = $(this).data('date');
                        showNotification('success', 'Event Moved', `Event moved to ${newDate}`);

                        AppState.draggedEvent = null;
                        AppState.isDragging = false;
                    }
                });
            }

            function setupFormValidation() {
                // Real-time validation for form fields
                $('input[required], textarea[required], select[required]').on('blur', function () {
                    validateField($(this));
                });

                // Custom validation messages
                $('input[type="email"]').on('blur', function () {
                    if ($(this).val() && !isValidEmail($(this).val())) {
                        $(this).addClass('error');
                        showFieldError($(this), 'Please enter a valid email address');
                    }
                });
            }

            function validateField(field) {
                if (field.prop('required') && !field.val()) {
                    field.addClass('error');
                    showFieldError(field, 'This field is required');
                    return false;
                } else {
                    field.removeClass('error');
                    hideFieldError(field);
                    return true;
                }
            }

            function showFieldError(field, message) {
                const errorId = `error-${field.attr('id')}`;
                $(`#${errorId}`).remove();

                const errorElement = $(`<div id="${errorId}" class="field-error">${message}</div>`);
                field.after(errorElement);
            }

            function hideFieldError(field) {
                const errorId = `error-${field.attr('id')}`;
                $(`#${errorId}`).remove();
            }

            function isValidEmail(email) {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return emailRegex.test(email);
            }

            function initializeKeyboardNavigation() {
                // Track keyboard usage
                $(document).on('keydown', function (e) {
                    if (e.key === 'Tab') {
                        AppState.isUsingKeyboard = true;
                        $('#keyboardIndicator').addClass('active');
                    }
                });

                $(document).on('mousedown', function () {
                    AppState.isUsingKeyboard = false;
                    $('#keyboardIndicator').removeClass('active');
                });
            }

            function handleKeyboardNavigation(e) {
                // Handle keyboard shortcuts
                if (e.ctrlKey || e.metaKey) {
                    switch (e.key) {
                        case 'k':
                            e.preventDefault();
                            $('#resourceSearch').focus();
                            break;
                        case 'n':
                            e.preventDefault();
                            $('#createStrategyBtn').click();
                            break;
                        case 'd':
                            e.preventDefault();
                            toggleDarkMode();
                            break;
                    }
                }

                // Handle arrow key navigation in calendar
                if ($('.content-calendar:visible').length && ['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(e.key)) {
                    handleCalendarNavigation(e);
                }
            }

            function handleCalendarNavigation(e) {
                const focusedDay = $('.calendar-day:focus');
                if (focusedDay.length === 0) {
                    $('.calendar-day').first().focus();
                    return;
                }

                let nextDay;
                switch (e.key) {
                    case 'ArrowLeft':
                        nextDay = focusedDay.prev('.calendar-day');
                        break;
                    case 'ArrowRight':
                        nextDay = focusedDay.next('.calendar-day');
                        break;
                    case 'ArrowUp':
                        nextDay = focusedDay.prevAll('.calendar-day').eq(6);
                        break;
                    case 'ArrowDown':
                        nextDay = focusedDay.nextAll('.calendar-day').eq(6);
                        break;
                }

                if (nextDay && nextDay.length) {
                    nextDay.focus();
                }
            }

            function updateStrategyRecommendations(strategy) {
                // Update platform cards based on user's strategy
                const platforms = Object.keys(strategy.platforms);

                platforms.forEach(platform => {
                    const focus = strategy.platforms[platform];
                    const card = $(`.platform-card.${platform}`);

                    if (focus === 'Primary focus') {
                        card.addClass('primary-focus');
                    } else if (focus === 'Secondary focus') {
                        card.addClass('secondary-focus');
                    }
                });
            }

            function generateContentSchedule(strategy) {
                // Generate suggested content based on frequency settings
                const suggestions = [];

                Object.keys(strategy.frequency).forEach(platform => {
                    const frequency = strategy.frequency[platform];
                    const contentTypes = strategy.contentTypes[platform] || [];

                    contentTypes.forEach(type => {
                        suggestions.push({
                            platform,
                            type,
                            frequency,
                            suggestion: generateContentSuggestion(platform, type)
                        });
                    });
                });

                // Display suggestions
                showContentSuggestions(suggestions);
            }

            function generateContentSuggestion(platform, type) {
                const suggestions = {
                    instagram: {
                        'Product photography': 'Showcase your latest sustainable pieces with natural lighting',
                        'Behind-the-scenes content': 'Show your ethical production process',
                        'Educational carousels': 'Create infographics about sustainable materials'
                    },
                    tiktok: {
                        'Fast fashion comparisons': 'Compare fabric quality before and after washing',
                        'Styling tutorials': 'Show 3 ways to style one sustainable piece',
                        'Educational content': 'Explain the environmental impact of textile choices'
                    },
                    blog: {
                        'Sustainability deep dives': 'Write about your supply chain transparency',
                        'Capsule wardrobe tips': 'Guide readers on building a sustainable wardrobe',
                        'Industry insights': 'Share latest sustainable fashion innovations'
                    },
                    newsletter: {
                        'Exclusive content': 'Share subscriber-only behind-the-scenes stories',
                        'Sustainability metrics': 'Report monthly environmental impact data',
                        'Community spotlights': 'Feature customer sustainable fashion journeys'
                    }
                };

                return suggestions[platform]?.[type] || `Create engaging ${type} content for ${platform}`;
            }

            function showContentSuggestions(suggestions) {
                const suggestionHtml = suggestions.map(s => `
            <div class="content-suggestion">
                <h4>${s.platform.charAt(0).toUpperCase() + s.platform.slice(1)} - ${s.type}</h4>
                <p>${s.suggestion}</p>
                <small>Frequency: ${s.frequency}</small>
            </div>
        `).join('');

                showModal('Content Suggestions', `
            <h3>Personalized Content Suggestions</h3>
            <div class="suggestions-container">
                ${suggestionHtml}
            </div>
        `);
            }

            // Initialize the application when document is ready
            initializeApp();
        });
    </script>
</body>

</html>