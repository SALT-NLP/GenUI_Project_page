<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Children's Hospital Foundation - Content Management Portal</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <style>
        :root {
            --primary: #3498db;
            --primary-light: #5dade2;
            --primary-dark: #2980b9;
            --secondary: #f39c12;
            --secondary-light: #f5b041;
            --secondary-dark: #d68910;
            --success: #2ecc71;
            --success-light: #58d68d;
            --success-dark: #27ae60;
            --danger: #e74c3c;
            --danger-light: #ec7063;
            --danger-dark: #c0392b;
            --warning: #f1c40f;
            --warning-light: #f4d03f;
            --warning-dark: #d4ac0d;
            --gray-100: #f8f9fa;
            --gray-200: #e9ecef;
            --gray-300: #dee2e6;
            --gray-400: #ced4da;
            --gray-500: #adb5bd;
            --gray-600: #6c757d;
            --gray-700: #495057;
            --gray-800: #343a40;
            --gray-900: #212529;
            --text: #333333;
            --background: #f9f9f9;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --shadow-hover: 0 8px 15px rgba(0, 0, 0, 0.1);
            --radius: 8px;
            --radius-sm: 4px;
            --transition: all 0.3s ease;
        }

        [data-theme="dark"] {
            --primary: #3498db;
            --primary-light: #2980b9;
            --primary-dark: #5dade2;
            --secondary: #f39c12;
            --secondary-light: #d68910;
            --secondary-dark: #f5b041;
            --success: #2ecc71;
            --success-light: #27ae60;
            --success-dark: #58d68d;
            --danger: #e74c3c;
            --danger-light: #c0392b;
            --danger-dark: #ec7063;
            --warning: #f1c40f;
            --warning-light: #d4ac0d;
            --warning-dark: #f4d03f;
            --gray-100: #2d3436;
            --gray-200: #2c3e50;
            --gray-300: #34495e;
            --gray-400: #576574;
            --gray-500: #7f8c8d;
            --gray-600: #95a5a6;
            --gray-700: #b2bec3;
            --gray-800: #dfe6e9;
            --gray-900: #f5f6fa;
            --text: #f5f6fa;
            --background: #1e272e;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            --shadow-hover: 0 8px 15px rgba(0, 0, 0, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', sans-serif;
            color: var(--text);
            background-color: var(--background);
            line-height: 1.6;
            transition: background-color 0.3s ease;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            color: var(--gray-800);
        }

        .container {
            display: grid;
            grid-template-columns: 250px 1fr;
            min-height: 100vh;
        }

        /* Sidebar Styles */
        .sidebar {
            background-color: white;
            box-shadow: var(--shadow);
            padding: 20px 0;
            display: flex;
            flex-direction: column;
            z-index: 10;
            transition: var(--transition);
            position: relative;
        }

        [data-theme="dark"] .sidebar {
            background-color: var(--gray-100);
        }

        .sidebar-toggle {
            position: absolute;
            top: 20px;
            right: -12px;
            width: 24px;
            height: 24px;
            background-color: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 11;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .sidebar-toggle:hover {
            background-color: var(--primary-dark);
        }

        .sidebar-collapsed {
            transform: translateX(-200px);
            width: 50px;
        }

        .sidebar-collapsed .logo h1,
        .sidebar-collapsed .nav-link span:not(.material-symbols-rounded),
        .sidebar-collapsed .user-details {
            display: none;
        }

        .logo {
            padding: 0 20px 20px;
            display: flex;
            align-items: center;
            border-bottom: 1px solid var(--gray-200);
            margin-bottom: 20px;
        }

        .logo img {
            width: 40px;
            height: 40px;
            margin-right: 10px;
        }

        .logo h1 {
            font-size: 18px;
            color: var(--primary);
        }

        .nav-menu {
            list-style: none;
            padding: 0;
        }

        .nav-item {
            margin-bottom: 5px;
        }

        .nav-link {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            color: var(--gray-700);
            text-decoration: none;
            transition: var(--transition);
            border-left: 3px solid transparent;
            position: relative;
        }

        .nav-link:hover, .nav-link.active {
            background-color: var(--gray-100);
            color: var(--primary);
            border-left-color: var(--primary);
        }

        .nav-link .material-symbols-rounded {
            margin-right: 10px;
            font-size: 20px;
        }

        .nav-badge {
            position: absolute;
            top: 8px;
            right: 15px;
            background-color: var(--danger);
            color: white;
            font-size: 10px;
            font-weight: 600;
            padding: 2px 6px;
            border-radius: 10px;
        }

        .divider {
            height: 1px;
            background-color: var(--gray-200);
            margin: 15px 0;
        }

        .user-info {
            margin-top: auto;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            border-top: 1px solid var(--gray-200);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--primary-light);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin-right: 10px;
            flex-shrink: 0;
        }

        .user-details {
            flex: 1;
            min-width: 0;
        }

        .user-name {
            font-weight: 600;
            font-size: 14px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .user-role {
            font-size: 12px;
            color: var(--gray-600);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Main Content Styles */
        .main-content {
            padding: 30px;
            background-color: var(--background);
            transition: var(--transition);
            overflow-x: hidden;
        }

        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .page-title {
            font-size: 24px;
            color: var(--gray-800);
        }

        [data-theme="dark"] .page-title {
            color: var(--gray-200);
        }

        .header-actions {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .theme-toggle {
            background: none;
            border: none;
            color: var(--gray-600);
            cursor: pointer;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .theme-toggle:hover {
            color: var(--primary);
        }

        .btn {
            display: inline-flex;
            align-items: center;
            padding: 10px 16px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: var(--radius);
            font-family: 'Nunito', sans-serif;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            position: relative;
            overflow: hidden;
        }

        .btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 5px;
            height: 5px;
            background: rgba(255, 255, 255, 0.5);
            opacity: 0;
            border-radius: 100%;
            transform: scale(1, 1) translate(-50%);
            transform-origin: 50% 50%;
        }

        .btn:focus:not(:active)::after {
            animation: ripple 1s ease-out;
        }

        @keyframes ripple {
            0% {
                transform: scale(0, 0);
                opacity: 0.5;
            }
            100% {
                transform: scale(100, 100);
                opacity: 0;
            }
        }

        .btn:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .btn:active {
            transform: translateY(0);
            box-shadow: none;
        }

        .btn .material-symbols-rounded {
            margin-right: 8px;
            font-size: 18px;
        }

        .btn-secondary {
            background-color: var(--secondary);
        }

        .btn-secondary:hover {
            background-color: var(--secondary-dark);
        }

        .btn-success {
            background-color: var(--success);
        }

        .btn-success:hover {
            background-color: var(--success-dark);
        }

        .btn-danger {
            background-color: var(--danger);
        }

        .btn-danger:hover {
            background-color: var(--danger-dark);
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background-color: var(--primary);
            color: white;
        }

        .btn-icon {
            width: 40px;
            height: 40px;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .btn-icon .material-symbols-rounded {
            margin-right: 0;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background-color: white;
            padding: 20px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid transparent;
        }

        [data-theme="dark"] .stat-card {
            background-color: var(--gray-100);
            border-color: var(--gray-300);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .stat-card-title {
            font-size: 14px;
            color: var(--gray-600);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .stat-card-title .material-symbols-rounded {
            margin-right: 5px;
            font-size: 18px;
        }

        .stat-card-value {
            font-size: 28px;
            font-weight: 700;
            color: var(--gray-800);
            margin-bottom: 5px;
        }

        [data-theme="dark"] .stat-card-value {
            color: var(--gray-200);
        }

        .stat-card-meta {
            display: flex;
            align-items: center;
            margin-top: 10px;
            font-size: 14px;
        }

        .stat-card-trend {
            display: flex;
            align-items: center;
            margin-right: 8px;
        }

        .trend-up {
            color: var(--success);
        }

        .trend-down {
            color: var(--danger);
        }

        .stat-card-period {
            color: var(--gray-600);
        }

        .stat-progress {
            height: 4px;
            background-color: var(--gray-200);
            border-radius: 2px;
            margin-top: 15px;
            overflow: hidden;
        }

        .stat-progress-bar {
            height: 100%;
            border-radius: 2px;
            transition: width 0.6s ease;
        }

        .progress-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 5px;
            font-size: 12px;
            color: var(--gray-600);
        }

        /* Content Library Styles */
        .content-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .content-filters {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .filter-group {
            display: flex;
            align-items: center;
        }

        .filter-label {
            margin-right: 8px;
            font-size: 14px;
            color: var(--gray-700);
        }

        [data-theme="dark"] .filter-label {
            color: var(--gray-500);
        }

        .filter-select, .filter-input {
            padding: 8px 12px;
            border: 1px solid var(--gray-300);
            border-radius: var(--radius);
            font-family: 'Nunito', sans-serif;
            font-size: 14px;
            color: var(--gray-800);
            background-color: white;
            transition: var(--transition);
            min-width: 150px;
        }

        [data-theme="dark"] .filter-select, [data-theme="dark"] .filter-input {
            background-color: var(--gray-200);
            border-color: var(--gray-300);
            color: var(--gray-700);
        }

        .filter-select:focus, .filter-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }

        .search-box {
            display: flex;
            align-items: center;
            border: 1px solid var(--gray-300);
            border-radius: var(--radius);
            overflow: hidden;
            background-color: white;
            transition: var(--transition);
            min-width: 250px;
        }

        [data-theme="dark"] .search-box {
            background-color: var(--gray-200);
            border-color: var(--gray-300);
        }

        .search-box:focus-within {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }

        .search-input {
            flex: 1;
            padding: 8px 12px;
            border: none;
            font-family: 'Nunito', sans-serif;
            font-size: 14px;
            color: var(--gray-800);
            background-color: transparent;
        }

        [data-theme="dark"] .search-input {
            color: var(--gray-500);
        }

        .search-input:focus {
            outline: none;
        }

        .search-btn {
            background: none;
            border: none;
            padding: 8px 12px;
            color: var(--gray-600);
            cursor: pointer;
            transition: var(--transition);
        }

        .search-btn:hover {
            color: var(--primary);
        }

        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .content-card {
            background-color: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            transition: var(--transition);
            position: relative;
            border: 1px solid transparent;
        }

        [data-theme="dark"] .content-card {
            background-color: var(--gray-100);
            border-color: var(--gray-300);
        }

        .content-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .card-image {
            height: 180px;
            background-color: var(--gray-200);
            background-size: cover;
            background-position: center;
            position: relative;
        }

        .card-image::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0.5) 100%);
            opacity: 0;
            transition: var(--transition);
        }

        .content-card:hover .card-image::before {
            opacity: 1;
        }

        .card-type {
            position: absolute;
            top: 15px;
            left: 15px;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            color: white;
            background-color: rgba(0, 0, 0, 0.6);
            z-index: 1;
            backdrop-filter: blur(4px);
        }

        .card-content {
            padding: 20px;
        }

        .card-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--gray-800);
            transition: var(--transition);
        }

        [data-theme="dark"] .card-title {
            color: var(--gray-300);
        }

        .content-card:hover .card-title {
            color: var(--primary);
        }

        .card-description {
            font-size: 14px;
            color: var(--gray-700);
            margin-bottom: 15px;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
            transition: var(--transition);
        }

        [data-theme="dark"] .card-description {
            color: var(--gray-500);
        }

        .card-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 13px;
            color: var(--gray-600);
        }

        .card-date {
            display: flex;
            align-items: center;
        }

        .card-date .material-symbols-rounded {
            font-size: 16px;
            margin-right: 4px;
        }

        .card-status {
            display: flex;
            align-items: center;
            padding: 3px 8px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .status-approved {
            background-color: rgba(46, 204, 113, 0.15);
            color: var(--success-dark);
        }

        .status-pending {
            background-color: rgba(241, 196, 15, 0.15);
            color: var(--warning-dark);
        }

        .status-draft {
            background-color: rgba(189, 195, 199, 0.15);
            color: var(--gray-700);
        }

        .consent-status {
            display: flex;
            align-items: center;
            margin-top: 10px;
            font-size: 13px;
        }

        .consent-icon {
            margin-right: 5px;
            font-size: 16px;
        }

        .consent-valid {
            color: var(--success);
        }

        .consent-expiring {
            color: var(--warning);
        }

        .consent-expired {
            color: var(--danger);
        }

        .card-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 15px;
            opacity: 0.7;
            transition: var(--transition);
        }

        .content-card:hover .card-actions {
            opacity: 1;
        }

        .card-btn {
            padding: 6px 12px;
            font-size: 13px;
            border-radius: var(--radius);
            border: none;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
        }

        .card-btn .material-symbols-rounded {
            font-size: 16px;
            margin-right: 4px;
        }

        .btn-view {
            background-color: var(--gray-200);
            color: var(--gray-700);
        }

        .btn-view:hover {
            background-color: var(--gray-300);
        }

        .btn-edit {
            background-color: var(--primary-light);
            color: white;
        }

        .btn-edit:hover {
            background-color: var(--primary);
        }

        /* Consent Management Styles */
        .consent-table-wrapper {
            overflow-x: auto;
            background-color: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        [data-theme="dark"] .consent-table-wrapper {
            background-color: var(--gray-100);
        }

        .consent-table {
            width: 100%;
            border-collapse: collapse;
        }

        .consent-table th, .consent-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid var(--gray-200);
        }

        [data-theme="dark"] .consent-table th, [data-theme="dark"] .consent-table td {
            border-color: var(--gray-300);
        }

        .consent-table th {
            background-color: var(--gray-100);
            font-weight: 600;
            color: var(--gray-700);
            font-size: 14px;
            position: sticky;
            top: 0;
            z-index: 1;
        }

        [data-theme="dark"] .consent-table th {
            background-color: var(--gray-200);
            color: var(--gray-500);
        }

        .consent-table tr:last-child td {
            border-bottom: none;
        }

        .consent-table tr {
            transition: var(--transition);
        }

        .consent-table tr:hover {
            background-color: var(--gray-100);
        }

        [data-theme="dark"] .consent-table tr:hover {
            background-color: var(--gray-200);
        }

        .consent-id {
            font-family: 'Courier New', monospace;
            color: var(--gray-700);
        }

        [data-theme="dark"] .consent-id {
            color: var(--gray-500);
        }

        .consent-patient {
            font-weight: 600;
        }

        .consent-uses {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
        }

        .consent-use-tag {
            padding: 3px 8px;
            border-radius: 20px;
            font-size: 12px;
            background-color: var(--gray-200);
            color: var(--gray-700);
        }

        [data-theme="dark"] .consent-use-tag {
            background-color: var(--gray-300);
            color: var(--gray-100);
        }

        /* Donor Segment Styles */
        .segment-card {
            background-color: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 20px;
            margin-bottom: 20px;
            transition: var(--transition);
            border: 1px solid transparent;
        }

        [data-theme="dark"] .segment-card {
            background-color: var(--gray-100);
            border-color: var(--gray-300);
        }

        .segment-card:hover {
            box-shadow: var(--shadow-hover);
        }

        .segment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            cursor: pointer;
            transition: var(--transition);
            padding: 5px 0;
        }

        .segment-header:hover {
            color: var(--primary);
        }

        .segment-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--gray-800);
            display: flex;
            align-items: center;
        }

        [data-theme="dark"] .segment-title {
            color: var(--gray-300);
        }

        .segment-icon {
            margin-right: 10px;
            font-size: 24px;
            color: var(--primary);
        }

        .segment-toggle {
            color: var(--gray-600);
            transition: var(--transition);
        }

        .segment-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
        }

        .segment-content.active {
            max-height: 1000px;
        }

        .segment-details {
            margin-bottom: 20px;
        }

        .segment-subtitle {
            font-size: 16px;
            font-weight: 600;
            color: var(--gray-700);
            margin-bottom: 10px;
        }

        [data-theme="dark"] .segment-subtitle {
            color: var(--gray-400);
        }

        .segment-description {
            font-size: 14px;
            color: var(--gray-700);
            line-height: 1.6;
            margin-bottom: 15px;
        }

        [data-theme="dark"] .segment-description {
            color: var(--gray-500);
        }

        .segment-stat {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .segment-stat-label {
            width: 150px;
            font-size: 14px;
            color: var(--gray-600);
        }

        .segment-stat-value {
            font-size: 14px;
            font-weight: 600;
            color: var(--gray-800);
        }

        [data-theme="dark"] .segment-stat-value {
            color: var(--gray-400);
        }

        .segment-content-list {
            margin-top: 20px;
        }

        .segment-content-item {
            display: flex;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid var(--gray-200);
            transition: var(--transition);
        }

        [data-theme="dark"] .segment-content-item {
            border-color: var(--gray-300);
        }

        .segment-content-item:last-child {
            border-bottom: none;
        }

        .segment-content-item:hover {
            background-color: var(--gray-100);
            padding-left: 10px;
            padding-right: 10px;
            margin: 0 -10px;
            border-radius: var(--radius-sm);
        }

        [data-theme="dark"] .segment-content-item:hover {
            background-color: var(--gray-200);
        }

        .segment-content-title {
            flex: 1;
            font-size: 14px;
            font-weight: 600;
            color: var(--gray-800);
        }

        [data-theme="dark"] .segment-content-title {
            color: var(--gray-400);
        }

        .segment-content-type {
            font-size: 12px;
            color: var(--gray-600);
            margin-right: 15px;
            padding: 3px 8px;
            background-color: var(--gray-200);
            border-radius: 20px;
        }

        [data-theme="dark"] .segment-content-type {
            background-color: var(--gray-300);
            color: var(--gray-100);
        }

        /* Workflow Styles */
        .workflow-container {
            background-color: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 30px;
            transition: var(--transition);
            border: 1px solid transparent;
        }

        [data-theme="dark"] .workflow-container {
            background-color: var(--gray-100);
            border-color: var(--gray-300);
        }

        .workflow-steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            position: relative;
        }

        .workflow-steps::before {
            content: '';
            position: absolute;
            top: 30px;
            left: 0;
            right: 0;
            height: 2px;
            background-color: var(--gray-300);
            z-index: 1;
        }

        .workflow-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
        }

        .step-number {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: white;
            border: 2px solid var(--gray-300);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 700;
            color: var(--gray-600);
            margin-bottom: 10px;
            transition: var(--transition);
        }

        [data-theme="dark"] .step-number {
            background-color: var(--gray-100);
            color: var(--gray-500);
        }

        .step-label {
            font-size: 14px;
            color: var(--gray-600);
            text-align: center;
            transition: var(--transition);
        }

        .workflow-step.active .step-number {
            background-color: var(--primary);
            border-color: var(--primary);
            color: white;
        }

        .workflow-step.active .step-label {
            color: var(--primary);
            font-weight: 600;
        }

        .workflow-step.completed .step-number {
            background-color: var(--success);
            border-color: var(--success);
            color: white;
        }

        .workflow-content {
            background-color: var(--gray-100);
            border-radius: var(--radius);
            padding: 30px;
        }

        [data-theme="dark"] .workflow-content {
            background-color: var(--gray-200);
        }

        .workflow-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group.full-width {
            grid-column: span 2;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            font-weight: 600;
            color: var(--gray-700);
        }

        [data-theme="dark"] .form-label {
            color: var(--gray-400);
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid var(--gray-300);
            border-radius: var(--radius);
            font-family: 'Nunito', sans-serif;
            font-size: 14px;
            color: var(--gray-800);
            background-color: white;
            transition: var(--transition);
        }

        [data-theme="dark"] .form-input, [data-theme="dark"] .form-select, [data-theme="dark"] .form-textarea {
            background-color: var(--gray-300);
            color: var(--gray-800);
            border-color: var(--gray-400);
        }

        .form-textarea {
            min-height: 150px;
            resize: vertical;
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }

        .form-hint {
            margin-top: 5px;
            font-size: 12px;
            color: var(--gray-600);
        }

        .form-error {
            margin-top: 5px;
            font-size: 12px;
            color: var(--danger);
            display: none;
        }

        .form-input.error, .form-select.error, .form-textarea.error {
            border-color: var(--danger);
        }

        .form-input.error + .form-error, 
        .form-select.error + .form-error, 
        .form-textarea.error + .form-error {
            display: block;
        }

        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
        }

        .form-checkbox {
            margin-right: 8px;
            position: relative;
            width: 18px;
            height: 18px;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            border: 1px solid var(--gray-400);
            border-radius: 3px;
            cursor: pointer;
            transition: var(--transition);
        }

        .form-checkbox:checked {
            background-color: var(--primary);
            border-color: var(--primary);
        }

        .form-checkbox:checked::after {
            content: 'âœ“';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
        }

        .form-checkbox:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }

        .checkbox-label {
            font-size: 14px;
            color: var(--gray-700);
            cursor: pointer;
        }

        [data-theme="dark"] .checkbox-label {
            color: var(--gray-500);
        }

        .upload-area {
            border: 2px dashed var(--gray-300);
            border-radius: var(--radius);
            padding: 30px;
            text-align: center;
            background-color: white;
            transition: var(--transition);
            cursor: pointer;
        }

        [data-theme="dark"] .upload-area {
            background-color: var(--gray-300);
            border-color: var(--gray-400);
        }

        .upload-area:hover {
            border-color: var(--primary-light);
            background-color: rgba(52, 152, 219, 0.05);
        }

        .upload-icon {
            font-size: 48px;
            color: var(--gray-400);
            margin-bottom: 15px;
        }

        .upload-text {
            font-size: 16px;
            color: var(--gray-700);
            margin-bottom: 5px;
        }

        [data-theme="dark"] .upload-text {
            color: var(--gray-800);
        }

        .upload-hint {
            font-size: 14px;
            color: var(--gray-600);
        }

        [data-theme="dark"] .upload-hint {
            color: var(--gray-700);
        }

        .workflow-nav {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        /* Asset Manager Styles */
        .asset-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }

        .asset-card {
            background-color: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            transition: var(--transition);
            border: 1px solid transparent;
        }

        [data-theme="dark"] .asset-card {
            background-color: var(--gray-100);
            border-color: var(--gray-300);
        }

        .asset-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .asset-thumbnail {
            height: 150px;
            background-color: var(--gray-200);
            background-size: cover;
            background-position: center;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .asset-icon {
            font-size: 48px;
            color: var(--gray-500);
        }

        .asset-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: var(--transition);
        }

        .asset-thumbnail:hover .asset-overlay {
            opacity: 1;
        }

        .asset-actions {
            display: flex;
            gap: 10px;
        }

        .asset-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: white;
            color: var(--gray-800);
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .asset-btn:hover {
            background-color: var(--primary);
            color: white;
            transform: scale(1.1);
        }

        .asset-info {
            padding: 15px;
        }

        .asset-name {
            font-size: 14px;
            font-weight: 600;
            color: var(--gray-800);
            margin-bottom: 5px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        [data-theme="dark"] .asset-name {
            color: var(--gray-400);
        }

        .asset-meta {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: var(--gray-600);
        }

        .asset-type {
            display: flex;
            align-items: center;
        }

        .asset-type .material-symbols-rounded {
            font-size: 14px;
            margin-right: 3px;
        }

        /* Calendar Styles */
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .calendar-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--gray-800);
        }

        [data-theme="dark"] .calendar-title {
            color: var(--gray-300);
        }

        .calendar-nav {
            display: flex;
            gap: 10px;
        }

        .calendar-nav-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: white;
            color: var(--gray-700);
            border: 1px solid var(--gray-300);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
        }

        [data-theme="dark"] .calendar-nav-btn {
            background-color: var(--gray-200);
            color: var(--gray-400);
            border-color: var(--gray-400);
        }

        .calendar-nav-btn:hover {
            background-color: var(--gray-100);
            color: var(--primary);
            border-color: var(--gray-400);
        }

        [data-theme="dark"] .calendar-nav-btn:hover {
            background-color: var(--gray-300);
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
        }

        .calendar-day-header {
            text-align: center;
            padding: 10px;
            font-weight: 600;
            color: var(--gray-700);
            font-size: 14px;
        }

        [data-theme="dark"] .calendar-day-header {
            color: var(--gray-400);
        }

        .calendar-day {
            background-color: white;
            border-radius: var(--radius);
            min-height: 100px;
            padding: 10px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid transparent;
        }

        [data-theme="dark"] .calendar-day {
            background-color: var(--gray-100);
            border-color: var(--gray-300);
        }

        .calendar-day:hover {
            box-shadow: var(--shadow-hover);
            transform: translateY(-2px);
        }

        .calendar-day.inactive {
            background-color: var(--gray-100);
            color: var(--gray-500);
        }

        [data-theme="dark"] .calendar-day.inactive {
            background-color: var(--gray-200);
            color: var(--gray-600);
        }

        .calendar-date {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--gray-700);
        }

        [data-theme="dark"] .calendar-date {
            color: var(--gray-400);
        }

        .calendar-event {
            padding: 5px 8px;
            border-radius: 4px;
            font-size: 12px;
            margin-bottom: 5px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            cursor: pointer;
            transition: var(--transition);
        }

        .calendar-event:hover {
            transform: translateX(3px);
        }

        .event-story {
            background-color: rgba(52, 152, 219, 0.2);
            color: var(--primary-dark);
        }

        .event-innovation {
            background-color: rgba(46, 204, 113, 0.2);
            color: var(--success-dark);
        }

        .event-needs {
            background-color: rgba(243, 156, 18, 0.2);
            color: var(--secondary-dark);
        }

        /* Modal Styles */
        .modal-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .modal-backdrop.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background-color: white;
            border-radius: var(--radius);
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            transform: translateY(-20px);
            transition: var(--transition);
        }

        [data-theme="dark"] .modal {
            background-color: var(--gray-100);
            border: 1px solid var(--gray-300);
        }

        .modal-backdrop.active .modal {
            transform: translateY(0);
        }

        .modal-header {
            padding: 20px;
            border-bottom: 1px solid var(--gray-200);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            background-color: inherit;
            z-index: 1;
        }

        [data-theme="dark"] .modal-header {
            border-color: var(--gray-300);
        }

        .modal-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--gray-800);
        }

        [data-theme="dark"] .modal-title {
            color: var(--gray-300);
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            color: var(--gray-600);
            cursor: pointer;
            transition: var(--transition);
        }

        .modal-close:hover {
            color: var(--danger);
        }

        .modal-body {
            padding: 20px;
        }

        .modal-footer {
            padding: 20px;
            border-top: 1px solid var(--gray-200);
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            position: sticky;
            bottom: 0;
            background-color: inherit;
            z-index: 1;
        }

        [data-theme="dark"] .modal-footer {
            border-color: var(--gray-300);
        }

        /* Tooltip */
        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip .tooltip-text {
            visibility: hidden;
            width: 120px;
            background-color: var(--gray-800);
            color: white;
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
            pointer-events: none;
        }

        .tooltip .tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--gray-800) transparent transparent transparent;
        }

        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        /* Toast Notification */
        .toast-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }

        .toast {
            display: flex;
            align-items: center;
            background-color: white;
            border-radius: var(--radius);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            padding: 12px 20px;
            margin-top: 10px;
            transition: var(--transition);
            transform: translateX(120%);
            max-width: 350px;
        }

        [data-theme="dark"] .toast {
            background-color: var(--gray-100);
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast-icon {
            margin-right: 12px;
            font-size: 24px;
        }

        .toast-success .toast-icon {
            color: var(--success);
        }

        .toast-error .toast-icon {
            color: var(--danger);
        }

        .toast-warning .toast-icon {
            color: var(--warning);
        }

        .toast-info .toast-icon {
            color: var(--primary);
        }

        .toast-content {
            flex: 1;
        }

        .toast-title {
            font-weight: 600;
            font-size: 14px;
            color: var(--gray-800);
            margin-bottom: 2px;
        }

        [data-theme="dark"] .toast-title {
            color: var(--gray-300);
        }

        .toast-message {
            font-size: 13px;
            color: var(--gray-600);
        }

        [data-theme="dark"] .toast-message {
            color: var(--gray-500);
        }

        .toast-close {
            background: none;
            border: none;
            color: var(--gray-600);
            cursor: pointer;
            margin-left: 12px;
            transition: var(--transition);
        }

        .toast-close:hover {
            color: var(--gray-800);
        }

        /* Accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

        /* Charts */
        .chart-container {
            background-color: white;
            border-radius: var(--radius);
            padding: 20px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            transition: var(--transition);
            height: 300px;
            position: relative;
            border: 1px solid transparent;
        }

        [data-theme="dark"] .chart-container {
            background-color: var(--gray-100);
            border-color: var(--gray-300);
        }

        .chart-container:hover {
            box-shadow: var(--shadow-hover);
        }

        .chart-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--gray-800);
            margin-bottom: 15px;
        }

        [data-theme="dark"] .chart-title {
            color: var(--gray-300);
        }

        /* Responsive Styles */
        @media (max-width: 1200px) {
            .dashboard-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 1024px) {
            .container {
                grid-template-columns: 200px 1fr;
            }

            .workflow-form {
                grid-template-columns: 1fr;
            }

            .form-group.full-width {
                grid-column: span 1;
            }
        }

        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
            }

            .sidebar {
                position: fixed;
                top: 0;
                left: 0;
                bottom: 0;
                z-index: 100;
                transform: translateX(-100%);
            }

            .sidebar.active {
                transform: translateX(0);
            }

            .sidebar-toggle {
                right: -40px;
                box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .content-filters {
                flex-direction: column;
            }

            .workflow-steps {
                flex-direction: column;
                gap: 20px;
            }

            .workflow-steps::before {
                display: none;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideInUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }

        .slide-in-up {
            animation: slideInUp 0.3s ease-in-out;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Sidebar Navigation -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-toggle" id="sidebarToggle">
                <span class="material-symbols-rounded">chevron_right</span>
            </div>
            <div class="logo">
                <span class="material-symbols-rounded">healing</span>
                <h1>Children's Hope</h1>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="#" class="nav-link active" aria-current="page">
                        <span class="material-symbols-rounded">dashboard</span>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link">
                        <span class="material-symbols-rounded">library_books</span>
                        <span>Content Library</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link">
                        <span class="material-symbols-rounded">verified_user</span>
                        <span>Consent Management</span>
                        <span class="nav-badge">3</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link">
                        <span class="material-symbols-rounded">people</span>
                        <span>Donor Segments</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link">
                        <span class="material-symbols-rounded">add_circle</span>
                        <span>Create Content</span>
                    </a>
                </li>
                <div class="divider"></div>
                <li class="nav-item">
                    <a href="#" class="nav-link">
                        <span class="material-symbols-rounded">image</span>
                        <span>Asset Manager</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link">
                        <span class="material-symbols-rounded">calendar_month</span>
                        <span>Content Calendar</span>
                    </a>
                </li>
                <div class="divider"></div>
                <li class="nav-item">
                    <a href="#" class="nav-link">
                        <span class="material-symbols-rounded">settings</span>
                        <span>Settings</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link">
                        <span class="material-symbols-rounded">help</span>
                        <span>Help & Guidelines</span>
                    </a>
                </li>
            </ul>
            <div class="user-info">
                <div class="user-avatar">JD</div>
                <div class="user-details">
                    <div class="user-name">Jane Doe</div>
                    <div class="user-role">Communications Director</div>
                </div>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Dashboard Section -->
            <div class="page-header">
                <h1 class="page-title">Dashboard</h1>
                <div class="header-actions">
                    <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode">
                        <span class="material-symbols-rounded">dark_mode</span>
                    </button>
                    <button class="btn" id="createContentBtn">
                        <span class="material-symbols-rounded">add</span>
                        Create New Content
                    </button>
                </div>
            </div>

            <div class="dashboard-grid">
                <div class="stat-card slide-in-up" style="animation-delay: 0.1s;">
                    <div class="stat-card-title">
                        <span class="material-symbols-rounded">article</span>
                        Content Pieces
                    </div>
                    <div class="stat-card-value">48</div>
                    <div class="stat-card-meta">
                        <div class="stat-card-trend trend-up">
                            <span class="material-symbols-rounded">trending_up</span>
                            12%
                        </div>
                        <div class="stat-card-period">vs last month</div>
                    </div>
                    <div class="stat-progress">
                        <div class="stat-progress-bar" style="width: 75%; background-color: var(--primary);"></div>
                    </div>
                    <div class="progress-content">
                        <span>Target: 64</span>
                        <span>75% Complete</span>
                    </div>
                </div>
                <div class="stat-card slide-in-up" style="animation-delay: 0.2s;">
                    <div class="stat-card-title">
                        <span class="material-symbols-rounded">verified</span>
                        Active Consent Forms
                    </div>
                    <div class="stat-card-value">32</div>
                    <div class="stat-card-meta">
                        <div class="stat-card-trend trend-down">
                            <span class="material-symbols-rounded">trending_down</span>
                            3%
                        </div>
                        <div class="stat-card-period">3 expiring soon</div>
                    </div>
                    <div class="stat-progress">
                        <div class="stat-progress-bar" style="width: 60%; background-color: var(--warning);"></div>
                    </div>
                    <div class="progress-content">
                        <span>Renewal Goal: 5</span>
                        <span>2 Renewed</span>
                    </div>
                </div>
                <div class="stat-card slide-in-up" style="animation-delay: 0.3s;">
                    <div class="stat-card-title">
                        <span class="material-symbols-rounded">schedule</span>
                        Scheduled Publications
                    </div>
                    <div class="stat-card-value">14</div>
                    <div class="stat-card-meta">
                        <div class="stat-card-trend trend-up">
                            <span class="material-symbols-rounded">trending_up</span>
                            8%
                        </div>
                        <div class="stat-card-period">next 30 days</div>
                    </div>
                    <div class="stat-progress">
                        <div class="stat-progress-bar" style="width: 85%; background-color: var(--success);"></div>
                    </div>
                    <div class="progress-content">
                        <span>Target: 16</span>
                        <span>85% Complete</span>
                    </div>
                </div>
            </div>

            <div class="chart-container">
                <h3 class="chart-title">Content Performance Overview</h3>
                <canvas id="contentPerformance"></canvas>
            </div>

            <!-- Content Library Section -->
            <div class="content-header">
                <h2>Recent Content</h2>
                <div class="search-box">
                    <input type="text" class="search-input" placeholder="Search content..." aria-label="Search content">
                    <button class="search-btn" aria-label="Search">
                        <span class="material-symbols-rounded">search</span>
                    </button>
                </div>
            </div>

            <div class="content-filters">
                <div class="filter-group">
                    <span class="filter-label">Type:</span>
                    <select class="filter-select" id="typeFilter" aria-label="Filter by content type">
                        <option value="all">All Types</option>
                        <option value="story">Patient Stories</option>
                        <option value="innovation">Medical Innovations</option>
                        <option value="needs">Hospital Needs</option>
                    </select>
                </div>
                <div class="filter-group">
                    <span class="filter-label">Status:</span>
                    <select class="filter-select" id="statusFilter" aria-label="Filter by status">
                        <option value="all">All Statuses</option>
                        <option value="approved">Approved</option>
                        <option value="pending">Pending</option>
                        <option value="draft">Draft</option>
                    </select>
                </div>
                <div class="filter-group">
                    <span class="filter-label">Audience:</span>
                    <select class="filter-select" id="audienceFilter" aria-label="Filter by audience">
                        <option value="all">All Audiences</option>
                        <option value="individual">Individual Donors</option>
                        <option value="corporate">Corporate Sponsors</option>
                        <option value="healthcare">Healthcare Professionals</option>
                        <option value="former">Former Patients & Families</option>
                    </select>
                </div>
                <div class="filter-group">
                    <span class="filter-label">Sort:</span>
                    <select class="filter-select" id="sortFilter" aria-label="Sort content">
                        <option value="date-desc">Newest First</option>
                        <option value="date-asc">Oldest First</option>
                        <option value="alpha-asc">A-Z</option>
                        <option value="alpha-desc">Z-A</option>
                    </select>
                </div>
            </div>

            <div class="content-grid">
                <!-- Content Card 1 -->
                <div class="content-card fade-in" style="animation-delay: 0.1s;">
                    <div class="card-image" style="background-image: url('https://placehold.co/600x400?text=Sarah%27s+Journey');">
                        <div class="card-type">Patient Story</div>
                    </div>
                    <div class="card-content">
                        <h3 class="card-title">Sarah's Journey Through Treatment</h3>
                        <p class="card-description">Following 8-year-old Sarah's inspiring path through her treatment for leukemia and her remarkable recovery.</p>
                        <div class="card-meta">
                            <div class="card-date">
                                <span class="material-symbols-rounded">calendar_today</span>
                                Jun 15, 2023
                            </div>
                            <div class="card-status status-approved">Approved</div>
                        </div>
                        <div class="consent-status">
                            <span class="material-symbols-rounded consent-icon consent-valid">verified</span>
                            Valid consent through Dec 2023
                        </div>
                        <div class="card-actions">
                            <button class="card-btn btn-view" aria-label="View content">
                                <span class="material-symbols-rounded">visibility</span>
                                View
                            </button>
                            <button class="card-btn btn-edit" aria-label="Edit content">
                                <span class="material-symbols-rounded">edit</span>
                                Edit
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Content Card 2 -->
                <div class="content-card fade-in" style="animation-delay: 0.2s;">
                    <div class="card-image" style="background-image: url('https://placehold.co/600x400?text=New+MRI+Technology');">
                        <div class="card-type">Medical Innovation</div>
                    </div>
                    <div class="card-content">
                        <h3 class="card-title">New MRI Technology for Pediatric Patients</h3>
                        <p class="card-description">Our hospital has acquired state-of-the-art MRI equipment specifically designed for children, reducing scan times and anxiety.</p>
                        <div class="card-meta">
                            <div class="card-date">
                                <span class="material-symbols-rounded">calendar_today</span>
                                Jul 3, 2023
                            </div>
                            <div class="card-status status-approved">Approved</div>
                        </div>
                        <div class="consent-status">
                            <span class="material-symbols-rounded consent-icon consent-valid">verified</span>
                            No patient consent needed
                        </div>
                        <div class="card-actions">
                            <button class="card-btn btn-view" aria-label="View content">
                                <span class="material-symbols-rounded">visibility</span>
                                View
                            </button>
                            <button class="card-btn btn-edit" aria-label="Edit content">
                                <span class="material-symbols-rounded">edit</span>
                                Edit
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Content Card 3 -->
                <div class="content-card fade-in" style="animation-delay: 0.3s;">
                    <div class="card-image" style="background-image: url('https://placehold.co/600x400?text=Playroom+Renovation');">
                        <div class="card-type">Hospital Needs</div>
                    </div>
                    <div class="card-content">
                        <h3 class="card-title">Pediatric Oncology Playroom Renovation</h3>
                        <p class="card-description">Help us renovate our pediatric oncology playroom to provide a more comfortable and therapeutic environment for our young patients.</p>
                        <div class="card-meta">
                            <div class="card-date">
                                <span class="material-symbols-rounded">calendar_today</span>
                                Jul 10, 2023
                            </div>
                            <div class="card-status status-pending">Pending</div>
                        </div>
                        <div class="consent-status">
                            <span class="material-symbols-rounded consent-icon consent-expiring">warning</span>
                            2 consent forms expiring soon
                        </div>
                        <div class="card-actions">
                            <button class="card-btn btn-view" aria-label="View content">
                                <span class="material-symbols-rounded">visibility</span>
                                View
                            </button>
                            <button class="card-btn btn-edit" aria-label="Edit content">
                                <span class="material-symbols-rounded">edit</span>
                                Edit
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Content Card 4 -->
                <div class="content-card fade-in" style="animation-delay: 0.4s;">
                    <div class="card-image" style="background-image: url('https://placehold.co/600x400?text=Alex%27s+Recovery');">
                        <div class="card-type">Patient Story</div>
                    </div>
                    <div class="card-content">
                        <h3 class="card-title">Alex's Recovery After Surgery</h3>
                        <p class="card-description">12-year-old Alex shares his experience recovering from complex heart surgery and his return to playing soccer.</p>
                        <div class="card-meta">
                            <div class="card-date">
                                <span class="material-symbols-rounded">calendar_today</span>
                                Jun 28, 2023
                            </div>
                            <div class="card-status status-draft">Draft</div>
                        </div>
                        <div class="consent-status">
                            <span class="material-symbols-rounded consent-icon consent-expired">error</span>
                            Consent form expired
                        </div>
                        <div class="card-actions">
                            <button class="card-btn btn-view" aria-label="View content">
                                <span class="material-symbols-rounded">visibility</span>
                                View
                            </button>
                            <button class="card-btn btn-edit" aria-label="Edit content">
                                <span class="material-symbols-rounded">edit</span>
                                Edit
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Content Creation Workflow Section -->
            <div class="page-header" style="margin-top: 40px;">
                <h2>Content Creation Workflow</h2>
            </div>

            <div class="workflow-container">
                <div class="workflow-steps">
                    <div class="workflow-step active">
                        <div class="step-number">1</div>
                        <div class="step-label">Select Type</div>
                    </div>
                    <div class="workflow-step">
                        <div class="step-number">2</div>
                        <div class="step-label">Add Details</div>
                    </div>
                    <div class="workflow-step">
                        <div class="step-number">3</div>
                        <div class="step-label">Upload Media</div>
                    </div>
                    <div class="workflow-step">
                        <div class="step-number">4</div>
                        <div class="step-label">Link Consent</div>
                    </div>
                    <div class="workflow-step">
                        <div class="step-number">5</div>
                        <div class="step-label">Select Audience</div>
                    </div>
                    <div class="workflow-step">
                        <div class="step-number">6</div>
                        <div class="step-label">Review</div>
                    </div>
                </div>

                <div class="workflow-content">
                    <form class="workflow-form" id="contentWorkflowForm">
                        <div class="form-group full-width">
                            <label class="form-label">Content Type</label>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="radio" id="type-story" name="content-type" class="form-checkbox" checked>
                                    <label for="type-story" class="checkbox-label">Patient Story</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="radio" id="type-innovation" name="content-type" class="form-checkbox">
                                    <label for="type-innovation" class="checkbox-label">Medical Innovation</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="radio" id="type-needs" name="content-type" class="form-checkbox">
                                    <label for="type-needs" class="checkbox-label">Hospital Needs</label>
                                </div>
                            </div>
                        </div>

                        <div class="form-group full-width">
                            <label class="form-label">Content Format</label>
                            <div class="checkbox-group">
                                <div class="checkbox-item tooltip">
                                    <input type="checkbox" id="format-web" name="content-format" class="form-checkbox" checked>
                                    <label for="format-web" class="checkbox-label">Website</label>
                                    <span class="tooltip-text">Hospital website and blog</span>
                                </div>
                                <div class="checkbox-item tooltip">
                                    <input type="checkbox" id="format-social" name="content-format" class="form-checkbox" checked>
                                    <label for="format-social" class="checkbox-label">Social Media</label>
                                    <span class="tooltip-text">Facebook, Instagram, Twitter</span>
                                </div>
                                <div class="checkbox-item tooltip">
                                    <input type="checkbox" id="format-print" name="content-format" class="form-checkbox">
                                    <label for="format-print" class="checkbox-label">Print Materials</label>
                                    <span class="tooltip-text">Brochures, newsletters, posters</span>
                                </div>
                                <div class="checkbox-item tooltip">
                                    <input type="checkbox" id="format-email" name="content-format" class="form-checkbox">
                                    <label for="format-email" class="checkbox-label">Email Newsletter</label>
                                    <span class="tooltip-text">Monthly donor updates</span>
                                </div>
                                <div class="checkbox-item tooltip">
                                    <input type="checkbox" id="format-event" name="content-format" class="form-checkbox">
                                    <label for="format-event" class="checkbox-label">Event Presentation</label>
                                    <span class="tooltip-text">Fundraising galas, community events</span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group full-width">
                            <label class="form-label">Ethical Considerations</label>
                            <div class="form-hint">Please review these ethical guidelines before proceeding:</div>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="checkbox" id="ethics-1" name="ethics" class="form-checkbox" required>
                                    <label for="ethics-1" class="checkbox-label">I confirm that this content will not exploit vulnerable patients</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="ethics-2" name="ethics" class="form-checkbox" required>
                                    <label for="ethics-2" class="checkbox-label">I will ensure all medical information is accurate and approved</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="ethics-3" name="ethics" class="form-checkbox" required>
                                    <label for="ethics-3" class="checkbox-label">I will maintain patient dignity and privacy in all content</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="ethics-4" name="ethics" class="form-checkbox" required>
                                    <label for="ethics-4" class="checkbox-label">I will obtain and document proper consent for all patient stories</label>
                                </div>
                            </div>
                            <div class="form-error">You must agree to all ethical guidelines to proceed</div>
                        </div>
                    </form>

                    <div class="workflow-nav">
                        <button class="btn" disabled style="background-color: var(--gray-400);" aria-label="Previous step">
                            <span class="material-symbols-rounded">arrow_back</span>
                            Previous
                        </button>
                        <button class="btn" id="nextWorkflowBtn" aria-label="Next step">
                            Next
                            <span class="material-symbols-rounded">arrow_forward</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Donor Segments Section -->
            <div class="page-header" style="margin-top: 40px;">
                <h2>Donor Segments</h2>
            </div>

            <div class="segment-card">
                <div class="segment-header" id="individual-header" tabindex="0" role="button" aria-expanded="true" aria-controls="individual-content">
                    <h3 class="segment-title">
                        <span class="material-symbols-rounded segment-icon">person</span>
                        Individual Donors
                    </h3>
                    <span class="material-symbols-rounded segment-toggle">expand_less</span>
                </div>
                <div class="segment-content active" id="individual-content" aria-hidden="false">
                    <div class="segment-details">
                        <h4 class="segment-subtitle">Characteristics</h4>
                        <p class="segment-description">Individual donors typically have a personal connection to pediatric healthcare, whether through their own experiences, family members, or community ties. They range from one-time gift givers to monthly supporters.</p>
                        
                        <div class="segment-stat">
                            <div class="segment-stat-label">Average Donation:</div>
                            <div class="segment-stat-value">$75 - $150</div>
                        </div>
                        <div class="segment-stat">
                            <div class="segment-stat-label">Primary Motivations:</div>
                            <div class="segment-stat-value">Emotional connection, desire to help children</div>
                        </div>
                        <div class="segment-stat">
                            <div class="segment-stat-label">Content Preferences:</div>
                            <div class="segment-stat-value">Patient stories, tangible impact examples</div>
                        </div>
                    </div>

                    <h4 class="segment-subtitle">Recommended Content</h4>
                    <div class="segment-content-list">
                        <div class="segment-content-item">
                            <div class="segment-content-title">Sarah's Journey Through Treatment</div>
                            <div class="segment-content-type">Patient Story</div>
                            <button class="card-btn btn-view" aria-label="View content">
                                <span class="material-symbols-rounded">visibility</span>
                                View
                            </button>
                        </div>
                        <div class="segment-content-item">
                            <div class="segment-content-title">Pediatric Oncology Playroom Renovation</div>
                            <div class="segment-content-type">Hospital Needs</div>
                            <button class="card-btn btn-view" aria-label="View content">
                                <span class="material-symbols-rounded">visibility</span>
                                View
                            </button>
                        </div>
                        <div class="segment-content-item">
                            <div class="segment-content-title">Alex's Recovery After Surgery</div>
                            <div class="segment-content-type">Patient Story</div>
                            <button class="card-btn btn-view" aria-label="View content">
                                <span class="material-symbols-rounded">visibility</span>
                                View
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="segment-card">
                <div class="segment-header" id="corporate-header" tabindex="0" role="button" aria-expanded="false" aria-controls="corporate-content">
                    <h3 class="segment-title">
                        <span class="material-symbols-rounded segment-icon">business</span>
                        Corporate Sponsors
                    </h3>
                    <span class="material-symbols-rounded segment-toggle">expand_more</span>
                </div>
                <div class="segment-content" id="corporate-content" aria-hidden="true">
                    <div class="segment-details">
                        <h4 class="segment-subtitle">Characteristics</h4>
                        <p class="segment-description">Corporate sponsors seek meaningful partnerships that align with their values and provide opportunities for community engagement, employee involvement, and positive brand association.</p>
                        
                        <div class="segment-stat">
                            <div class="segment-stat-label">Average Donation:</div>
                            <div class="segment-stat-value">$5,000 - $50,000</div>
                        </div>
                        <div class="segment-stat">
                            <div class="segment-stat-label">Primary Motivations:</div>
                            <div class="segment-stat-value">Corporate social responsibility, community impact</div>
                        </div>
                        <div class="segment-stat">
                            <div class="segment-stat-label">Content Preferences:</div>
                            <div class="segment-stat-value">Impact metrics, innovation stories, partnership opportunities</div>
                        </div>
                    </div>

                    <h4 class="segment-subtitle">Recommended Content</h4>
                    <div class="segment-content-list">
                        <div class="segment-content-item">
                            <div class="segment-content-title">New MRI Technology for Pediatric Patients</div>
                            <div class="segment-content-type">Medical Innovation</div>
                            <button class="card-btn btn-view" aria-label="View content">
                                <span class="material-symbols-rounded">visibility</span>
                                View
                            </button>
                        </div>
                        <div class="segment-content-item">
                            <div class="segment-content-title">Pediatric Oncology Playroom Renovation</div>
                            <div class="segment-content-type">Hospital Needs</div>
                            <button class="card-btn btn-view" aria-label="View content">
                                <span class="material-symbols-rounded">visibility</span>
                                View
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="segment-card">
                <div class="segment-header" id="healthcare-header" tabindex="0" role="button" aria-expanded="false" aria-controls="healthcare-content">
                    <h3 class="segment-title">
                        <span class="material-symbols-rounded segment-icon">medical_services</span>
                        Healthcare Professionals
                    </h3>
                    <span class="material-symbols-rounded segment-toggle">expand_more</span>
                </div>
                <div class="segment-content" id="healthcare-content" aria-hidden="true">
                    <div class="segment-details">
                        <h4 class="segment-subtitle">Characteristics</h4>
                        <p class="segment-description">Healthcare professionals value technical accuracy, medical innovation, and professional development opportunities. They appreciate content that showcases medical advancements and research at the hospital.</p>
                        
                        <div class="segment-stat">
                            <div class="segment-stat-label">Average Donation:</div>
                            <div class="segment-stat-value">$200 - $1,000</div>
                        </div>
                        <div class="segment-stat">
                            <div class="segment-stat-label">Primary Motivations:</div>
                            <div class="segment-stat-value">Professional connection, medical advancement</div>
                        </div>
                        <div class="segment-stat">
                            <div class="segment-stat-label">Content Preferences:</div>
                            <div class="segment-stat-value">Medical innovations, research updates, professional events</div>
                        </div>
                    </div>

                    <h4 class="segment-subtitle">Recommended Content</h4>
                    <div class="segment-content-list">
                        <div class="segment-content-item">
                            <div class="segment-content-title">New MRI Technology for Pediatric Patients</div>
                            <div class="segment-content-type">Medical Innovation</div>
                            <button class="card-btn btn-view" aria-label="View content">
                                <span class="material-symbols-rounded">visibility</span>
                                View
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="segment-card">
                <div class="segment-header" id="former-header" tabindex="0" role="button" aria-expanded="false" aria-controls="former-content">
                    <h3 class="segment-title">
                        <span class="material-symbols-rounded segment-icon">favorite</span>
                        Former Patients & Families
                    </h3>
                    <span class="material-symbols-rounded segment-toggle">expand_more</span>
                </div>
                <div class="segment-content" id="former-content" aria-hidden="true">
                    <div class="segment-details">
                        <h4 class="segment-subtitle">Characteristics</h4>
                        <p class="segment-description">Former patients and their families have a deep emotional connection to the hospital. They are often highly motivated to give back and support other families going through similar experiences.</p>
                        
                        <div class="segment-stat">
                            <div class="segment-stat-label">Average Donation:</div>
                            <div class="segment-stat-value">$100 - $500</div>
                        </div>
                        <div class="segment-stat">
                            <div class="segment-stat-label">Primary Motivations:</div>
                            <div class="segment-stat-value">Gratitude, personal connection, community support</div>
                        </div>
                        <div class="segment-stat">
                            <div class="segment-stat-label">Content Preferences:</div>
                            <div class="segment-stat-value">Patient stories, hospital updates, reunion events</div>
                        </div>
                    </div>

                    <h4 class="segment-subtitle">Recommended Content</h4>
                    <div class="segment-content-list">
                        <div class="segment-content-item">
                            <div class="segment-content-title">Sarah's Journey Through Treatment</div>
                            <div class="segment-content-type">Patient Story</div>
                            <button class="card-btn btn-view" aria-label="View content">
                                <span class="material-symbols-rounded">visibility</span>
                                View
                            </button>
                        </div>
                        <div class="segment-content-item">
                            <div class="segment-content-title">Alex's Recovery After Surgery</div>
                            <div class="segment-content-type">Patient Story</div>
                            <button class="card-btn btn-view" aria-label="View content">
                                <span class="material-symbols-rounded">visibility</span>
                                View
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Consent Management Section -->
            <div class="page-header" style="margin-top: 40px;">
                <h2>Consent Management</h2>
                <button class="btn" id="addConsentBtn">
                    <span class="material-symbols-rounded">add</span>
                    Add New Consent
                </button>
            </div>

            <div class="consent-table-wrapper">
                <table class="consent-table">
                    <thead>
                        <tr>
                            <th scope="col">Consent ID</th>
                            <th scope="col">Patient</th>
                            <th scope="col">Guardian</th>
                            <th scope="col">Date</th>
                            <th scope="col">Expiration</th>
                            <th scope="col">Approved Uses</th>
                            <th scope="col">Status</th>
                            <th scope="col">Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="consent-id">CST-2023-0142</td>
                            <td class="consent-patient">Sarah T.</td>
                            <td>Michael T. (Father)</td>
                            <td>Jun 10, 2023</td>
                            <td>Dec 10, 2023</td>
                            <td>
                                <div class="consent-uses">
                                    <span class="consent-use-tag">Photo</span>
                                    <span class="consent-use-tag">Video</span>
                                    <span class="consent-use-tag">Story</span>
                                    <span class="consent-use-tag">Social</span>
                                </div>
                            </td>
                            <td>
                                <span class="material-symbols-rounded consent-icon consent-valid" aria-label="Valid consent">verified</span>
                            </td>
                            <td>
                                <div class="card-actions">
                                    <button class="card-btn btn-view view-consent-btn" data-id="CST-2023-0142" aria-label="View consent">
                                        <span class="material-symbols-rounded">visibility</span>
                                    </button>
                                    <button class="card-btn btn-edit" aria-label="Edit consent">
                                        <span class="material-symbols-rounded">edit</span>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="consent-id">CST-2023-0138</td>
                            <td class="consent-patient">Alex M.</td>
                            <td>Jennifer M. (Mother)</td>
                            <td>Jan 15, 2023</td>
                            <td>Jul 15, 2023</td>
                            <td>
                                <div class="consent-uses">
                                    <span class="consent-use-tag">Photo</span>
                                    <span class="consent-use-tag">Story</span>
                                    <span class="consent-use-tag">Print</span>
                                </div>
                            </td>
                            <td>
                                <span class="material-symbols-rounded consent-icon consent-expired" aria-label="Expired consent">error</span>
                            </td>
                            <td>
                                <div class="card-actions">
                                    <button class="card-btn btn-view view-consent-btn" data-id="CST-2023-0138" aria-label="View consent">
                                        <span class="material-symbols-rounded">visibility</span>
                                    </button>
                                    <button class="card-btn btn-edit" aria-label="Edit consent">
                                        <span class="material-symbols-rounded">edit</span>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="consent-id">CST-2023-0149</td>
                            <td class="consent-patient">Emma K.</td>
                            <td>Robert K. (Father)</td>
                            <td>Jun 28, 2023</td>
                            <td>Aug 28, 2023</td>
                            <td>
                                <div class="consent-uses">
                                    <span class="consent-use-tag">Photo</span>
                                    <span class="consent-use-tag">Video</span>
                                    <span class="consent-use-tag">Social</span>
                                </div>
                            </td>
                            <td>
                                <span class="material-symbols-rounded consent-icon consent-expiring" aria-label="Consent expiring soon">warning</span>
                            </td>
                            <td>
                                <div class="card-actions">
                                    <button class="card-btn btn-view view-consent-btn" data-id="CST-2023-0149" aria-label="View consent">
                                        <span class="material-symbols-rounded">visibility</span>
                                    </button>
                                    <button class="card-btn btn-edit" aria-label="Edit consent">
                                        <span class="material-symbols-rounded">edit</span>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <!-- Consent Details Modal -->
    <div class="modal-backdrop" id="consentModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Consent Details</h3>
                <button class="modal-close" aria-label="Close modal">&times;</button>
            </div>
            <div class="modal-body">
                <div id="consentDetails">
                    <!-- Content will be dynamically populated -->
                    <div class="form-group">
                        <label class="form-label">Consent ID</label>
                        <p id="modalConsentId">CST-2023-0142</p>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Patient</label>
                        <p id="modalPatientName">Sarah T.</p>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Guardian</label>
                        <p id="modalGuardianName">Michael T. (Father)</p>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Date Signed</label>
                        <p id="modalDateSigned">June 10, 2023</p>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Expiration Date</label>
                        <p id="modalExpirationDate">December 10, 2023</p>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Approved Uses</label>
                        <div class="consent-uses" id="modalApprovedUses">
                            <span class="consent-use-tag">Photo</span>
                            <span class="consent-use-tag">Video</span>
                            <span class="consent-use-tag">Story</span>
                            <span class="consent-use-tag">Social</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Restrictions</label>
                        <p id="modalRestrictions">No identifiable photos on social media. First name only.</p>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Status</label>
                        <p id="modalStatus"><span class="material-symbols-rounded consent-icon consent-valid">verified</span> Valid</p>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Linked Content</label>
                        <ul id="modalLinkedContent">
                            <li>Sarah's Journey Through Treatment</li>
                        </ul>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Notes</label>
                        <p id="modalNotes">Parents very supportive of sharing Sarah's story to help other families.</p>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary modal-close-btn">Close</button>
                <button class="btn" id="renewConsentBtn">Renew Consent</button>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container">
        <!-- Success Toast -->
        <div class="toast toast-success" id="successToast">
            <span class="material-symbols-rounded toast-icon">check_circle</span>
            <div class="toast-content">
                <div class="toast-title">Success</div>
                <div class="toast-message" id="successMessage">Operation completed successfully!</div>
            </div>
            <button class="toast-close" aria-label="Close notification">&times;</button>
        </div>
        
        <!-- Error Toast -->
        <div class="toast toast-error" id="errorToast">
            <span class="material-symbols-rounded toast-icon">error</span>
            <div class="toast-content">
                <div class="toast-title">Error</div>
                <div class="toast-message" id="errorMessage">Something went wrong. Please try again.</div>
            </div>
            <button class="toast-close" aria-label="Close notification">&times;</button>
        </div>
        
        <!-- Warning Toast -->
        <div class="toast toast-warning" id="warningToast">
            <span class="material-symbols-rounded toast-icon">warning</span>
            <div class="toast-content">
                <div class="toast-title">Warning</div>
                <div class="toast-message" id="warningMessage">Please check the form for errors.</div>
            </div>
            <button class="toast-close" aria-label="Close notification">&times;</button>
        </div>
    </div>

    <script type="module">
        import { Chart } from "https://esm.sh/chart.js/auto";

        // DOM Elements
        const sidebar = document.getElementById('sidebar');
        const sidebarToggle = document.getElementById('sidebarToggle');
        const themeToggle = document.getElementById('themeToggle');
        const segmentHeaders = document.querySelectorAll('.segment-header');
        const consentModal = document.getElementById('consentModal');
        const modalClose = document.querySelectorAll('.modal-close, .modal-close-btn');
        const viewConsentBtns = document.querySelectorAll('.view-consent-btn');
        const nextWorkflowBtn = document.getElementById('nextWorkflowBtn');
        const createContentBtn = document.getElementById('createContentBtn');
        const addConsentBtn = document.getElementById('addConsentBtn');
        const renewConsentBtn = document.getElementById('renewConsentBtn');
        const toastCloseButtons = document.querySelectorAll('.toast-close');
        const successToast = document.getElementById('successToast');
        const errorToast = document.getElementById('errorToast');
        const warningToast = document.getElementById('warningToast');
        const ethicsCheckboxes = document.querySelectorAll('[name="ethics"]');
        const contentWorkflowForm = document.getElementById('contentWorkflowForm');

        // Theme Management
        function setTheme(themeName) {
            localStorage.setItem('theme', themeName);
            document.body.setAttribute('data-theme', themeName);
            if (themeName === 'dark') {
                themeToggle.innerHTML = '<span class="material-symbols-rounded">light_mode</span>';
            } else {
                themeToggle.innerHTML = '<span class="material-symbols-rounded">dark_mode</span>';
            }
            updateCharts();
        }

        // Check for saved theme preference
        (function() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            setTheme(savedTheme);
        })();

        // Theme toggle event
        themeToggle.addEventListener('click', () => {
            const currentTheme = localStorage.getItem('theme') || 'light';
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            setTheme(newTheme);
        });

        // Sidebar toggle
        sidebarToggle.addEventListener('click', () => {
            sidebar.classList.toggle('sidebar-collapsed');
            if (sidebar.classList.contains('sidebar-collapsed')) {
                sidebarToggle.innerHTML = '<span class="material-symbols-rounded">chevron_right</span>';
            } else {
                sidebarToggle.innerHTML = '<span class="material-symbols-rounded">chevron_left</span>';
            }
        });

        // Toggle segment content visibility
        segmentHeaders.forEach(header => {
            header.addEventListener('click', () => {
                const contentId = header.id.replace('header', 'content');
                const content = document.getElementById(contentId);
                const toggle = header.querySelector('.segment-toggle');
                const isExpanded = header.getAttribute('aria-expanded') === 'true';
                
                if (isExpanded) {
                    content.classList.remove('active');
                    toggle.textContent = 'expand_more';
                    header.setAttribute('aria-expanded', 'false');
                    content.setAttribute('aria-hidden', 'true');
                } else {
                    content.classList.add('active');
                    toggle.textContent = 'expand_less';
                    header.setAttribute('aria-expanded', 'true');
                    content.setAttribute('aria-hidden', 'false');
                }
            });

            // Keyboard accessibility
            header.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    header.click();
                }
            });
        });

        // Modal functionality
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.add('active');
            
            // Set focus to the first focusable element
            const focusableElements = modal.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
            if (focusableElements.length) {
                focusableElements[0].focus();
            }
        }
        
        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.remove('active');
        }
        
        // Open consent modal when clicking view button
        viewConsentBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const consentId = btn.getAttribute('data-id');
                document.getElementById('modalConsentId').textContent = consentId;
                
                // In a real app, we would fetch consent details from the server
                // For now, let's simulate different consent details based on ID
                if (consentId === 'CST-2023-0138') {
                    document.getElementById('modalPatientName').textContent = 'Alex M.';
                    document.getElementById('modalGuardianName').textContent = 'Jennifer M. (Mother)';
                    document.getElementById('modalDateSigned').textContent = 'January 15, 2023';
                    document.getElementById('modalExpirationDate').textContent = 'July 15, 2023';
                    document.getElementById('modalApprovedUses').innerHTML = `
                        <span class="consent-use-tag">Photo</span>
                        <span class="consent-use-tag">Story</span>
                        <span class="consent-use-tag">Print</span>
                    `;
                    document.getElementById('modalRestrictions').textContent = 'No social media sharing. First name only.';
                    document.getElementById('modalStatus').innerHTML = '<span class="material-symbols-rounded consent-icon consent-expired">error</span> Expired';
                    document.getElementById('modalLinkedContent').innerHTML = '<li>Alex\'s Recovery After Surgery</li>';
                    document.getElementById('modalNotes').textContent = 'Mother requested renewal notification one month before expiration.';
                } else if (consentId === 'CST-2023-0149') {
                    document.getElementById('modalPatientName').textContent = 'Emma K.';
                    document.getElementById('modalGuardianName').textContent = 'Robert K. (Father)';
                    document.getElementById('modalDateSigned').textContent = 'June 28, 2023';
                    document.getElementById('modalExpirationDate').textContent = 'August 28, 2023';
                    document.getElementById('modalApprovedUses').innerHTML = `
                        <span class="consent-use-tag">Photo</span>
                        <span class="consent-use-tag">Video</span>
                        <span class="consent-use-tag">Social</span>
                    `;
                    document.getElementById('modalRestrictions').textContent = 'First name only. No identifying information about medical condition.';
                    document.getElementById('modalStatus').innerHTML = '<span class="material-symbols-rounded consent-icon consent-expiring">warning</span> Expiring Soon';
                    document.getElementById('modalLinkedContent').innerHTML = '<li>Pediatric Oncology Playroom Renovation</li>';
                    document.getElementById('modalNotes').textContent = 'Parents are advocates for the playroom renovation project.';
                } else {
                    document.getElementById('modalPatientName').textContent = 'Sarah T.';
                    document.getElementById('modalGuardianName').textContent = 'Michael T. (Father)';
                    document.getElementById('modalDateSigned').textContent = 'June 10, 2023';
                    document.getElementById('modalExpirationDate').textContent = 'December 10, 2023';
                    document.getElementById('modalApprovedUses').innerHTML = `
                        <span class="consent-use-tag">Photo</span>
                        <span class="consent-use-tag">Video</span>
                        <span class="consent-use-tag">Story</span>
                        <span class="consent-use-tag">Social</span>
                    `;
                    document.getElementById('modalRestrictions').textContent = 'No identifiable photos on social media. First name only.';
                    document.getElementById('modalStatus').innerHTML = '<span class="material-symbols-rounded consent-icon consent-valid">verified</span> Valid';
                    document.getElementById('modalLinkedContent').innerHTML = '<li>Sarah\'s Journey Through Treatment</li>';
                    document.getElementById('modalNotes').textContent = 'Parents very supportive of sharing Sarah\'s story to help other families.';
                }
                
                openModal('consentModal');
            });
        });
        
        // Close modal when clicking close button or outside
        modalClose.forEach(closeBtn => {
            closeBtn.addEventListener('click', () => {
                closeModal('consentModal');
            });
        });
        
        consentModal.addEventListener('click', (e) => {
            if (e.target === consentModal) {
                closeModal('consentModal');
            }
        });

        // Keyboard accessibility for modal
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && consentModal.classList.contains('active')) {
                closeModal('consentModal');
            }
        });

        // Toast notifications
        function showToast(toastElement, message, duration = 3000) {
            if (message) {
                const messageElement = toastElement.querySelector('.toast-message');
                if (messageElement) {
                    messageElement.textContent = message;
                }
            }
            
            toastElement.classList.add('show');
            
            setTimeout(() => {
                hideToast(toastElement);
            }, duration);
        }

        function hideToast(toastElement) {
            toastElement.classList.remove('show');
        }

        toastCloseButtons.forEach(button => {
            button.addEventListener('click', () => {
                const toast = button.closest('.toast');
                hideToast(toast);
            });
        });

        // Form validation
        function validateEthicsCheckboxes() {
            let allChecked = true;
            ethicsCheckboxes.forEach(checkbox => {
                if (!checkbox.checked) {
                    allChecked = false;
                    checkbox.classList.add('error');
                } else {
                    checkbox.classList.remove('error');
                }
            });
            
            if (!allChecked) {
                const errorElement = document.querySelector('.form-error');
                errorElement.style.display = 'block';
                showToast(warningToast, 'You must agree to all ethical guidelines to proceed');
            }
            
            return allChecked;
        }

        ethicsCheckboxes.forEach(checkbox => {
            checkbox.addEventListener('change', () => {
                if (checkbox.checked) {
                    checkbox.classList.remove('error');
                    // Check if all are now checked
                    let allChecked = true;
                    ethicsCheckboxes.forEach(cb => {
                        if (!cb.checked) allChecked = false;
                    });
                    
                    if (allChecked) {
                        const errorElement = document.querySelector('.form-error');
                        errorElement.style.display = 'none';
                    }
                }
            });
        });

        // Button event handlers
        nextWorkflowBtn.addEventListener('click', () => {
            if (validateEthicsCheckboxes()) {
                showToast(successToast, 'Step 1 completed successfully! Moving to Step 2...');
                
                // In a real app, we would navigate to the next step
                // For demo purposes, let's simulate moving to step 2
                document.querySelectorAll('.workflow-step')[0].classList.remove('active');
                document.querySelectorAll('.workflow-step')[0].classList.add('completed');
                document.querySelectorAll('.workflow-step')[1].classList.add('active');
            }
        });

        createContentBtn.addEventListener('click', () => {
            // Scroll to workflow section
            const workflowSection = document.querySelector('.workflow-container');
            workflowSection.scrollIntoView({ behavior: 'smooth' });
        });

        addConsentBtn.addEventListener('click', () => {
            showToast(infoToast, 'New consent form feature coming soon!');
        });

        renewConsentBtn.addEventListener('click', () => {
            showToast(successToast, 'Consent renewal request sent to guardian');
            closeModal('consentModal');
        });

        // Charts
        function initializeCharts() {
            // Content Performance Chart
            const ctx = document.getElementById('contentPerformance').getContext('2d');
            
            // Get theme colors
            const isDarkTheme = document.body.getAttribute('data-theme') === 'dark';
            const textColor = isDarkTheme ? '#dfe6e9' : '#333333';
            const gridColor = isDarkTheme ? '#34495e' : '#e9ecef';
            
            window.contentChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
                    datasets: [
                        {
                            label: 'Patient Stories',
                            data: [5, 7, 4, 6, 8, 5, 9],
                            backgroundColor: '#3498db',
                            borderColor: '#2980b9',
                            borderWidth: 1
                        },
                        {
                            label: 'Medical Innovations',
                            data: [2, 3, 5, 3, 4, 6, 4],
                            backgroundColor: '#2ecc71',
                            borderColor: '#27ae60',
                            borderWidth: 1
                        },
                        {
                            label: 'Hospital Needs',
                            data: [1, 2, 3, 2, 3, 4, 5],
                            backgroundColor: '#f39c12',
                            borderColor: '#d68910',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                color: textColor
                            }
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                color: gridColor
                            },
                            ticks: {
                                color: textColor
                            }
                        },
                        y: {
                            grid: {
                                color: gridColor
                            },
                            ticks: {
                                color: textColor
                            },
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        function updateCharts() {
            if (window.contentChart) {
                const isDarkTheme = document.body.getAttribute('data-theme') === 'dark';
                const textColor = isDarkTheme ? '#dfe6e9' : '#333333';
                const gridColor = isDarkTheme ? '#34495e' : '#e9ecef';
                
                window.contentChart.options.scales.x.grid.color = gridColor;
                window.contentChart.options.scales.y.grid.color = gridColor;
                window.contentChart.options.scales.x.ticks.color = textColor;
                window.contentChart.options.scales.y.ticks.color = textColor;
                window.contentChart.options.plugins.legend.labels.color = textColor;
                
                window.contentChart.update();
            }
        }

        // Initialize charts when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            initializeCharts();
        });

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            // Add keyboard shortcuts
            if (e.altKey && e.key === 'n') { // Alt+N for new content
                createContentBtn.click();
            } else if (e.altKey && e.key === 'c') { // Alt+C for consent management
                document.querySelector('a[href="#"].nav-link').click();
            }
        });
    </script>
</body>
</html>