<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IT Modernization & Cloud Migration Planner</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-blue: #007bff;
            --secondary-gray: #6c757d;
            --success-green: #28a745;
            --warning-yellow: #ffc107;
            --danger-red: #dc3545;
            --info-cyan: #17a2b8;
            --light-gray: #f8f9fa;
            --dark-gray: #343a40;
            --white: #ffffff;
            --border-color: #dee2e6;
            --card-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            --border-radius: 8px;
            --spacing-unit: 16px;
        }

        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--light-gray);
            color: var(--dark-gray);
            line-height: 1.6;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        .sidebar {
            width: 250px;
            background-color: var(--white);
            padding: var(--spacing-unit) 0;
            box-shadow: var(--card-shadow);
            flex-shrink: 0;
            border-right: 1px solid var(--border-color);
        }

        .sidebar h2 {
            text-align: center;
            color: var(--primary-blue);
            margin-bottom: calc(2 * var(--spacing-unit));
            font-size: 1.4em;
        }

        .nav-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .nav-item {
            margin: 0 var(--spacing-unit) 8px var(--spacing-unit);
        }

        .nav-link {
            display: flex;
            align-items: center;
            padding: 12px var(--spacing-unit);
            color: var(--dark-gray);
            text-decoration: none;
            border-radius: var(--border-radius);
            transition: background-color 0.2s ease, color 0.2s ease;
            font-weight: 500;
        }

        .nav-link:hover {
            background-color: var(--light-gray);
            color: var(--primary-blue);
        }

        .nav-link.active {
            background-color: var(--primary-blue);
            color: var(--white);
        }

        .nav-link.active .nav-icon {
             filter: brightness(0) invert(1); /* Make icon white */
        }


        .nav-icon {
            width: 20px;
            height: 20px;
            margin-right: 10px;
            /* Basic icon styling - replace with actual icons */
            background-color: var(--dark-gray); /* Default icon color */
            mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2L2 22h20L12 2z"/></svg>') no-repeat center / contain; /* Placeholder mask */
        }

         .nav-link:hover .nav-icon {
            background-color: var(--primary-blue); /* Icon color on hover */
        }


        .main-content {
            flex-grow: 1;
            padding: calc(2 * var(--spacing-unit));
            overflow-y: auto;
        }

        .page-section {
            display: none; /* Hidden by default */
        }

        .page-section.active {
            display: block; /* Shown when active */
        }

        h1, h2, h3 {
            color: var(--dark-gray);
            margin-bottom: var(--spacing-unit);
        }

        h1 { font-size: 2em; }
        h2 { font-size: 1.5em; }
        h3 { font-size: 1.2em; }

        .card {
            background-color: var(--white);
            border-radius: var(--border-radius);
            padding: calc(1.5 * var(--spacing-unit));
            margin-bottom: calc(1.5 * var(--spacing-unit));
            box-shadow: var(--card-shadow);
            border: 1px solid var(--border-color);
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--spacing-unit);
        }

        .metric-card {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .metric-card .value {
            font-size: 2em;
            font-weight: 700;
            color: var(--primary-blue);
        }

        .metric-card .label {
            font-size: 1em;
            color: var(--secondary-gray);
        }

        .progress-card .progress-bar-container {
            width: 100%;
            background-color: var(--light-gray);
            border-radius: 4px;
            overflow: hidden;
            height: 10px;
            margin-top: var(--spacing-unit);
        }

        .progress-card .progress-bar {
            height: 100%;
            background-color: var(--success-green);
            width: 0%; /* Updated by JS */
            transition: width 0.3s ease;
        }

        .progress-card .progress-text {
            text-align: right;
            font-size: 0.9em;
            color: var(--secondary-gray);
            margin-top: 4px;
        }


        /* Forms */
        .form-group {
            margin-bottom: var(--spacing-unit);
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark-gray);
        }

        .form-group input[type="text"],
        .form-group input[type="number"],
        .form-group input[type="date"],
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            font-size: 1em;
            box-sizing: border-box; /* Include padding and border in element's total width and height */
        }

        .form-group input[type="checkbox"],
        .form-group input[type="radio"] {
            margin-right: 8px;
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .button {
            display: inline-block;
            padding: 10px 20px;
            font-size: 1em;
            font-weight: 600;
            text-align: center;
            text-decoration: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
            border: 1px solid transparent;
        }

        .button-primary {
            background-color: var(--primary-blue);
            color: var(--white);
            border-color: var(--primary-blue);
        }

        .button-primary:hover {
            background-color: #0056b3;
            border-color: #0056b3;
        }

        .button-secondary {
            background-color: var(--secondary-gray);
            color: var(--white);
            border-color: var(--secondary-gray);
        }

        .button-secondary:hover {
            background-color: #545b62;
            border-color: #545b62;
        }

        .button-outline-primary {
            background-color: transparent;
            color: var(--primary-blue);
            border-color: var(--primary-blue);
        }

        .button-outline-primary:hover {
            background-color: var(--primary-blue);
            color: var(--white);
        }

        .button-group {
            display: flex;
            gap: var(--spacing-unit);
            margin-top: var(--spacing-unit);
        }

        /* Wizard */
        .wizard-steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: calc(2 * var(--spacing-unit));
            position: relative;
        }

        .wizard-steps::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            border-top: 2px dashed var(--border-color);
            transform: translateY(-50%);
            z-index: 1;
        }

        .wizard-step {
            flex-grow: 1;
            text-align: center;
            position: relative;
            z-index: 2;
        }

        .wizard-step-circle {
            width: 30px;
            height: 30px;
            background-color: var(--secondary-gray);
            color: var(--white);
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin-bottom: 8px;
            transition: background-color 0.2s ease;
        }

        .wizard-step-circle.active {
            background-color: var(--primary-blue);
        }

         .wizard-step-circle.completed {
            background-color: var(--success-green);
        }

        .wizard-step-label {
            font-size: 0.9em;
            color: var(--secondary-gray);
            transition: color 0.2s ease;
        }

        .wizard-step-label.active {
            color: var(--primary-blue);
            font-weight: 600;
        }

        .wizard-step-content {
            display: none; /* Hidden by default */
            padding-top: var(--spacing-unit);
        }

        .wizard-step-content.active {
            display: block; /* Shown when active */
        }

        /* Tables */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: var(--spacing-unit);
        }

        .data-table th,
        .data-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .data-table th {
            background-color: var(--light-gray);
            font-weight: 600;
            color: var(--dark-gray);
        }

        .data-table tbody tr:hover {
            background-color: #f1f1f1;
        }

        /* Checklists */
        .checklist {
            list-style: none;
            padding: 0;
        }

        .checklist-item {
            background-color: var(--white);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            padding: 12px var(--spacing-unit);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .checklist-item:hover {
            background-color: var(--light-gray);
        }

        .checklist-item input[type="checkbox"] {
            margin-right: var(--spacing-unit);
            cursor: pointer;
        }

        .checklist-item.completed {
            text-decoration: line-through;
            color: var(--secondary-gray);
            background-color: #e9ecef;
        }

        /* Modals */
        .modal {
            display: none; /* Hidden by default */
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4);
            padding-top: 60px;
            animation: fadeIn 0.3s ease-out;
        }

        .modal-content {
            background-color: var(--white);
            margin: 5% auto;
            padding: calc(2 * var(--spacing-unit));
            border-radius: var(--border-radius);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            max-width: 600px;
            position: relative;
            animation: slideInFromTop 0.3s ease-out;
        }

        .close-button {
            color: var(--secondary-gray);
            position: absolute;
            top: var(--spacing-unit);
            right: var(--spacing-unit);
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.2s ease;
        }

        .close-button:hover,
        .close-button:focus {
            color: var(--dark-gray);
            text-decoration: none;
            cursor: pointer;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideInFromTop {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* Tooltips */
        .tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: var(--dark-gray);
            color: var(--white);
            text-align: center;
            border-radius: 4px;
            padding: 8px;
            position: absolute;
            z-index: 1001;
            bottom: 125%; /* Position the tooltip above the text */
            left: 50%;
            margin-left: -100px; /* Use half the width to center the tooltip */
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .tooltip .tooltiptext::after {
            content: "";
            position: absolute;
            top: 100%; /* At the bottom of the tooltip */
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--dark-gray) transparent transparent transparent;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        /* Notification Banners */
        .notification {
            padding: var(--spacing-unit);
            margin-bottom: var(--spacing-unit);
            border-radius: var(--border-radius);
            color: var(--dark-gray);
            border: 1px solid transparent;
            display: none; /* Hidden by default */
            animation: slideInFromTop 0.3s ease-out;
        }

        .notification.show {
            display: block;
        }

        .notification-success {
            background-color: #d4edda;
            border-color: #c3e6cb;
            color: #155724;
        }

        .notification-warning {
            background-color: #fff3cd;
            border-color: #ffeeba;
            color: #856404;
        }

        .notification-danger {
            background-color: #f8d7da;
            border-color: #f5c6cb;
            color: #721c24;
        }

        .notification-info {
            background-color: #d1ecf1;
            border-color: #bee5eb;
            color: #0c5460;
        }

        /* Expandable Panels */
        .expandable-panel-header {
            background-color: var(--light-gray);
            padding: 12px var(--spacing-unit);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: -1px; /* Collapse borders */
            transition: background-color 0.2s ease;
        }

        .expandable-panel-header:hover {
            background-color: #e9ecef;
        }

        .expandable-panel-header .arrow {
            transition: transform 0.3s ease;
        }

        .expandable-panel-header.active .arrow {
            transform: rotate(180deg);
        }

        .expandable-panel-content {
            border: 1px solid var(--border-color);
            border-top: none;
            border-radius: 0 0 var(--border-radius) var(--border-radius);
            padding: var(--spacing-unit);
            display: none; /* Hidden by default */
            overflow: hidden;
            transition: max-height 0.3s ease-out, padding 0.3s ease-out;
            max-height: 0; /* Used for transition */
        }

         .expandable-panel-content.active {
            display: block;
            max-height: 1000px; /* Sufficiently large value */
            padding: var(--spacing-unit);
         }


        /* Basic Chart Placeholder */
        .chart-placeholder {
            width: 100%;
            height: 300px;
            background-color: #e9ecef;
            border: 1px dashed var(--secondary-gray);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--secondary-gray);
            font-style: italic;
            border-radius: var(--border-radius);
            margin-top: var(--spacing-unit);
        }

    </style>
</head>
<body>

    <div class="container">
        <aside class="sidebar">
            <h2>Migration Planner</h2>
            <ul class="nav-list">
                <li class="nav-item">
                    <a href="#dashboard" class="nav-link active" data-section="dashboard">
                        <div class="nav-icon" style="mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 13h8V3H3v10zm0 8h8v-7H3v7zm10 0h8V11h-8v10zm0-18v7h8V3h-8z"/></svg>') no-repeat center / contain;"></div>
                        Dashboard
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#assessment" class="nav-link" data-section="assessment">
                         <div class="nav-icon" style="mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/></svg>') no-repeat center / contain;"></div>
                        Assessment
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#planning" class="nav-link" data-section="planning">
                        <div class="nav-icon" style="mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/></svg>') no-repeat center / contain;"></div>
                        Planning
                    </a>
                </li>
                 <li class="nav-item">
                    <a href="#migration" class="nav-link" data-section="migration">
                        <div class="nav-icon" style="mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 17l5-5-5-5v10z"/></svg>') no-repeat center / contain;"></div>
                        Migration
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#optimization" class="nav-link" data-section="optimization">
                        <div class="nav-icon" style="mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>') no-repeat center / contain;"></div>
                        Optimization
                    </a>
                </li>
                 <li class="nav-item">
                    <a href="#security" class="nav-link" data-section="security">
                        <div class="nav-icon" style="mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.9c-1.77 0-3.2-1.43-3.2-3.2s1.43-3.2 3.2-3.2 3.2 1.43 3.2 3.2-1.43 3.2-3.2 3.2z"/></svg>') no-repeat center / contain;"></div>
                        Security
                    </a>
                </li>
                 <li class="nav-item">
                    <a href="#compliance" class="nav-link" data-section="compliance">
                        <div class="nav-icon" style="mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 16c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>') no-repeat center / contain;"></div>
                        Compliance
                    </a>
                </li>
                 <li class="nav-item">
                    <a href="#risks" class="nav-link" data-section="risks">
                        <div class="nav-icon" style="mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg>') no-repeat center / contain;"></div>
                        Risks
                    </a>
                </li>
                 <li class="nav-item">
                    <a href="#resources" class="nav-link" data-section="resources">
                        <div class="nav-icon" style="mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.5 6v-.25c0-2.07-1.68-3.75-3.75-3.75S9 3.68 9 5.75V6H8c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-1.5zM10 5.75c0-1.24 1.01-2.25 2.25-2.25S14.5 4.51 14.5 5.75V6h-4v-.25zM18 18H8V8h10v10zm-5-7c0-.55-.45-1-1-1s-1 .45-1 1v2h-2v2h2v2h2v-2h2v-2h-2v-2z"/></svg>') no-repeat center / contain;"></div>
                        Resources
                    </a>
                </li>
            </ul>
        </aside>

        <main class="main-content">
            <!-- Dashboard Section -->
            <section id="dashboard" class="page-section active">
                <h1>Project Dashboard</h1>
                <div class="dashboard-grid">
                    <div class="card metric-card">
                        <div>
                            <div class="label">Overall Progress</div>
                            <div class="value" id="overall-progress-value">0%</div>
                        </div>
                         <!-- Placeholder for circular progress indicator -->
                        <div style="width: 60px; height: 60px; background-color: #e9ecef; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.8em; color: var(--secondary-gray);">Circle</div>
                    </div>
                     <div class="card metric-card">
                        <div>
                            <div class="label">Tasks Completed</div>
                            <div class="value" id="tasks-completed-value">0/0</div>
                        </div>
                         <!-- Placeholder for task icon -->
                        <div style="width: 40px; height: 40px; background-color: #e9ecef; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.8em; color: var(--secondary-gray);">Task</div>
                    </div>
                     <div class="card metric-card">
                        <div>
                            <div class="label">Identified Risks</div>
                            <div class="value" id="risks-identified-value">0</div>
                        </div>
                         <!-- Placeholder for risk icon -->
                        <div style="width: 40px; height: 40px; background-color: #e9ecef; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.8em; color: var(--secondary-gray);">Risk</div>
                    </div>
                     <div class="card metric-card">
                        <div>
                            <div class="label">Compliance Status</div>
                            <div class="value" id="compliance-status-value">0%</div>
                        </div>
                         <!-- Placeholder for compliance icon -->
                        <div style="width: 40px; height: 40px; background-color: #e9ecef; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.8em; color: var(--secondary-gray);">Comp.</div>
                    </div>
                </div>

                <div class="card progress-card">
                    <h2>Phase Progress</h2>
                    <div>
                        <h3>Assessment</h3>
                        <div class="progress-bar-container"><div class="progress-bar" id="assessment-progress" style="width: 0%;"></div></div>
                        <div class="progress-text" id="assessment-progress-text">0%</div>
                    </div>
                     <div>
                        <h3>Planning</h3>
                        <div class="progress-bar-container"><div class="progress-bar" id="planning-progress" style="width: 0%;"></div></div>
                        <div class="progress-text" id="planning-progress-text">0%</div>
                    </div>
                     <div>
                        <h3>Migration</h3>
                        <div class="progress-bar-container"><div class="progress-bar" id="migration-progress" style="width: 0%;"></div></div>
                        <div class="progress-text" id="migration-progress-text">0%</div>
                    </div>
                     <div>
                        <h3>Optimization</h3>
                        <div class="progress-bar-container"><div class="progress-bar" id="optimization-progress" style="width: 0%;"></div></div>
                        <div class="progress-text" id="optimization-progress-text">0%</div>
                    </div>
                </div>

                 <div class="card">
                    <h2>Key Metrics & Visualizations</h2>
                    <p>Placeholder for charts and graphs (e.g., Timeline, Inventory Breakdown, Risk Matrix)</p>
                    <div class="chart-placeholder">Chart Placeholder</div>
                    <div class="chart-placeholder">Chart Placeholder</div>
                 </div>

            </section>

            <!-- Assessment Section -->
            <section id="assessment" class="page-section">
                 <h1>Infrastructure Assessment</h1>
                 <p>Gather information about your current IT environment.</p>

                 <div class="card">
                    <h2>Inventory Tools</h2>
                    <p>Use these tools to document your existing servers, applications, and data.</p>
                    <button class="button button-primary" onclick="showModal('inventoryModal')">Add Server</button>
                    <button class="button button-outline-primary" onclick="showModal('appInventoryModal')">Add Application</button>

                    <h3 style="margin-top: var(--spacing-unit);">Server Inventory</h3>
                     <table class="data-table">
                        <thead>
                            <tr>
                                <th>Server Name</th>
                                <th>OS</th>
                                <th>Role</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Server-01</td>
                                <td>Windows Server 2012</td>
                                <td>Domain Controller</td>
                                <td>Active</td>
                                <td><button class="button button-secondary button-small">Edit</button></td>
                            </tr>
                             <tr>
                                <td>Server-02</td>
                                <td>Windows Server 2016</td>
                                <td>File Server</td>
                                <td>Active</td>
                                <td><button class="button button-secondary button-small">Edit</button></td>
                            </tr>
                            <!-- More rows will be added via JS -->
                        </tbody>
                    </table>

                     <h3 style="margin-top: var(--spacing-unit);">Application Inventory</h3>
                     <table class="data-table">
                        <thead>
                            <tr>
                                <th>Application Name</th>
                                <th>Vendor</th>
                                <th>Version</th>
                                <th>Dependencies</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Accounting Software</td>
                                <td>Acme Corp</td>
                                <td>5.2</td>
                                <td>SQL Server</td>
                                <td><button class="button button-secondary button-small">Edit</button></td>
                            </tr>
                             <tr>
                                <td>CRM System</td>
                                <td>Global Solutions</td>
                                <td>3.0</td>
                                <td>Web Server</td>
                                <td><button class="button button-secondary button-small">Edit</button></td>
                            </tr>
                            <!-- More rows will be added via JS -->
                        </tbody>
                    </table>
                 </div>

                 <div class="card">
                    <h2>Workload Assessment</h2>
                    <p>Analyze the performance and resource usage of your key systems.</p>
                     <div class="form-group">
                        <label for="workload-app">Select Application:</label>
                        <select id="workload-app">
                            <option value="">-- Select --</option>
                            <option value="accounting">Accounting Software</option>
                            <option value="crm">CRM System</option>
                        </select>
                    </div>
                     <div class="form-group">
                        <label for="workload-peak">Peak Load Period:</label>
                        <input type="text" id="workload-peak" placeholder="e.g., Tax Season (Jan-Apr)">
                    </div>
                     <div class="form-group">
                        <label for="workload-metrics">Key Metrics to Monitor:</label>
                        <textarea id="workload-metrics" placeholder="e.g., CPU Usage, Memory, Disk IO, Network Latency"></textarea>
                    </div>
                    <button class="button button-primary">Save Assessment</button>
                 </div>
            </section>

            <!-- Planning Section -->
            <section id="planning" class="page-section">
                <h1>Migration Planning</h1>
                <p>Define your cloud migration strategy and detailed plan.</p>

                <div class="card">
                    <h2>Project Setup Wizard</h2>
                    <div class="wizard-steps">
                        <div class="wizard-step">
                            <div class="wizard-step-circle active">1</div>
                            <div class="wizard-step-label active">Project Scope</div>
                        </div>
                        <div class="wizard-step">
                            <div class="wizard-step-circle">2</div>
                            <div class="wizard-step-label">Workload Prioritization</div>
                        </div>
                        <div class="wizard-step">
                            <div class="wizard-step-circle">3</div>
                            <div class="wizard-step-label">Cloud Provider</div>
                        </div>
                         <div class="wizard-step">
                            <div class="wizard-step-circle">4</div>
                            <div class="wizard-step-label">Timeline & Resources</div>
                        </div>
                    </div>

                    <div id="wizard-content-1" class="wizard-step-content active">
                        <h3>Step 1: Define Project Scope</h3>
                         <div class="form-group">
                            <label for="project-name">Project Name:</label>
                            <input type="text" id="project-name" value="Accounting Firm Cloud Migration">
                        </div>
                         <div class="form-group">
                            <label for="project-goals">Project Goals:</label>
                            <textarea id="project-goals">Migrate on-premises infrastructure to cloud, improve security, enable remote work, ensure business continuity, meet compliance.</textarea>
                        </div>
                        <button class="button button-primary" onclick="nextWizardStep()">Next</button>
                    </div>

                     <div id="wizard-content-2" class="wizard-step-content">
                        <h3>Step 2: Workload Prioritization</h3>
                         <p>Prioritize applications and data for migration.</p>
                         <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Application</th>
                                    <th>Priority</th>
                                    <th>Migration Strategy</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Accounting Software</td>
                                    <td>High</td>
                                    <td>Rehost (Lift and Shift)</td>
                                </tr>
                                 <tr>
                                    <td>CRM System</td>
                                    <td>Medium</td>
                                    <td>Replatform</td>
                                </tr>
                                <!-- Add more rows -->
                            </tbody>
                        </table>
                         <button class="button button-secondary" onclick="prevWizardStep()">Previous</button>
                         <button class="button button-primary" onclick="nextWizardStep()">Next</button>
                    </div>

                     <div id="wizard-content-3" class="wizard-step-content">
                        <h3>Step 3: Select Cloud Provider</h3>
                         <div class="form-group">
                            <label for="cloud-provider">Choose Provider:</label>
                            <select id="cloud-provider">
                                <option value="aws">AWS</option>
                                <option value="azure">Azure</option>
                                <option value="gcp">Google Cloud Platform</option>
                            </select>
                        </div>
                         <div class="form-group">
                            <label for="cloud-region">Choose Region:</label>
                            <input type="text" id="cloud-region" placeholder="e.g., US East (N. Virginia)">
                        </div>
                         <button class="button button-secondary" onclick="prevWizardStep()">Previous</button>
                         <button class="button button-primary" onclick="nextWizardStep()">Next</button>
                    </div>

                     <div id="wizard-content-4" class="wizard-step-content">
                        <h3>Step 4: Define Timeline & Resources</h3>
                         <div class="form-group">
                            <label for="start-date">Start Date:</label>
                            <input type="date" id="start-date">
                        </div>
                         <div class="form-group">
                            <label for="end-date">Target End Date:</label>
                            <input type="date" id="end-date">
                        </div>
                         <div class="form-group">
                            <label for="team-members">Team Members:</label>
                            <textarea id="team-members" placeholder="List team members and roles"></textarea>
                        </div>
                         <button class="button button-secondary" onclick="prevWizardStep()">Previous</button>
                         <button class="button button-primary" onclick="completeWizard()">Complete Setup</button>
                    </div>
                </div>

                <div class="card">
                    <h2>Cost Estimation</h2>
                    <p>Estimate cloud costs based on planned workloads.</p>
                     <div class="form-group">
                        <label for="cost-workload">Select Workload:</label>
                        <select id="cost-workload">
                            <option value="">-- Select --</option>
                            <option value="accounting-vm">Accounting VM</option>
                            <option value="database">Database</option>
                        </select>
                    </div>
                     <div class="form-group">
                        <label for="cost-estimate">Estimated Monthly Cost ($):</label>
                        <input type="number" id="cost-estimate" value="0" min="0">
                    </div>
                     <button class="button button-primary">Add Estimate</button>

                     <h3 style="margin-top: var(--spacing-unit);">Cost Breakdown</h3>
                     <table class="data-table">
                        <thead>
                            <tr>
                                <th>Item</th>
                                <th>Estimated Monthly Cost ($)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>Accounting VM</td><td>150</td></tr>
                            <tr><td>Database</td><td>200</td></tr>
                            <tr><td>Networking</td><td>50</td></tr>
                            <tr><td>Storage</td><td>30</td></tr>
                            <tr><td><strong>Total Estimated Monthly Cost</strong></td><td><strong>430</strong></td></tr>
                        </tbody>
                    </table>
                </div>

                 <div class="card">
                    <h2>Business Continuity & Disaster Recovery</h2>
                    <p>Plan for high availability and data recovery.</p>
                     <div class="form-group">
                        <label for="rpo">Recovery Point Objective (RPO):</label>
                         <div class="tooltip">?
                            <span class="tooltiptext">Maximum acceptable data loss in case of an incident.</span>
                        </div>
                        <input type="text" id="rpo" placeholder="e.g., 1 hour">
                    </div>
                     <div class="form-group">
                        <label for="rto">Recovery Time Objective (RTO):</label>
                         <div class="tooltip">?
                            <span class="tooltiptext">Maximum acceptable downtime after an incident.</span>
                        </div>
                        <input type="text" id="rto" placeholder="e.g., 4 hours">
                    </div>
                     <div class="form-group">
                        <label for="dr-strategy">DR Strategy:</label>
                        <textarea id="dr-strategy" placeholder="Describe your disaster recovery strategy (e.g., Pilot Light, Warm Standby)"></textarea>
                    </div>
                    <button class="button button-primary">Save DR Plan</button>
                 </div>

                 <div class="card">
                    <h2>Automated Scaling Configuration</h2>
                    <p>Plan how resources will scale automatically based on demand.</p>
                     <div class="form-group">
                        <label for="scaling-workload">Select Workload:</label>
                        <select id="scaling-workload">
                             <option value="">-- Select --</option>
                            <option value="web-server">Web Server Tier</option>
                            <option value="app-server">Application Server Tier</option>
                        </select>
                    </div>
                     <div class="form-group">
                        <label for="scaling-metric">Scaling Metric:</label>
                        <input type="text" id="scaling-metric" placeholder="e.g., CPU Utilization">
                    </div>
                     <div class="form-group">
                        <label for="scaling-threshold">Threshold (%):</label>
                        <input type="number" id="scaling-threshold" value="70" min="0" max="100">
                    </div>
                     <div class="form-group">
                        <label for="scaling-min">Min Instances:</label>
                        <input type="number" id="scaling-min" value="1" min="1">
                    </div>
                     <div class="form-group">
                        <label for="scaling-max">Max Instances:</label>
                        <input type="number" id="scaling-max" value="5" min="1">
                    </div>
                    <button class="button button-primary">Save Scaling Rule</button>
                 </div>

            </section>

             <!-- Migration Section -->
            <section id="migration" class="page-section">
                <h1>Migration Execution</h1>
                <p>Track the progress of your migration tasks.</p>

                 <div class="card">
                    <h2>Migration Tasks Checklist</h2>
                    <p>Mark tasks as complete as you execute the migration plan.</p>
                     <ul class="checklist" id="migration-checklist">
                        <li class="checklist-item">
                            <input type="checkbox" id="task1">
                            <label for="task1">Setup Cloud Network (VPC, Subnets)</label>
                        </li>
                         <li class="checklist-item">
                            <input type="checkbox" id="task2">
                            <label for="task2">Configure Security Groups/Firewalls</label>
                        </li>
                         <li class="checklist-item">
                            <input type="checkbox" id="task3">
                            <label for="task3">Migrate Accounting Database</label>
                        </li>
                         <li class="checklist-item">
                            <input type="checkbox" id="task4">
                            <label for="task4">Migrate Accounting Application Servers</label>
                        </li>
                         <li class="checklist-item">
                            <input type="checkbox" id="task5">
                            <label for="task5">Perform User Acceptance Testing (UAT)</label>
                        </li>
                         <li class="checklist-item">
                            <input type="checkbox" id="task6">
                            <label for="task6">Cutover DNS</label>
                        </li>
                        <!-- More tasks added via JS -->
                    </ul>
                 </div>

                 <div class="card">
                    <h2>Migration Progress</h2>
                     <p>Overall migration phase progress based on completed tasks.</p>
                     <div class="progress-bar-container"><div class="progress-bar" id="migration-phase-progress" style="width: 0%;"></div></div>
                     <div class="progress-text" id="migration-phase-progress-text">0%</div>
                 </div>

            </section>

             <!-- Optimization Section -->
            <section id="optimization" class="page-section">
                <h1>Optimization & Post-Migration</h1>
                 <p>Refine your cloud environment and processes.</p>

                 <div class="card">
                    <h2>Cost Optimization</h2>
                    <p>Identify opportunities to reduce cloud spending.</p>
                     <div class="form-group">
                        <label for="optimization-area">Optimization Area:</label>
                        <select id="optimization-area">
                             <option value="">-- Select --</option>
                            <option value="compute">Compute (VMs)</option>
                            <option value="storage">Storage</option>
                            <option value="database">Database</option>
                            <option value="networking">Networking</option>
                        </select>
                    </div>
                     <div class="form-group">
                        <label for="optimization-action">Recommended Action:</label>
                        <textarea id="optimization-action" placeholder="e.g., Rightsizing VMs, Deleting unused volumes, Using reserved instances"></textarea>
                    </div>
                     <div class="form-group">
                        <label for="optimization-savings">Estimated Monthly Savings ($):</label>
                        <input type="number" id="optimization-savings" value="0" min="0">
                    </div>
                     <button class="button button-primary">Add Optimization Opportunity</button>

                      <h3 style="margin-top: var(--spacing-unit);">Optimization Opportunities</h3>
                     <table class="data-table">
                        <thead>
                            <tr>
                                <th>Area</th>
                                <th>Recommended Action</th>
                                <th>Estimated Monthly Savings ($)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>Compute</td><td>Rightsizing non-production VMs</td><td>50</td></tr>
                            <tr><td>Storage</td><td>Clean up old snapshots</td><td>10</td></tr>
                            <!-- Add more rows -->
                        </tbody>
                    </table>
                 </div>

                 <div class="card">
                    <h2>Performance Tuning</h2>
                    <p>Monitor and improve application performance in the cloud.</p>
                     <div class="form-group">
                        <label for="tuning-workload">Select Workload:</label>
                        <select id="tuning-workload">
                             <option value="">-- Select --</option>
                            <option value="accounting">Accounting Software</option>
                            <option value="crm">CRM System</option>
                        </select>
                    </div>
                     <div class="form-group">
                        <label for="tuning-issue">Identified Issue:</label>
                        <input type="text" id="tuning-issue" placeholder="e.g., High database query latency">
                    </div>
                     <div class="form-group">
                        <label for="tuning-action">Resolution Steps:</label>
                        <textarea id="tuning-action" placeholder="Describe steps taken to resolve"></textarea>
                    </div>
                    <button class="button button-primary">Log Performance Tuning</button>
                 </div>

                 <div class="card">
                    <h2>Staff Training & Knowledge Transfer</h2>
                    <p>Ensure staff is proficient with the new cloud environment.</p>
                     <ul class="checklist" id="training-checklist">
                        <li class="checklist-item">
                            <input type="checkbox" id="training1">
                            <label for="training1">Complete Cloud Fundamentals Training</label>
                        </li>
                         <li class="checklist-item">
                            <input type="checkbox" id="training2">
                            <label for="training2">Review New Security Procedures</label>
                        </li>
                         <li class="checklist-item">
                            <input type="checkbox" id="training3">
                            <label for="training3">Practice DR Failover Procedure</label>
                        </li>
                        <!-- More tasks added via JS -->
                    </ul>
                 </div>

            </section>

             <!-- Security Section -->
            <section id="security" class="page-section">
                <h1>Security Control Planning & Tracking</h1>
                 <p>Implement and monitor security measures in the cloud.</p>

                 <div class="card">
                    <h2>Security Checklist</h2>
                    <p>Ensure key security controls are planned and implemented.</p>
                     <ul class="checklist" id="security-checklist">
                        <li class="checklist-item">
                            <input type="checkbox" id="security1">
                            <label for="security1">Implement Multi-Factor Authentication (MFA)</label>
                        </li>
                         <li class="checklist-item">
                            <input type="checkbox" id="security2">
                            <label for="security2">Configure Network Segmentation</label>
                        </li>
                         <li class="checklist-item">
                            <input type="checkbox" id="security3">
                            <label for="security3">Setup Intrusion Detection/Prevention System (IDS/IPS)</label>
                        </li>
                         <li class="checklist-item">
                            <input type="checkbox" id="security4">
                            <label for="security4">Enable Audit Logging and Monitoring</label>
                        </li>
                         <li class="checklist-item">
                            <input type="checkbox" id="security5">
                            <label for="security5">Plan Regular Security Audits</label>
                        </li>
                        <!-- More tasks added via JS -->
                    </ul>
                 </div>

                 <div class="card">
                    <h2>Security Incident Response Plan</h2>
                    <p>Document steps to take in case of a security incident.</p>
                     <div class="form-group">
                        <label for="incident-plan">Incident Response Steps:</label>
                        <textarea id="incident-plan" placeholder="Outline detection, containment, eradication, and recovery steps"></textarea>
                    </div>
                    <button class="button button-primary">Save Incident Plan</button>
                 </div>
            </section>

             <!-- Compliance Section -->
            <section id="compliance" class="page-section">
                <h1>Regulatory Compliance</h1>
                 <p>Track compliance with relevant regulations (e.g., GDPR, HIPAA, industry-specific). Note: This example uses placeholders.</p>

                 <div class="card">
                    <h2>Compliance Checklist (Placeholder)</h2>
                    <p>Verify compliance requirements are met in the cloud environment.</p>
                     <ul class="checklist" id="compliance-checklist">
                        <li class="checklist-item">
                            <input type="checkbox" id="compliance1">
                            <label for="compliance1">Requirement A: Data Encryption at Rest</label>
                        </li>
                         <li class="checklist-item">
                            <input type="checkbox" id="compliance2">
                            <label for="compliance2">Requirement B: Access Control Policies</label>
                        </li>
                         <li class="checklist-item">
                            <input type="checkbox" id="compliance3">
                            <label for="compliance3">Requirement C: Data Retention Policies</label>
                        </li>
                        <!-- More tasks added via JS -->
                    </ul>
                 </div>

                 <div class="card">
                    <h2>Compliance Status Summary</h2>
                     <p>Overall compliance progress based on checklist completion.</p>
                     <div class="progress-bar-container"><div class="progress-bar" id="compliance-progress" style="width: 0%;"></div></div>
                     <div class="progress-text" id="compliance-progress-text">0%</div>
                 </div>
            </section>

             <!-- Risks Section -->
            <section id="risks" class="page-section">
                <h1>Risk Assessment & Mitigation</h1>
                 <p>Identify potential risks and plan mitigation strategies.</p>

                 <div class="card">
                    <h2>Risk Register</h2>
                    <p>Document identified risks, their impact, likelihood, and mitigation.</p>
                     <button class="button button-primary" onclick="showModal('riskModal')">Add Risk</button>

                     <table class="data-table" style="margin-top: var(--spacing-unit);">
                        <thead>
                            <tr>
                                <th>Risk</th>
                                <th>Impact</th>
                                <th>Likelihood</th>
                                <th>Mitigation Strategy</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Data Breach during Migration</td>
                                <td>High</td>
                                <td>Medium</td>
                                <td>Implement strong encryption, secure tunnel for data transfer.</td>
                                <td>Open</td>
                                <td><button class="button button-secondary button-small">Edit</button></td>
                            </tr>
                             <tr>
                                <td>Staff Lack of Cloud Skills</td>
                                <td>Medium</td>
                                <td>High</td>
                                <td>Provide comprehensive training, hire cloud consultant.</td>
                                <td>Open</td>
                                <td><button class="button button-secondary button-small">Edit</button></td>
                            </tr>
                            <!-- More rows added via JS -->
                        </tbody>
                    </table>
                 </div>

                 <div class="card">
                    <h2>Risk Matrix (Placeholder)</h2>
                    <p>Visual representation of risks by impact and likelihood.</p>
                     <div class="chart-placeholder">Risk Matrix Placeholder</div>
                 </div>
            </section>

             <!-- Resources Section -->
            <section id="resources" class="page-section">
                <h1>Resource Library</h1>
                 <p>Access training materials, best practices, and documentation.</p>

                 <div class="card">
                    <h2>Training Materials</h2>
                    <ul>
                        <li><a href="#" onclick="alert('Link Placeholder')">Cloud Fundamentals Guide (PDF)</a></li>
                        <li><a href="#" onclick="alert('Link Placeholder')">Security Best Practices in the Cloud (Video)</a></li>
                        <li><a href="#" onclick="alert('Link Placeholder')">Migrating Databases to AWS (Documentation)</a></li>
                    </ul>
                 </div>

                 <div class="card">
                    <h2>Best Practices Guides</h2>
                    <ul>
                        <li><a href="#" onclick="alert('Link Placeholder')">Cloud Cost Optimization Strategies</a></li>
                        <li><a href="#" onclick="alert('Link Placeholder')">Implementing Zero Trust Security</a></li>
                        <li><a href="#" onclick="alert('Link Placeholder')">Effective Cloud Monitoring</a></li>
                    </ul>
                 </div>
            </section>

            <!-- Notification Area -->
            <div id="notification-area" style="position: fixed; top: var(--spacing-unit); right: var(--spacing-unit); z-index: 1002;">
                <!-- Notifications will appear here -->
            </div>

        </main>
    </div>

    <!-- Modals -->
    <div id="inventoryModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="hideModal('inventoryModal')">&times;</span>
            <h2>Add Server to Inventory</h2>
             <div class="form-group">
                <label for="server-name">Server Name:</label>
                <input type="text" id="server-name" placeholder="e.g., DB-Server-Prod">
            </div>
             <div class="form-group">
                <label for="server-os">Operating System:</label>
                <input type="text" id="server-os" placeholder="e.g., Windows Server 2019">
            </div>
             <div class="form-group">
                <label for="server-role">Role/Function:</label>
                <input type="text" id="server-role" placeholder="e.g., Database Server">
            </div>
             <div class="form-group">
                <label for="server-cpu">CPU (Cores):</label>
                <input type="number" id="server-cpu" value="1" min="1">
            </div>
             <div class="form-group">
                <label for="server-ram">RAM (GB):</label>
                <input type="number" id="server-ram" value="1" min="1">
            </div>
             <div class="form-group">
                <label for="server-storage">Storage (GB):</label>
                <input type="number" id="server-storage" value="100" min="1">
            </div>
            <button class="button button-primary" onclick="addServer()">Add Server</button>
        </div>
    </div>

     <div id="appInventoryModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="hideModal('appInventoryModal')">&times;</span>
            <h2>Add Application to Inventory</h2>
             <div class="form-group">
                <label for="app-name">Application Name:</label>
                <input type="text" id="app-name" placeholder="e.g., Payroll System">
            </div>
             <div class="form-group">
                <label for="app-vendor">Vendor:</label>
                <input type="text" id="app-vendor" placeholder="e.g., Vendor Name">
            </div>
             <div class="form-group">
                <label for="app-version">Version:</label>
                <input type="text" id="app-version" placeholder="e.g., 2.1">
            </div>
             <div class="form-group">
                <label for="app-dependencies">Dependencies:</label>
                <textarea id="app-dependencies" placeholder="e.g., Requires Java Runtime, connects to SQL Server"></textarea>
            </div>
            <button class="button button-primary" onclick="addApplication()">Add Application</button>
        </div>
    </div>

     <div id="riskModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="hideModal('riskModal')">&times;</span>
            <h2>Add Risk</h2>
             <div class="form-group">
                <label for="risk-description">Risk Description:</label>
                <textarea id="risk-description" placeholder="Describe the potential risk"></textarea>
            </div>
             <div class="form-group">
                <label for="risk-impact">Impact:</label>
                <select id="risk-impact">
                    <option value="Low">Low</option>
                    <option value="Medium">Medium</option>
                    <option value="High">High</option>
                </select>
            </div>
             <div class="form-group">
                <label for="risk-likelihood">Likelihood:</label>
                <select id="risk-likelihood">
                    <option value="Low">Low</option>
                    <option value="Medium">Medium</option>
                    <option value="High">High</option>
                </select>
            </div>
             <div class="form-group">
                <label for="risk-mitigation">Mitigation Strategy:</label>
                <textarea id="risk-mitigation" placeholder="Describe how the risk will be mitigated"></textarea>
            </div>
            <button class="button button-primary" onclick="addRisk()">Add Risk</button>
        </div>
    </div>


    <script>
        let currentSection = 'dashboard';
        let currentWizardStep = 1;
        const totalWizardSteps = 4;

        document.addEventListener('DOMContentLoaded', () => {
            // Initial setup
            showSection(currentSection);
            setupNavigation();
            setupChecklists();
            setupExpandablePanels();
            updateDashboardMetrics(); // Initial dashboard update

            // Simulate some initial data/progress for demo
            simulateInitialData();
        });

        function setupNavigation() {
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const sectionId = link.getAttribute('data-section');
                    if (sectionId) {
                        showSection(sectionId);
                         // Update active class
                        navLinks.forEach(nav => nav.classList.remove('active'));
                        link.classList.add('active');
                    }
                });
            });
        }

        function showSection(sectionId) {
            const sections = document.querySelectorAll('.page-section');
            sections.forEach(section => {
                section.classList.remove('active');
            });
            const activeSection = document.getElementById(sectionId);
            if (activeSection) {
                activeSection.classList.add('active');
                currentSection = sectionId;
                 // Scroll to top of main content area
                 const mainContent = document.querySelector('.main-content');
                 if(mainContent) {
                     mainContent.scrollTop = 0;
                 }
            }
        }

        function showModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.display = 'block';
                // Add keyboard accessibility for closing modal
                modal.focus(); // Focus the modal for keyboard events
                modal.setAttribute('aria-modal', 'true');
                modal.setAttribute('role', 'dialog');
            }
        }

        function hideModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.display = 'none';
                modal.setAttribute('aria-modal', 'false');
                 modal.removeAttribute('role');
            }
        }

        // Close modal if user clicks outside of it
        window.onclick = function(event) {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (event.target == modal) {
                    modal.style.display = 'none';
                    modal.setAttribute('aria-modal', 'false');
                     modal.removeAttribute('role');
                }
            });
        }

        // Close modal with Escape key
        document.addEventListener('keydown', function(event) {
            if (event.key === "Escape") {
                const openModals = document.querySelectorAll('.modal[style*="display: block"]');
                openModals.forEach(modal => {
                    hideModal(modal.id);
                });
            }
        });


        function setupChecklists() {
            const checklists = document.querySelectorAll('.checklist');
            checklists.forEach(checklist => {
                checklist.addEventListener('change', (e) => {
                    if (e.target.type === 'checkbox') {
                        const item = e.target.closest('.checklist-item');
                        if (e.target.checked) {
                            item.classList.add('completed');
                        } else {
                            item.classList.remove('completed');
                        }
                        updateDashboardMetrics(); // Update dashboard on task change
                    }
                });
            });
        }

        function setupExpandablePanels() {
            const headers = document.querySelectorAll('.expandable-panel-header');
            headers.forEach(header => {
                header.addEventListener('click', () => {
                    const content = header.nextElementSibling;
                    header.classList.toggle('active');
                    content.classList.toggle('active');
                     if (content.classList.contains('active')) {
                         content.style.maxHeight = content.scrollHeight + "px"; // Set max-height for transition
                     } else {
                         content.style.maxHeight = null; // Reset max-height
                     }
                });
            });
        }


        function nextWizardStep() {
            if (currentWizardStep < totalWizardSteps) {
                document.getElementById(`wizard-content-${currentWizardStep}`).classList.remove('active');
                document.querySelector(`.wizard-step:nth-child(${currentWizardStep}) .wizard-step-circle`).classList.add('completed');
                 document.querySelector(`.wizard-step:nth-child(${currentWizardStep}) .wizard-step-circle`).classList.remove('active');
                 document.querySelector(`.wizard-step:nth-child(${currentWizardStep}) .wizard-step-label`).classList.remove('active');


                currentWizardStep++;
                document.getElementById(`wizard-content-${currentWizardStep}`).classList.add('active');
                 document.querySelector(`.wizard-step:nth-child(${currentWizardStep}) .wizard-step-circle`).classList.add('active');
                 document.querySelector(`.wizard-step:nth-child(${currentWizardStep}) .wizard-step-label`).classList.add('active');
            }
        }

         function prevWizardStep() {
            if (currentWizardStep > 1) {
                document.getElementById(`wizard-content-${currentWizardStep}`).classList.remove('active');
                 document.querySelector(`.wizard-step:nth-child(${currentWizardStep}) .wizard-step-circle`).classList.remove('active');
                 document.querySelector(`.wizard-step:nth-child(${currentWizardStep}) .wizard-step-label`).classList.remove('active');

                currentWizardStep--;
                document.getElementById(`wizard-content-${currentWizardStep}`).classList.add('active');
                 document.querySelector(`.wizard-step:nth-child(${currentWizardStep}) .wizard-step-circle`).classList.add('active');
                 document.querySelector(`.wizard-step:nth-child(${currentWizardStep}) .wizard-step-label`).classList.add('active');
                 document.querySelector(`.wizard-step:nth-child(${currentWizardStep}) .wizard-step-circle`).classList.remove('completed'); // Remove completed state if going back
            }
        }

         function completeWizard() {
             // Mark the last step as completed
             document.querySelector(`.wizard-step:nth-child(${totalWizardSteps}) .wizard-step-circle`).classList.add('completed');
             document.querySelector(`.wizard-step:nth-child(${totalWizardSteps}) .wizard-step-circle`).classList.remove('active');
             document.querySelector(`.wizard-step:nth-child(${totalWizardSteps}) .wizard-step-label`).classList.remove('active');

             showNotification('Project setup complete!', 'success');
             // Optionally navigate to Dashboard or Planning overview
             // showSection('dashboard');
         }

        function addServer() {
            const name = document.getElementById('server-name').value;
            const os = document.getElementById('server-os').value;
            const role = document.getElementById('server-role').value;
            // Add validation here
            if (name && os && role) {
                const tableBody = document.querySelector('#assessment .data-table tbody');
                const newRow = `
                    <tr>
                        <td>${name}</td>
                        <td>${os}</td>
                        <td>${role}</td>
                        <td>Active</td>
                        <td><button class="button button-secondary button-small">Edit</button></td>
                    </tr>
                `;
                tableBody.innerHTML += newRow;
                hideModal('inventoryModal');
                showNotification('Server added to inventory.', 'success');
            } else {
                 showNotification('Please fill in all server details.', 'warning');
            }
        }

         function addApplication() {
             const name = document.getElementById('app-name').value;
             const vendor = document.getElementById('app-vendor').value;
             // Add validation here
             if (name && vendor) {
                 const tableBody = document.querySelector('#assessment .data-table:nth-of-type(2) tbody'); // Select the second table
                 const newRow = `
                     <tr>
                         <td>${name}</td>
                         <td>${vendor}</td>
                         <td>N/A</td> <!-- Placeholder -->
                         <td>N/A</td> <!-- Placeholder -->
                         <td><button class="button button-secondary button-small">Edit</button></td>
                     </tr>
                 `;
                 tableBody.innerHTML += newRow;
                 hideModal('appInventoryModal');
                 showNotification('Application added to inventory.', 'success');
             } else {
                 showNotification('Please fill in application name and vendor.', 'warning');
             }
         }

         function addRisk() {
             const description = document.getElementById('risk-description').value;
             const impact = document.getElementById('risk-impact').value;
             const likelihood = document.getElementById('risk-likelihood').value;
             const mitigation = document.getElementById('risk-mitigation').value;

             if (description && impact && likelihood && mitigation) {
                 const tableBody = document.querySelector('#risks .data-table tbody');
                 const newRow = `
                     <tr>
                         <td>${description}</td>
                         <td>${impact}</td>
                         <td>${likelihood}</td>
                         <td>${mitigation}</td>
                         <td>Open</td>
                         <td><button class="button button-secondary button-small">Edit</button></td>
                     </tr>
                 `;
                 tableBody.innerHTML += newRow;
                 hideModal('riskModal');
                 showNotification('Risk added to register.', 'success');
                 updateDashboardMetrics(); // Update risk count on dashboard
             } else {
                 showNotification('Please fill in all risk details.', 'warning');
             }
         }


        function showNotification(message, type) {
            const notificationArea = document.getElementById('notification-area');
            const notification = document.createElement('div');
            notification.classList.add('notification', `notification-${type}`);
            notification.textContent = message;
            notificationArea.appendChild(notification);

            // Show the notification
            setTimeout(() => {
                notification.classList.add('show');
            }, 10); // Small delay for animation

            // Hide and remove after 5 seconds
            setTimeout(() => {
                notification.classList.remove('show');
                notification.addEventListener('transitionend', () => {
                    notification.remove();
                });
            }, 5000);
        }

        function updateDashboardMetrics() {
            // Update Overall Progress (Simulated based on checklists)
            const allCheckboxes = document.querySelectorAll('.checklist input[type="checkbox"]');
            const completedCheckboxes = document.querySelectorAll('.checklist input[type="checkbox"]:checked');
            const totalTasks = allCheckboxes.length;
            const completedTasks = completedCheckboxes.length;
            const overallProgress = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;

            document.getElementById('overall-progress-value').textContent = `${overallProgress}%`;
            document.getElementById('tasks-completed-value').textContent = `${completedTasks}/${totalTasks}`;

             // Update Phase Progress (Simulated based on specific checklists)
             const migrationChecklist = document.querySelectorAll('#migration-checklist input[type="checkbox"]');
             const completedMigrationTasks = document.querySelectorAll('#migration-checklist input[type="checkbox"]:checked').length;
             const totalMigrationTasks = migrationChecklist.length;
             const migrationProgress = totalMigrationTasks > 0 ? Math.round((completedMigrationTasks / totalMigrationTasks) * 100) : 0;
             document.getElementById('migration-phase-progress').style.width = `${migrationProgress}%`;
             document.getElementById('migration-phase-progress-text').textContent = `${migrationProgress}%`;
              document.getElementById('migration-progress').style.width = `${migrationProgress}%`; // Update dashboard phase bar
             document.getElementById('migration-progress-text').textContent = `${migrationProgress}%`; // Update dashboard phase text


             const complianceChecklist = document.querySelectorAll('#compliance-checklist input[type="checkbox"]');
             const completedComplianceTasks = document.querySelectorAll('#compliance-checklist input[type="checkbox"]:checked').length;
             const totalComplianceTasks = complianceChecklist.length;
             const complianceProgress = totalComplianceTasks > 0 ? Math.round((completedComplianceTasks / totalComplianceTasks) * 100) : 0;
             document.getElementById('compliance-progress').style.width = `${complianceProgress}%`;
             document.getElementById('compliance-progress-text').textContent = `${complianceProgress}%`;
              document.getElementById('compliance-status-value').textContent = `${complianceProgress}%`; // Update dashboard metric

             // Update Risk Count
             const totalRisks = document.querySelectorAll('#risks .data-table tbody tr').length;
             document.getElementById('risks-identified-value').textContent = totalRisks;


             // Placeholder for other phase progress updates (Assessment, Planning, Optimization)
             // These would be updated based on specific actions/data in those sections
             document.getElementById('assessment-progress').style.width = '25%'; // Example
             document.getElementById('assessment-progress-text').textContent = '25%'; // Example
             document.getElementById('planning-progress').style.width = '50%'; // Example
             document.getElementById('planning-progress-text').textContent = '50%'; // Example
             document.getElementById('optimization-progress').style.width = '10%'; // Example
             document.getElementById('optimization-progress-text').textContent = '10%'; // Example


        }

        function simulateInitialData() {
            // Simulate some completed tasks for initial dashboard view
            document.getElementById('security1').checked = true;
            document.getElementById('security1').closest('.checklist-item').classList.add('completed');
             document.getElementById('compliance1').checked = true;
            document.getElementById('compliance1').closest('.checklist-item').classList.add('completed');

             // Add a couple more sample risks
             const riskTableBody = document.querySelector('#risks .data-table tbody');
             riskTableBody.innerHTML += `
                 <tr>
                     <td>Vendor Lock-in</td>
                     <td>Medium</td>
                     <td>Low</td>
                     <td>Use open standards, multi-cloud strategy where feasible.</td>
                     <td>Open</td>
                     <td><button class="button button-secondary button-small">Edit</button></td>
                 </tr>
             `;

            updateDashboardMetrics(); // Update dashboard with simulated data
        }


    </script>

</body>
</html>
