<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Children's Hospital Foundation Comms Hub</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <style>
        :root {
            --primary-color: #007acc; /* Vibrant Blue */
            --accent-color: #ff9800; /* Warm Orange */
            --background-color: #ffffff; /* Pure White */
            --body-bg: #f4f7f6; /* Light Grey for body */
            --text-color: #333333; /* Dark Grey */
            --secondary-text-color: #666666; /* Medium Grey */
            --border-color: #eeeeee; /* Light Grey Border */
            --sidebar-bg: #f8f9fa; /* Very Light Grey */
            --sidebar-link-hover: #e9ecef; /* Lighter Grey */
            --sidebar-link-active: #0056b3; /* Darker Blue */
            --card-bg: #ffffff; /* White Card Background */
            --card-shadow: rgba(0, 0, 0, 0.05); /* Subtle Shadow */
            --button-primary-bg: var(--primary-color);
            --button-primary-text: #ffffff;
            --button-primary-hover: var(--sidebar-link-active);
            --button-secondary-bg: #6c757d; /* Grey */
            --button-secondary-text: #ffffff;
            --button-secondary-hover: #5a6268; /* Darker Grey */
            --success-color: #28a745; /* Green */
            --warning-color: #ffc107; /* Yellow/Orange */
            --danger-color: #dc3545; /* Red */
            --info-color: #17a2b8; /* Cyan */
        }

        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--body-bg);
            color: var(--text-color);
            display: flex;
            min-height: 100vh;
            line-height: 1.6;
        }

        .sidebar {
            width: 250px;
            background-color: var(--sidebar-bg);
            padding: 20px 0;
            box-shadow: 2px 0 5px var(--card-shadow);
            display: flex;
            flex-direction: column;
            flex-shrink: 0;
        }

        .sidebar h2 {
            text-align: center;
            color: var(--primary-color);
            margin-bottom: 30px;
            font-size: 1.5em;
            font-weight: 600;
        }

        .sidebar nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .sidebar nav li {
            margin-bottom: 5px;
        }

        .sidebar nav a {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            color: var(--secondary-text-color);
            text-decoration: none;
            font-size: 1.1em;
            transition: background-color 0.2s ease, color 0.2s ease;
            border-left: 4px solid transparent;
            outline: none; /* Remove default focus outline */
        }

        .sidebar nav a .material-symbols-rounded {
            margin-right: 10px;
            font-size: 20px;
            flex-shrink: 0;
        }

        .sidebar nav a:hover {
            background-color: var(--sidebar-link-hover);
            color: var(--text-color);
        }
         .sidebar nav a:focus {
            outline: 2px solid var(--primary-color);
            outline-offset: -2px;
        }


        .sidebar nav a.active {
            background-color: var(--primary-color);
            color: #ffffff;
            border-left-color: var(--accent-color);
        }

        .main-content {
            flex-grow: 1;
            padding: 20px;
            display: flex;
            flex-direction: column;
            overflow-y: auto; /* Enable scrolling for main content */
        }

        .main-content h1 {
            color: var(--text-color);
            margin-top: 0;
            margin-bottom: 20px;
            font-size: 2em;
            font-weight: 600;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .card {
            background-color: var(--card-bg);
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 5px var(--card-shadow);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            display: flex;
            flex-direction: column;
        }

        .card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .card h3 {
            margin-top: 0;
            color: var(--primary-color);
            font-size: 1.2em;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .card p {
            color: var(--secondary-text-color);
            font-size: 0.9em;
            line-height: 1.5;
            flex-grow: 1; /* Allows paragraph to take up space */
        }

        .card .metric {
            font-size: 2.5em;
            font-weight: bold;
            color: var(--accent-color);
            margin-bottom: 10px;
            line-height: 1;
        }

        .card .metric.warning-color { color: var(--warning-color); }
        .card .metric.success-color { color: var(--success-color); }
        .card .metric.info-color { color: var(--info-color); }


        .content-list-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background-color: var(--card-bg); /* Table background same as card */
            border-radius: 8px;
            overflow: hidden; /* Ensures rounded corners apply */
            box-shadow: 0 2px 5px var(--card-shadow);
        }

        .content-list-table th,
        .content-list-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .content-list-table th {
            background-color: var(--sidebar-link-hover);
            color: var(--text-color);
            font-weight: bold;
            text-transform: uppercase;
            font-size: 0.9em;
        }

        .content-list-table tbody tr:last-child td {
            border-bottom: none; /* No border on the last row */
        }

        .content-list-table tbody tr:hover {
            background-color: var(--sidebar-link-hover);
            cursor: pointer;
            outline: 2px solid var(--primary-color); /* Focus/Hover indicator */
            outline-offset: -2px;
        }
         .content-list-table tbody tr:focus {
            outline: 2px solid var(--primary-color); /* Focus/Hover indicator */
            outline-offset: -2px;
        }


        .status-indicator {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            font-weight: bold;
            color: #ffffff;
            text-transform: capitalize;
        }

        .status-indicator.draft { background-color: var(--secondary-text-color); }
        .status-indicator.pending { background-color: var(--warning-color); }
        .status-indicator.approved { background-color: var(--success-color); }
        .status-indicator.published { background-color: var(--primary-color); }
        .status-indicator.archived { background-color: var(--danger-color); }
        .status-indicator.consent-needed { background-color: var(--danger-color); }
        .status-indicator.consent-approved { background-color: var(--success-color); }
        .status-indicator.consent-expired { background-color: var(--warning-color); }


        .view {
            display: none;
            width: 100%; /* Ensure view takes full width */
        }

        .view.active {
            display: block;
            animation: fadeIn 0.3s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Modal Styles */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6); /* Slightly darker overlay */
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
            overflow-y: auto; /* Allow modal content to scroll if needed */
        }

        .modal-overlay.visible {
            display: flex;
            opacity: 1;
        }

        .modal-content {
            background: var(--background-color);
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            max-width: 700px; /* Increased max-width */
            width: 90%;
            transform: translateY(-20px);
            transition: transform 0.3s ease-out, opacity 0.3s ease-out;
            opacity: 0;
            margin: 20px; /* Add margin for smaller screens */
        }

        .modal-overlay.visible .modal-content {
             transform: translateY(0);
             opacity: 1;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 15px;
            margin-bottom: 20px;
        }

        .modal-header h3 {
            margin: 0;
            color: var(--text-color);
            font-size: 1.5em;
            font-weight: 600;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.8em; /* Larger close button */
            cursor: pointer;
            color: var(--secondary-text-color);
            transition: color 0.2s ease;
            padding: 5px; /* Increase clickable area */
            margin: -5px; /* Pull button slightly out to align */
            line-height: 1;
            outline: none;
        }

        .modal-close:hover,
        .modal-close:focus {
            color: var(--text-color);
            outline: 2px solid var(--primary-color);
            outline-offset: 2px;
            border-radius: 4px;
        }

        .form-group {
            margin-bottom: 20px; /* Increased spacing */
        }

        .form-group label {
            display: block;
            margin-bottom: 8px; /* Increased spacing */
            font-weight: bold;
            color: var(--secondary-text-color);
            font-size: 0.95em; /* Slightly larger label font */
        }

        .form-group input[type="text"],
        .form-group input[type="date"],
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px; /* Increased padding */
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 1em;
            box-sizing: border-box;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
            outline: none;
        }

        .form-group input[type="text"]:focus,
        .form-group input[type="date"]:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.2rem rgba(0, 123, 204, 0.25); /* Focus ring */
        }


        .form-group textarea {
            min-height: 150px; /* Increased textarea height */
            resize: vertical;
        }

        .button {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.2s ease, opacity 0.2s ease, box-shadow 0.2s ease;
            outline: none;
            display: inline-flex; /* Align icon and text */
            align-items: center;
            gap: 5px; /* Space between icon and text */
        }

        .button .material-symbols-rounded {
            font-size: 1.2em; /* Icon size relative to text */
        }


        .button-primary {
            background-color: var(--button-primary-bg);
            color: var(--button-primary-text);
        }

        .button-primary:hover {
            background-color: var(--button-primary-hover);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        .button-primary:focus {
             outline: 2px solid var(--primary-color);
             outline-offset: 2px;
        }


        .button-secondary {
            background-color: var(--button-secondary-bg);
            color: var(--button-secondary-text);
        }

        .button-secondary:hover {
            background-color: var(--button-secondary-hover);
             box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
         .button-secondary:focus {
             outline: 2px solid var(--secondary-text-color);
             outline-offset: 2px;
        }


        .button:disabled {
            opacity: 0.6; /* Increased opacity for disabled state */
            cursor: not-allowed;
            box-shadow: none;
        }

        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid var(--border-color);
        }

        /* Placeholder styles for other views */
        #patient-stories-view,
        #calendar-view,
        #resources-view,
        #audience-view,
        #privacy-view {
            padding: 20px;
            text-align: center;
            color: var(--secondary-text-color);
            background-color: var(--card-bg);
            border-radius: 8px;
            box-shadow: 0 2px 5px var(--card-shadow);
            margin-top: 20px;
        }

         .chart-placeholder {
            height: 180px; /* Slightly larger placeholder */
            background-color: #f0f0f0;
            border-radius: 4px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #666;
            font-size: 1.1em;
            margin-top: 15px;
        }

        /* Accessibility: Skip to main content link */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--primary-color);
            color: white;
            padding: 8px;
            z-index: 100;
            text-decoration: none;
            transition: top 0.3s ease-in-out;
        }

        .skip-link:focus {
            top: 0;
        }

    </style>
</head>
<body>

    <a href="#main-content" class="skip-link">Skip to main content</a>

    <aside class="sidebar" aria-label="Main Navigation">
        <h2>Comms Hub</h2>
        <nav>
            <ul>
                <li><a href="#dashboard" class="nav-link" aria-label="Dashboard"><span class="material-symbols-rounded">dashboard</span> Dashboard</a></li>
                <li><a href="#content" class="nav-link" aria-label="Content Management"><span class="material-symbols-rounded">article</span> Content</a></li>
                <li><a href="#patient-stories" class="nav-link" aria-label="Patient Story Management"><span class="material-symbols-rounded">healing</span> Patient Stories</a></li>
                <li><a href="#calendar" class="nav-link" aria-label="Content Calendar"><span class="material-symbols-rounded">calendar_month</span> Calendar</a></li>
                <li><a href="#resources" class="nav-link" aria-label="Resource Library"><span class="material-symbols-rounded">folder_open</span> Resources</a></li>
                <li><a href="#audience" class="nav-link" aria-label="Audience Segments"><span class="material-symbols-rounded">group</span> Audience</a></li>
                <li><a href="#privacy" class="nav-link" aria-label="Privacy and Consent Management"><span class="material-symbols-rounded">lock</span> Privacy & Consent</a></li>
            </ul>
        </nav>
    </aside>

    <main id="main-content" class="main-content" tabindex="-1"> <!-- tabindex="-1" makes it focusable for skip link -->
        <div id="dashboard-view" class="view">
            <h1>Dashboard</h1>
            <div class="dashboard-grid">
                <div class="card" role="region" aria-labelledby="content-created-heading">
                    <h3 id="content-created-heading">Content Created (Last 30 Days)</h3>
                    <div class="metric success-color">124</div>
                    <p>Total pieces of content published or approved in the last 30 days.</p>
                </div>
                <div class="card" role="region" aria-labelledby="upcoming-deadlines-heading">
                    <h3 id="upcoming-deadlines-heading">Upcoming Deadlines</h3>
                    <div class="metric warning-color">5</div>
                    <p>Content pieces due for completion in the next 7 days.</p>
                </div>
                <div class="card" role="region" aria-labelledby="stories-consent-heading">
                    <h3 id="stories-consent-heading">Stories Needing Consent</h3>
                    <div class="metric danger-color">18</div>
                    <p>Patient stories currently pending consent approval from families.</p>
                </div>
                 <div class="card" role="region" aria-labelledby="published-content-heading">
                    <h3 id="published-content-heading">Published Content (This Month)</h3>
                    <!-- Placeholder for chart -->
                    <div class="chart-placeholder" aria-label="Placeholder chart showing content distribution by type this month">
                        Content Distribution Chart Placeholder
                    </div>
                </div>
            </div>
        </div>

        <div id="content-view" class="view">
            <h1>Content Management</h1>
            <button class="button button-primary" id="add-content-button" aria-controls="add-content-modal"><span class="material-symbols-rounded">add</span> Add New Content</button>
            <table class="content-list-table" role="grid" aria-label="Content List">
                <thead>
                    <tr>
                        <th scope="col">Title</th>
                        <th scope="col">Type</th>
                        <th scope="col">Audience</th>
                        <th scope="col">Status</th>
                        <th scope="col">Due Date</th>
                        <th scope="col">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr tabindex="0" role="row"> <!-- Make row focusable -->
                        <td role="gridcell">Annual Appeal Campaign 2024</td>
                        <td role="gridcell">Print, Digital</td>
                        <td role="gridcell">Individual Donors</td>
                        <td role="gridcell"><span class="status-indicator approved">Approved</span></td>
                        <td role="gridcell">2024-11-15</td>
                        <td role="gridcell">...</td>
                    </tr>
                    <tr tabindex="0" role="row">
                        <td role="gridcell">Innovations in Pediatric Oncology</td>
                        <td role="gridcell">Website, Social</td>
                        <td role="gridcell">Healthcare Pros, Corporate</td>
                        <td role="gridcell"><span class="status-indicator draft">Draft</span></td>
                        <td role="gridcell">2024-12-01</td>
                        <td role="gridcell">...</td>
                    </tr>
                    <tr tabindex="0" role="row">
                        <td role="gridcell">Meet Sarah: A Story of Hope</td>
                        <td role="gridcell">Social, Website</td>
                        <td role="gridcell">Individual Donors, Families</td>
                        <td role="gridcell"><span class="status-indicator pending">Pending Review</span></td>
                        <td role="gridcell">2024-11-20</td>
                        <td role="gridcell">...</td>
                    </tr>
                     <tr tabindex="0" role="row">
                        <td role="gridcell">Why Your Donation Matters: Equipment Needs</td>
                        <td role="gridcell">Print, Website</td>
                        <td role="gridcell">All Donors</td>
                        <td role="gridcell"><span class="status-indicator published">Published</span></td>
                        <td role="gridcell">2024-10-10</td>
                        <td role="gridcell">...</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div id="patient-stories-view" class="view">
            <h1>Patient Story Management</h1>
            <p>Manage patient stories, consent, and media.</p>
        </div>

        <div id="calendar-view" class="view">
            <h1>Content Calendar</h1>
            <p>Visual calendar for planning and scheduling.</p>
        </div>

        <div id="resources-view" class="view">
            <h1>Resource Library</h1>
            <p>Manage approved photos, videos, and contacts.</p>
        </div>

        <div id="audience-view" class="view">
            <h1>Audience Segments</h1>
            <p>View and manage audience profiles and messaging strategies.</p>
        </div>

        <div id="privacy-view" class="view">
            <h1>Privacy & Consent Management</h1>
            <p>Track and manage patient consent forms.</p>
        </div>

    </main>

    <!-- Add Content Modal -->
    <div id="add-content-modal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="add-content-modal-title">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="add-content-modal-title">Add New Content</h3>
                <button class="modal-close" aria-label="Close modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="content-title">Title</label>
                    <input type="text" id="content-title" placeholder="Enter content title" aria-required="true">
                </div>
                <div class="form-group">
                    <label for="content-type">Type</label>
                    <select id="content-type" aria-required="true">
                        <option value="">Select Type</option>
                        <option value="print">Print</option>
                        <option value="digital">Digital</option>
                        <option value="social">Social Media</option>
                        <option value="event">Event Material</option>
                        <option value="story">Patient Story</option>
                        <option value="innovation">Medical Innovation</option>
                        <option value="needs">Hospital Needs</option>
                    </select>
                </div>
                 <div class="form-group">
                    <label for="content-audience">Audience</label>
                     <select id="content-audience" aria-required="true">
                        <option value="">Select Audience</option>
                        <option value="individual">Individual Donors</option>
                        <option value="corporate">Corporate Sponsors</option>
                        <option value="healthcare">Healthcare Professionals</option>
                        <option value="families">Families</option>
                        <option value="general">General Public</option>
                    </select>
                </div>
                 <div class="form-group">
                    <label for="content-due-date">Due Date</label>
                    <input type="date" id="content-due-date" aria-required="false">
                </div>
                 <div class="form-group">
                    <label for="content-description">Description</label>
                    <textarea id="content-description" placeholder="Brief description of content..." aria-required="false"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="button button-secondary modal-close">Cancel</button>
                <button class="button button-primary">Save Content</button>
            </div>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const navLinks = document.querySelectorAll('.sidebar .nav-link');
            const views = document.querySelectorAll('.main-content .view');
            const addContentButton = document.getElementById('add-content-button');
            const addContentModal = document.getElementById('add-content-modal');
            const modalCloseButtons = addContentModal.querySelectorAll('.modal-close');
            const mainContentArea = document.getElementById('main-content');

            // --- Navigation ---
            function activateView(viewId) {
                // Remove active class from all links and views
                navLinks.forEach(nav => {
                    nav.classList.remove('active');
                    nav.setAttribute('aria-current', 'false');
                });
                views.forEach(view => view.classList.remove('active'));

                // Add active class to the clicked link and target view
                const targetLink = document.querySelector(`.sidebar .nav-link[href="#${viewId}"]`);
                const targetView = document.getElementById(`${viewId}-view`);

                if (targetLink) {
                    targetLink.classList.add('active');
                    targetLink.setAttribute('aria-current', 'page');
                }
                if (targetView) {
                    targetView.classList.add('active');
                    // Optionally focus the main content area for accessibility after view change
                    mainContentArea.focus();
                } else {
                     console.error('View not found:', `${viewId}-view`);
                     // Fallback to dashboard
                     document.getElementById('dashboard-view').classList.add('active');
                     document.querySelector('.sidebar .nav-link[href="#dashboard"]').classList.add('active');
                     document.querySelector('.sidebar .nav-link[href="#dashboard"]').setAttribute('aria-current', 'page');
                }
            }

            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetViewId = link.getAttribute('href').substring(1);
                    activateView(targetViewId);
                    // Update URL hash without triggering hashchange event
                    history.pushState(null, '', link.getAttribute('href'));
                });
            });

            // Handle browser back/forward buttons
            window.addEventListener('popstate', () => {
                 const hash = window.location.hash || '#dashboard';
                 const viewId = hash.substring(1);
                 activateView(viewId);
            });


            // --- Modal ---
            function openModal(modalElement) {
                modalElement.classList.add('visible');
                // Optional: Focus the first interactive element in the modal
                const firstInteractive = modalElement.querySelector('input, select, textarea, button:not(.modal-close)');
                if (firstInteractive) {
                    firstInteractive.focus();
                }
                 document.body.style.overflow = 'hidden'; // Prevent body scroll when modal is open
            }

            function closeModal(modalElement) {
                modalElement.classList.remove('visible');
                 document.body.style.overflow = ''; // Restore body scroll
                 // Optional: Return focus to the element that opened the modal
                 const opener = document.activeElement; // This might need more robust tracking
                 if (opener && opener.classList.contains('button')) {
                     opener.focus();
                 } else {
                     // Fallback focus - maybe the main content area or the first nav link
                     mainContentArea.focus();
                 }
            }

            // Open modal button
            if (addContentButton) {
                 addContentButton.addEventListener('click', () => {
                    openModal(addContentModal);
                });
            }

            // Close modal buttons (including overlay click)
            modalCloseButtons.forEach(button => {
                button.addEventListener('click', () => {
                    closeModal(addContentModal);
                });
            });

            addContentModal.addEventListener('click', (e) => {
                if (e.target === addContentModal) {
                    closeModal(addContentModal);
                }
            });

            // Close modal with Escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && addContentModal.classList.contains('visible')) {
                    closeModal(addContentModal);
                }
            });


            // Initial view based on hash or default to dashboard
            const initialHash = window.location.hash || '#dashboard';
            const initialViewId = initialHash.substring(1);
            activateView(initialViewId);

        });
    </script>

</body>
</html>
