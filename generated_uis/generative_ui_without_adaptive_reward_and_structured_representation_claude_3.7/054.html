<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React Native Learning Path</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <style>
        :root {
            --primary-color: #6200ee;
            --primary-light: #bb86fc;
            --secondary-color: #03dac6;
            --background-color: #ffffff;
            --surface-color: #f0f0f0;
            --text-color: #000000;
            --text-color-secondary: #5a5a5a;
            --border-color: #e0e0e0;
            --sidebar-width: 280px;
            --header-height: 60px;
            --spacing-unit: 8px;
            --code-bg: #2d2d2d;
            --code-text: #cccccc;
            --focus-outline-color: rgba(98, 0, 238, 0.4);
            --primary-color-rgb: 98, 0, 238; /* For rgba usage */
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--background-color);
            margin: 0;
            padding: 0;
            display: grid;
            grid-template-areas:
                "header header"
                "sidebar main";
            grid-template-columns: var(--sidebar-width) 1fr;
            grid-template-rows: var(--header-height) 1fr;
            height: 100vh;
            overflow: hidden; /* Prevent body scroll, main/aside handle scroll */
        }

        header {
            grid-area: header;
            background-color: var(--surface-color);
            color: var(--text-color);
            padding: 0 calc(var(--spacing-unit) * 3);
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            z-index: 10;
            position: relative;
        }

        .site-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        .search-container {
            display: flex;
            align-items: center;
        }

        .search-container input[type="text"] {
            padding: var(--spacing-unit) calc(var(--spacing-unit) * 2);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 1rem;
            width: 200px;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }

        .search-container input[type="text"]:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px var(--focus-outline-color);
        }

        .sidebar-toggle {
            display: none; /* Hidden by default on desktop */
            background: none;
            border: none;
            cursor: pointer;
            padding: var(--spacing-unit);
            margin-right: var(--spacing-unit);
            font-size: 1.8rem;
            color: var(--text-color);
            transition: color 0.2s ease;
            outline-offset: 2px;
        }

        .sidebar-toggle:hover {
            color: var(--primary-color);
        }

        .sidebar-toggle:focus {
             outline: 2px solid var(--focus-outline-color);
        }


        aside {
            grid-area: sidebar;
            background-color: var(--surface-color);
            padding: calc(var(--spacing-unit) * 3);
            overflow-y: auto;
            border-right: 1px solid var(--border-color);
            box-shadow: 2px 0 4px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease, visibility 0.3s ease; /* Add visibility for smooth hide */
            position: relative;
            z-index: 5;
        }

        aside h2 {
            margin-top: 0;
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-color);
            margin-bottom: calc(var(--spacing-unit) * 2);
        }

        .nav-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .nav-item {
            margin-bottom: var(--spacing-unit);
        }

        .nav-link {
            display: block;
            padding: var(--spacing-unit) calc(var(--spacing-unit) * 2);
            text-decoration: none;
            color: var(--text-color-secondary);
            border-radius: 4px;
            transition: background-color 0.2s ease, color 0.2s ease;
            cursor: pointer;
            font-size: 1rem;
            outline-offset: 2px;
        }

        .nav-link:hover {
            background-color: rgba(var(--primary-color-rgb), 0.1);
            color: var(--primary-color);
        }

        .nav-link:focus {
             outline: 2px solid var(--focus-outline-color);
        }

        .nav-link.active {
            background-color: var(--primary-color);
            color: white;
            font-weight: 600;
            outline: none;
        }

        .nav-link.active:hover {
             background-color: var(--primary-color);
             color: white;
        }

        .nav-link.completed {
             color: var(--text-color-secondary);
             opacity: 0.8;
        }

        .nav-link.completed::after {
            content: ' âœ“';
            color: var(--secondary-color);
            font-weight: bold;
            margin-left: var(--spacing-unit);
        }

        main {
            grid-area: main;
            padding: calc(var(--spacing-unit) * 4);
            overflow-y: auto;
            background-color: var(--background-color);
            transition: padding 0.3s ease; /* Transition padding if needed, though grid handles size */
        }

        main h1 {
            font-size: 2rem;
            color: var(--primary-color);
            margin-top: 0;
            margin-bottom: calc(var(--spacing-unit) * 4);
            font-weight: 700;
        }

        main h2 {
            font-size: 1.8rem;
            color: var(--text-color);
            margin-top: calc(var(--spacing-unit) * 4);
            margin-bottom: calc(var(--spacing-unit) * 2);
            border-bottom: 1px solid var(--border-color);
            padding-bottom: var(--spacing-unit);
            font-weight: 600;
        }

        main h3 {
            font-size: 1.4rem;
            color: var(--text-color-secondary);
            margin-top: calc(var(--spacing-unit) * 3);
            margin-bottom: var(--spacing-unit);
            font-weight: 600;
        }

        main p {
            margin-bottom: calc(var(--spacing-unit) * 2);
            line-height: 1.7;
        }

        main ul {
            margin-bottom: calc(var(--spacing-unit) * 2);
            padding-left: calc(var(--spacing-unit) * 3);
        }

        main li {
            margin-bottom: var(--spacing-unit);
        }

        pre {
            background-color: var(--code-bg);
            color: var(--code-text);
            padding: calc(var(--spacing-unit) * 2);
            border-radius: 4px;
            overflow-x: auto;
            margin-bottom: calc(var(--spacing-unit) * 3);
            font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.2);
        }

        code {
            font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
            font-size: 0.9rem;
        }

        pre code {
            display: block;
        }

        /* PrismJS overrides */
        .token.comment, .token.prolog, .token.doctype, .token.cdata { color: #999; } /* Grey */
        .token.punctuation { color: #ccc; } /* Light Grey */
        .token.namespace { opacity: .7; }
        .token.property, .token.tag, .token.boolean, .token.number, .token.constant, .token.symbol, .token.deleted { color: #f92672; } /* Pink */
        .token.selector, .token.attr-name, .token.string, .token.char, .token.builtin, .token.inserted { color: #a6e22e; } /* Green */
        .token.operator, .token.entity, .token.url, .language-css .token.string, .style .token.string { color: #f8f8f2; } /* White */
        .token.atrule, .token.attr-value, .token.keyword { color: #66d9ef; } /* Cyan */
        .token.function, .token.class-name { color: #e6db74; } /* Yellow */
        .token.regex, .token.important, .token.variable { color: #fd971f; } /* Orange */
        .token.important, .token.bold { font-weight: bold; }
        .token.italic { font-style: italic; }
        .token.entity { cursor: help; }


        details {
            background-color: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            margin-bottom: calc(var(--spacing-unit) * 2);
            padding: var(--spacing-unit) calc(var(--spacing-unit) * 2);
            transition: background-color 0.2s ease, box-shadow 0.2s ease;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }

        details:hover {
             box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        }

        details summary {
            font-weight: 600;
            cursor: pointer;
            padding: var(--spacing-unit);
            margin: calc(var(--spacing-unit) * -1) calc(var(--spacing-unit) * -2);
            list-style: none;
            transition: color 0.2s ease;
            outline-offset: 2px;
        }

         details summary:hover {
            color: var(--primary-color);
        }

         details summary:focus {
            outline: 2px solid var(--focus-outline-color);
        }

        details[open] summary {
            border-bottom: 1px solid var(--border-color);
            margin-bottom: var(--spacing-unit);
            outline: none;
        }

        details summary::before {
            content: 'â–¶';
            display: inline-block;
            margin-right: var(--spacing-unit);
            font-weight: normal;
            color: var(--primary-color);
            transition: transform 0.2s ease;
            transform: rotate(0deg);
        }

         details[open] summary::before {
            content: 'â–¼';
            transform: rotate(0deg);
        }

        .tooltip {
            position: relative;
            display: inline-block;
            border-bottom: 1px dotted var(--text-color-secondary);
            cursor: help;
            outline-offset: 2px;
        }

         .tooltip:focus {
             outline: 2px solid var(--focus-outline-color);
         }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: var(--text-color);
            color: white;
            text-align: center;
            border-radius: 4px;
            padding: var(--spacing-unit) calc(var(--spacing-unit) * 2);
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s, visibility 0.3s;
            font-size: 0.9rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .tooltip .tooltiptext::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--text-color) transparent transparent transparent;
        }

        .tooltip:hover .tooltiptext,
        .tooltip:focus .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        .diagram-container {
            background-color: var(--surface-color);
            border: 1px solid var(--border-color);
            padding: calc(var(--spacing-unit) * 3);
            margin-bottom: calc(var(--spacing-unit) * 3);
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }

        .diagram-container h4 {
            margin-top: 0;
            margin-bottom: calc(var(--spacing-unit) * 2);
            color: var(--text-color-secondary);
            font-weight: 600;
            text-align: center;
        }

        .rn-architecture-diagram {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: calc(var(--spacing-unit) * 4);
            font-size: 0.9rem;
            text-align: center;
            flex-wrap: wrap; /* Allow wrapping on smaller screens */
        }

        .rn-arch-box {
            border: 1px solid var(--border-color);
            padding: calc(var(--spacing-unit) * 2);
            border-radius: 4px;
            background-color: var(--background-color);
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            min-width: 120px;
            flex-basis: 0; /* Allow flex items to shrink */
            flex-grow: 1; /* Allow flex items to grow */
            min-width: 100px; /* Ensure minimum width */
        }

        .rn-arch-arrow {
            font-size: 1.5rem;
            color: var(--text-color-secondary);
            flex-shrink: 0; /* Prevent arrows from shrinking */
        }

         .state-flow-diagram {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: calc(var(--spacing-unit) * 2);
            font-size: 0.9rem;
            text-align: center;
        }

        .state-flow-box {
            border: 1px solid var(--border-color);
            padding: calc(var(--spacing-unit) * 2);
            border-radius: 4px;
            background-color: var(--background-color);
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            min-width: 150px;
            width: fit-content; /* Fit content width */
        }

        .state-flow-arrow {
            font-size: 1.5rem;
            color: var(--text-color-secondary);
        }


        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: calc(var(--spacing-unit) * 3);
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            border-radius: 4px;
            overflow: hidden;
        }

        .comparison-table th,
        .comparison-table td {
            border: 1px solid var(--border-color);
            padding: calc(var(--spacing-unit) * 2);
            text-align: left;
        }

        .comparison-table th {
            background-color: var(--surface-color);
            font-weight: 600;
            color: var(--text-color);
        }

        .comparison-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        .comparison-table tr:hover {
             background-color: #eef;
        }


        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: calc(var(--spacing-unit) * 4);
            padding-top: calc(var(--spacing-unit) * 2);
            border-top: 1px solid var(--border-color);
        }

        .navigation-buttons button {
            padding: var(--spacing-unit) calc(var(--spacing-unit) * 3);
            font-size: 1rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s ease, opacity 0.2s ease, box-shadow 0.2s ease;
            font-weight: 600;
            outline-offset: 2px;
        }

        .navigation-buttons button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            box-shadow: none;
        }

        .navigation-buttons button:not(:disabled):hover {
             box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        }

         .navigation-buttons button:focus {
             outline: 2px solid var(--focus-outline-color);
         }


        .navigation-buttons .btn-prev {
            background-color: var(--surface-color);
            color: var(--text-color);
            border: 1px solid var(--border-color);
        }

        .navigation-buttons .btn-prev:not(:disabled):hover {
            background-color: #e0e0e0;
        }

        .navigation-buttons .btn-next {
            background-color: var(--primary-color);
            color: white;
        }

        .navigation-buttons .btn-next:not(:disabled):hover {
            background-color: #5300cc;
        }

        /* Progress Bar */
        .progress-bar-container {
            width: 100%;
            background-color: var(--border-color);
            border-radius: 4px;
            margin-bottom: calc(var(--spacing-unit) * 3);
            height: 8px;
            overflow: hidden;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
        }

        .progress-bar {
            height: 100%;
            width: 0%; /* Controlled by JS */
            background-color: var(--secondary-color);
            transition: width 0.5s ease-in-out;
            border-radius: 4px;
        }

        /* Overlay for mobile sidebar */
        .overlay {
            display: none; /* Hidden by default */
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 4;
            cursor: pointer;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            opacity: 0;
            visibility: hidden;
        }

        body.sidebar-open .overlay {
            display: block;
            opacity: 1;
            visibility: visible;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            :root {
                 --sidebar-width: 250px;
            }

            body {
                grid-template-areas:
                    "header"
                    "main";
                grid-template-columns: 1fr;
                grid-template-rows: var(--header-height) 1fr;
                overflow-y: auto;
            }

            body.sidebar-open {
                 overflow: hidden;
            }

            aside {
                position: fixed;
                top: var(--header-height);
                left: 0;
                bottom: 0;
                width: var(--sidebar-width);
                transform: translateX(-100%);
                padding: calc(var(--spacing-unit) * 2);
                box-shadow: 4px 0 8px rgba(0, 0, 0, 0.1);
                visibility: hidden; /* Hide off-screen */
            }

             body.sidebar-open aside {
                 transform: translateX(0);
                 visibility: visible; /* Show when open */
             }

            header {
                padding: 0 calc(var(--spacing-unit) * 2);
                 flex-wrap: wrap; /* Allow items to wrap */
                 height: auto; /* Adjust height based on content */
                 min-height: var(--header-height);
            }

            .sidebar-toggle {
                display: flex;
                align-items: center;
                 order: -1;
            }

            .site-title {
                 flex-grow: 1;
                 text-align: center;
                 margin-left: var(--spacing-unit); /* Add some margin */
                 margin-right: var(--spacing-unit);
            }

            .search-container {
                 width: 100%;
                 margin-top: var(--spacing-unit);
                 order: 3;
                 padding-bottom: var(--spacing-unit); /* Add padding below search */
            }

            .search-container input[type="text"] {
                 width: 100%;
            }

            main {
                padding: calc(var(--spacing-unit) * 3);
            }

             .rn-architecture-diagram {
                flex-direction: column;
                gap: var(--spacing-unit);
            }

             .rn-arch-arrow {
                transform: rotate(90deg);
             }

             .comparison-table th,
             .comparison-table td {
                padding: var(--spacing-unit); /* Reduce padding on small screens */
                font-size: 0.9rem;
             }
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-jsx.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-css.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
</head>
<body>

    <header>
        <button class="sidebar-toggle" id="sidebarToggle" aria-label="Toggle sidebar" aria-expanded="false">
             <span class="material-symbols-rounded">menu</span>
        </button>
        <div class="site-title">React Native Guide</div>
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="Search topics..." aria-label="Search topics">
        </div>
    </header>

    <aside>
        <h2>Learning Path</h2>
        <div class="progress-bar-container" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" aria-valuetext="0% complete">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <nav>
            <ul class="nav-list" id="navList" role="navigation" aria-label="Learning sections">
                <li class="nav-item"><a href="#section-ecosystem" class="nav-link" data-section="ecosystem">1. Ecosystem Overview</a></li>
                <li class="nav-item"><a href="#section-workflow" class="nav-link" data-section="workflow">2. Development Workflow</a></li>
                <li class="nav-item"><a href="#section-components" class="nav-link" data-section="components">3. Key Components</a></li>
                <li class="nav-item"><a href="#section-state" class="nav-link" data-section="state">4. State Management</a></li>
                <li class="nav-item"><a href="#section-practices" class="nav-link" data-section="practices">5. Best Practices</a></li>
                <li class="nav-item"><a href="#section-glossary" class="nav-link" data-section="glossary">6. Glossary & Concepts</a></li>
            </ul>
        </nav>
    </aside>

    <main id="mainContent" tabindex="-1" aria-live="polite">
        <!-- Content will be loaded here -->
        <h1>Welcome to the React Native Learning Path</h1>
        <p>This guide is designed for web developers looking to transition to mobile app development using React Native. We'll cover the core concepts, workflow, key components, state management, and best practices to help you get started.</p>
        <p>Select a section from the left sidebar to begin your journey.</p>
    </main>

    <div class="overlay" id="sidebarOverlay"></div>

    <script>
        const mainContent = document.getElementById('mainContent');
        const navLinks = document.querySelectorAll('.nav-link');
        const progressBar = document.getElementById('progressBar');
        const searchInput = document.getElementById('searchInput');
        const sidebarToggle = document.getElementById('sidebarToggle');
        const sidebarOverlay = document.getElementById('sidebarOverlay');
        const body = document.body;

        const SECTIONS_STORAGE_KEY = 'rnLearningCompletedSections';
        let completedSections = new Set();

        const sections = [
            {
                id: 'ecosystem',
                title: '1. Ecosystem Overview',
                content: `
                    <h2>What is React Native?</h2>
                    <p>React Native is an open-source UI software framework used to develop applications for Android, iOS, Web, and UWP by enabling developers to use the React framework along with native platform capabilities.</p>
                    <p>Unlike traditional web apps that run in a browser and render HTML/CSS, React Native apps use native UI components (like <code>&lt;View&gt;</code>, <code>&lt;Text&gt;</code>) that are rendered directly by the platform's UI layer. This gives your app a native look and feel and better performance compared to hybrid web-view apps.</p>

                    <h2>Key Tools & Libraries</h2>
                    <p>Getting started with React Native involves a few essential tools:</p>
                    <ul>
                        <li><strong>Node.js & npm/yarn:</strong> Required to run the JavaScript environment and manage dependencies.</li>
                        <li><strong>React Native CLI:</strong> The command-line interface for creating and managing React Native projects.</li>
                        <li><strong>Expo CLI:</strong> An alternative CLI that provides a managed workflow, making it easier to get started without native build tools (Xcode/Android Studio). Great for beginners!</li>
                        <li><strong>Watchman:</strong> A file watching service recommended for performance.</li>
                        <li><strong>Xcode (macOS):</strong> Required for building iOS apps.</li>
                        <li><strong>Android Studio:</strong> Required for building Android apps.</li>
                    </ul>

                    <div class="diagram-container">
                        <h4>React Native Architecture</h4>
                        <div class="rn-architecture-diagram">
                            <div class="rn-arch-box">JavaScript Thread</div>
                            <div class="rn-arch-arrow material-symbols-rounded">arrow_right_alt</div>
                             <div class="rn-arch-box">The Bridge</div>
                            <div class="rn-arch-arrow material-symbols-rounded">arrow_right_alt</div>
                            <div class="rn-arch-box">Native Modules & UI</div>
                        </div>
                        <p style="text-align: center; margin-top: var(--spacing-unit);">This diagram illustrates how the JavaScript code communicates with the native platform via the bridge.</p>
                    </div>

                    <details role="group">
                        <summary role="button" aria-expanded="false">Learn more about the React Native Bridge</summary>
                        <p>The "Bridge" is a core concept. It's the layer that allows communication between the JavaScript code and the native modules/UI components. When your JavaScript code needs to perform a native action (like accessing the camera) or update a native UI element, it sends a message across the bridge to the native side. Similarly, native events (like button presses) are sent back across the bridge to the JavaScript side.</p>
                    </details>
                `
            },
            {
                id: 'workflow',
                title: '2. Development Workflow',
                content: `
                    <h2>Setting up Your Environment</h2>
                    <p>The setup process depends on whether you choose the React Native CLI or Expo CLI. Expo is generally simpler for beginners.</p>

                    <h3>Using Expo CLI</h3>
                    <pre><code class="language-bash">
npm install -g expo-cli
expo init my-rn-app
cd my-rn-app
expo start
                    </code></pre>
                    <p>This sets up a new project and starts a development server. You can then run the app using the Expo Go app on your device or a simulator.</p>

                    <h3>Using React Native CLI</h3>
                    <p>This requires installing Xcode (for iOS) and Android Studio (for Android) and configuring their environments, which can be complex.</p>
                     <pre><code class="language-bash">
npx react-native init my-rn-app
cd my-rn-app
# For iOS
npx react-native run-ios
# For Android
npx react-native run-android
                    </code></pre>

                    <h2>Running Your App</h2>
                    <p>React Native provides several ways to run your app during development:</p>
                    <ul>
                        <li><strong>Simulators/Emulators:</strong> Run the app on virtual devices provided by Xcode (iOS) or Android Studio (Android).</li>
                        <li><strong>Physical Devices:</strong> Run the app directly on your iPhone or Android phone. Expo Go makes this very easy using a QR code scan.</li>
                    </ul>

                    <h2>Debugging</h2>
                    <p>React Native offers various debugging tools:</p>
                    <ul>
                        <li><strong>In-app Developer Menu:</strong> Shake your device/simulator to access options like "Reload", "Debug JS Remotely", "Enable Hot Reloading", "Enable Live Reloading", "Inspector".</li>
                        <li><strong>Chrome Developer Tools:</strong> Use the Chrome debugger when "Debug JS Remotely" is enabled.</li>
                        <li><strong>React Native Debugber:</strong> A standalone app combining the Chrome debugger and React Inspector.</li>
                        <li><strong>Flipper:</strong> A platform for debugging mobile apps, including React Native.</li>
                    </ul>
                `
            },
            {
                id: 'components',
                title: '3. Key Components',
                content: `
                    <h2>Core Components</h2>
                    <p>React Native provides a set of built-in <span class="tooltip" tabindex="0" role="tooltip" aria-describedby="tooltip-core-components">Core Components<span class="tooltiptext" id="tooltip-core-components">Fundamental building blocks for React Native UI.</span></span> that map directly to native UI elements. These are the foundation of your app's interface.</p>

                    <h3>View</h3>
                    <p>The most fundamental component for building UI. It's a container that supports layout with Flexbox, style, touch handling, and accessibility controls. It maps to native views like <code>UIView</code> (iOS) or <code>android.view</code> (Android).</p>
                    <pre><code class="language-jsx">
import React from 'react';
import { View, Text } from 'react-native';

const MyComponent = () => {
  return (
    &lt;View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>
      &lt;Text>Hello, World!&lt;/Text>
    &lt;/View>
  );
};
                    </code></pre>

                    <h3>Text</h3>
                    <p>Used to display text. Text in React Native must be wrapped inside a <code>&lt;Text&gt;</code> component. You cannot directly place text inside a <code>&lt;View&gt;</code>.</p>
                     <pre><code class="language-jsx">
import React from 'react';
import { Text } from 'react-native';

const Greeting = (props) => {
  return (
    &lt;Text>Hello {props.name}!&lt;/Text>
  );
};
                    </code></pre>

                    <h3>Image</h3>
                    <p>Displays different types of images, including network images, static resources, temporary local images, and images from local camera roll.</p>
                     <pre><code class="language-jsx">
import React from 'react';
import { Image } from 'react-native';

const App = () => {
  return (
    &lt;Image
      source={{ uri: 'https://placehold.co/200x200?text=RN+Image' }}
      style={{ width: 200, height: 200 }}
      accessibilityLabel="Placeholder image"
    />
  );
};
                    </code></pre>

                    <h3>ScrollView</h3>
                    <p>A generic scrolling container that can host multiple components and views. Useful for content that might exceed the screen size.</p>
                     <pre><code class="language-jsx">
import React from 'react';
import { ScrollView, Text } from 'react-native';

const App = () => {
  return (
    &lt;ScrollView>
      &lt;Text>Scrollable Content 1&lt;/Text>
      &lt;Text>Scrollable Content 2&lt;/Text>
      {/* ... more content ... */}
    &lt;/ScrollView>
  );
};
                    </code></pre>

                    <h3>TextInput</h3>
                    <p>A basic input component for entering text.</p>
                     <pre><code class="language-jsx">
import React, { useState } from 'react';
import { TextInput } from 'react-native';

const App = () => {
  const [text, setText] = useState('');
  return (
    &lt;TextInput
      style={{ height: 40, borderColor: 'gray', borderWidth: 1 }}
      onChangeText={newText => setText(newText)}
      value={text}
      placeholder="Enter text here"
      aria-label="Text input example"
    />
  );
};
                    </code></pre>

                    <h3>Button</h3>
                    <p>A basic button component that renders nicely on any platform.</p>
                     <pre><code class="language-jsx">
import React from 'react';
import { Button, View, Alert } from 'react-native';

const App = () => {
  return (
    &lt;View>
      &lt;Button
        title="Press Me"
        onPress={() => Alert.alert('Button pressed!')}
        accessibilityLabel="Learn more about this button"
      />
    &lt;/View>
  );
};
                    </code></pre>
                `
            },
            {
                id: 'state',
                title: '4. State Management',
                content: `
                    <h2>Understanding State</h2>
                    <p>Just like in React for the web, state in React Native represents data that changes over time and affects the rendering of your components. You manage local component state using the <code>useState</code> hook.</p>
                     <pre><code class="language-jsx">
import React, { useState } from 'react';
import { View, Text, Button } from 'react-native';

const Counter = () => {
  const [count, setCount] = useState(0);

  return (
    &lt;View>
      &lt;Text>Count: {count}&lt;/Text>
      &lt;Button title="Increment" onPress={() => setCount(count + 1)} />
    &lt;/View>
  );
};
                    </code></pre>

                    <h2>State Management Patterns</h2>
                    <p>For managing state that needs to be shared across many components or is complex, you'll use state management patterns similar to web development:</p>
                    <ul>
                        <li><strong>Context API:</strong> Built-in React feature for sharing data without prop drilling.</li>
                        <li><strong>Redux:</strong> A popular predictable state container.</li>
                        <li><strong>Zustand, Recoil, MobX, etc.:</strong> Other popular state management libraries.</li>
                    </ul>

                    <h2>Web vs. React Native State Management</h2>
                    <p>While the principles are similar (managing data that affects UI), the context differs:</p>
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Feature</th>
                                <th>Web Development (React)</th>
                                <th>React Native Development</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>UI Updates</strong></td>
                                <td>Updates the Virtual DOM, which patches the browser's DOM.</td>
                                <td>Updates the Virtual DOM, which triggers updates to native UI components via the bridge.</td>
                            </tr>
                            <tr>
                                <td><strong>Platform APIs</strong></td>
                                <td>Accesses browser APIs (<code>localStorage</code>, <code>window</code>, Web APIs).</td>
                                <td>Accesses native device APIs (camera, location, sensors) via Native Modules. State might involve managing permissions or data from these modules.</td>
                            </tr>
                             <tr>
                                <td><strong>Persistence</strong></td>
                                <td>Uses browser storage (<code>localStorage</code>, <code>sessionStorage</code>, IndexedDB).</td>
                                <td>Uses device storage (AsyncStorage, Realm, SQLite). AsyncStorage is the simplest built-in option.</td>
                            </tr>
                            <tr>
                                <td><strong>Background Tasks</strong></td>
                                <td>Limited background execution via Service Workers.</td>
                                <td>More robust background processing capabilities via native background tasks or libraries. State management might involve syncing data in the background.</td>
                            </tr>
                        </tbody>
                    </table>

                     <div class="diagram-container">
                        <h4>State Data Flow</h4>
                        <div class="state-flow-diagram">
                            <div class="state-flow-box">User Action / Event</div>
                            <div class="state-flow-arrow material-symbols-rounded">arrow_downward</div>
                             <div class="state-flow-box">State Change (e.g., useState, Redux)</div>
                            <div class="state-flow-arrow material-symbols-rounded">arrow_downward</div>
                            <div class="state-flow-box">Component Re-render (Virtual DOM)</div>
                             <div class="state-flow-arrow material-symbols-rounded">arrow_downward</div>
                            <div class="state-flow-box">Update Native UI Components (via Bridge)</div>
                        </div>
                        <p style="text-align: center; margin-top: var(--spacing-unit);">This diagram shows a simplified data flow when state changes in a React Native app.</p>
                    </div>
                `
            },
            {
                id: 'practices',
                title: '5. Best Practices',
                content: `
                    <h2>Performance</h2>
                    <p>Optimizing performance is crucial for mobile apps:</p>
                    <ul>
                        <li><strong>Use FlatList or SectionList:</strong> For long lists of data, these components efficiently render only items currently visible on screen. Avoid using <code>ScrollView</code> with a large number of items.</li>
                        <li><strong>Optimize Component Renders:</strong> Use <code>React.memo</code>, <code>useMemo</code>, and <code>useCallback</code> to prevent unnecessary re-renders.</li>
                        <li><strong>Avoid Anonymous Functions in Props:</strong> Creating new function instances on every render can hurt performance in lists.</li>
                        <li><strong>Profile Performance:</strong> Use the React Native Debugger or Flipper to identify performance bottlenecks.</li>
                    </ul>

                    <h2>Styling</h2>
                    <p>React Native uses JavaScript for styling. The most common way is using <code>StyleSheet.create</code>:</p>
                    <pre><code class="language-jsx">
import { StyleSheet, View, Text } from 'react-native';

const App = () => {
  return (
    &lt;View style={styles.container}>
      &lt;Text style={styles.title}>Styled Text&lt;/Text>
    &lt;/View>
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#fff',
    alignItems: 'center',
    justifyContent: 'center',
  },
  title: {
    fontSize: 24,
    fontWeight: 'bold',
    color: '#333',
  },
});
                    </code></pre>
                    <p>You can also use inline styles (less performant for complex apps) or libraries like Styled Components (similar to web).</p>

                    <h2>Navigation</h2>
                    <p>The standard solution for navigation is <a href="#" onclick="return false;" class="tooltip" tabindex="0" role="tooltip" aria-describedby="tooltip-react-navigation">React Navigation<span class="tooltiptext" id="tooltip-react-navigation">A popular library for handling navigation in React Native apps.</span></a>. It provides navigators like Stack, Tab, and Drawer navigation.</p>

                    <h2>Code Structure</h2>
                    <p>Organize your code logically:</p>
                    <ul>
                        <li>Group components by feature or type.</li>
                        <li>Separate UI components from business logic.</li>
                        <li>Use clear and consistent naming conventions.</li>
                    </ul>
                `
            },
            {
                id: 'glossary',
                title: '6. Glossary & Key Concepts',
                content: `
                    <h2>Key Terms</h2>
                    <ul>
                        <li><strong>JSX:</strong> A syntax extension for JavaScript, used in React and React Native to describe UI.</li>
                        <li><strong>Native Modules:</strong> JavaScript modules that wrap native code (Java/Kotlin for Android, Objective-C/Swift for iOS) allowing JS to access native features like the camera, GPS, etc.</li>
                        <li><strong>Bridge:</strong> The communication layer that facilitates communication between the JavaScript thread and the native thread.</li>
                        <li><strong>Metro:</strong> The JavaScript bundler for React Native.</li>
                        <li><strong>Expo Go:</strong> A mobile app that lets you open and preview your Expo projects on your device without needing Xcode or Android Studio builds.</li>
                        <li><strong>Hot Reloading:</strong> Updates code changes instantly without losing app state.</li>
                         <li><strong>Live Reloading:</strong> Reloads the entire app when code changes.</li>
                         <li><strong>AsyncStorage:</strong> A simple, unencrypted, asynchronous, persistent key-value storage system for React Native.</li>
                    </ul>
                `
            }
        ];

        let currentSectionIndex = -1; // -1 for the welcome page

        function saveCompletedSections() {
            localStorage.setItem(SECTIONS_STORAGE_KEY, JSON.stringify(Array.from(completedSections)));
        }

        function loadCompletedSections() {
            const saved = localStorage.getItem(SECTIONS_STORAGE_KEY);
            if (saved) {
                completedSections = new Set(JSON.parse(saved));
            } else {
                completedSections = new Set();
            }
             applyCompletedClasses();
             updateProgress();
        }

        function applyCompletedClasses() {
             navLinks.forEach(link => {
                 const sectionId = link.dataset.section;
                 if (completedSections.has(sectionId)) {
                     link.classList.add('completed');
                 } else {
                     link.classList.remove('completed');
                 }
             });
        }

        function markSectionCompleted(sectionId) {
             if (sectionId && sections.some(s => s.id === sectionId)) {
                 completedSections.add(sectionId);
                 saveCompletedSections();
                 applyCompletedClasses(); // Update UI
                 updateProgress();
             }
        }


        function loadSection(sectionId) {
            const section = sections.find(s => s.id === sectionId);
            if (!section) {
                console.error("Section not found:", sectionId);
                return;
            }

            // Mark the *currently viewed* section as completed before loading the new one
            // Only mark if it was a valid learning section (not welcome or glossary initially)
             if (currentSectionIndex >= 0 && currentSectionIndex < sections.length -1) { // Don't auto-complete glossary or welcome
                 markSectionCompleted(sections[currentSectionIndex].id);
            }


            mainContent.innerHTML = section.content;
            mainContent.scrollTop = 0;
            mainContent.focus();

            mainContent.querySelectorAll('pre code').forEach((block) => {
                Prism.highlightElement(block);
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.dataset.section === sectionId) {
                    link.classList.add('active');
                    currentSectionIndex = sections.findIndex(s => s.id === sectionId);
                }
            });

            updateNavigationButtons();
            // Progress is updated by markSectionCompleted or initial load
            closeSidebar();
        }

        function updateNavigationButtons() {
            let navButtonsContainer = mainContent.querySelector('.navigation-buttons');

            if (!navButtonsContainer) {
                navButtonsContainer = document.createElement('div');
                navButtonsContainer.className = 'navigation-buttons';
                navButtonsContainer.innerHTML = `
                    <button id="prevBtn" class="btn-prev">Previous</button>
                    <button id="nextBtn" class="btn-next">Next</button>
                `;
                mainContent.appendChild(navButtonsContainer);

                document.getElementById('prevBtn').addEventListener('click', navigatePrevious);
                document.getElementById('nextBtn').addEventListener('click', navigateNext);
            }

            const prevButton = document.getElementById('prevBtn');
            const nextButton = document.getElementById('nextBtn');

            prevButton.disabled = currentSectionIndex <= 0;
            nextButton.disabled = currentSectionIndex >= sections.length - 1;
        }

        function navigatePrevious() {
            if (currentSectionIndex > 0) {
                const prevSectionId = sections[currentSectionIndex - 1].id;
                loadSection(prevSectionId);
                history.pushState({ section: prevSectionId }, '', `#section-${prevSectionId}`);
            }
        }

        function navigateNext() {
            if (currentSectionIndex < sections.length - 1) {
                const nextSectionId = sections[currentSectionIndex + 1].id;
                loadSection(nextSectionId);
                history.pushState({ section: nextSectionId }, '', `#section-${nextSectionId}`);
            }
        }

        function updateProgress() {
            // Exclude glossary from progress calculation if desired, or include all sections
            const sectionsForProgress = sections.slice(0, sections.length -1); // Exclude glossary
            const completedCount = sectionsForProgress.filter(s => completedSections.has(s.id)).length;
            const totalCount = sectionsForProgress.length;
            const progress = totalCount > 0 ? (completedCount / totalCount) * 100 : 0;
            progressBar.style.width = `${progress}%`;
            progressBar.setAttribute('aria-valuenow', progress.toFixed(0));
            progressBar.setAttribute('aria-valuetext', `${progress.toFixed(0)}% complete`);
        }

        function toggleSidebar() {
            body.classList.toggle('sidebar-open');
            const isOpen = body.classList.contains('sidebar-open');
            sidebarToggle.setAttribute('aria-expanded', isOpen);
            sidebarToggle.querySelector('.material-symbols-rounded').textContent = isOpen ? 'close' : 'menu';
        }

         function closeSidebar() {
            if (body.classList.contains('sidebar-open')) {
                 body.classList.remove('sidebar-open');
                 sidebarToggle.setAttribute('aria-expanded', false);
                 sidebarToggle.querySelector('.material-symbols-rounded').textContent = 'menu';
            }
         }

        // Event listeners for navigation
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const sectionId = link.dataset.section;
                // Only mark completed if navigating *away* from a section
                if (currentSectionIndex >= 0 && currentSectionIndex < sections.length -1 && sections[currentSectionIndex].id !== sectionId) {
                     markSectionCompleted(sections[currentSectionIndex].id);
                }
                loadSection(sectionId);
                history.pushState({ section: sectionId }, '', `#section-${sectionId}`);
            });
        });

        // Basic Search Functionality (client-side filtering)
        searchInput.addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase();
            navLinks.forEach(link => {
                const sectionTitle = link.textContent.toLowerCase();
                // Simple check if title includes search term
                const matches = sectionTitle.includes(searchTerm);
                link.parentElement.style.display = matches ? '' : 'none'; // Show/hide parent li
            });
        });

        // Sidebar toggle listeners
        sidebarToggle.addEventListener('click', toggleSidebar);
        sidebarOverlay.addEventListener('click', closeSidebar);


        // Handle browser back/forward navigation
        window.addEventListener('popstate', (event) => {
            if (event.state && event.state.section) {
                loadSection(event.state.section);
            } else {
                 // Load welcome page if no state
                 mainContent.innerHTML = `
                    <h1>Welcome to the React Native Learning Path</h1>
                    <p>This guide is designed for web developers looking to transition to mobile app development using React Native. We'll cover the core concepts, workflow, key components, state management, and best practices to help you get started.</p>
                    <p>Select a section from the left sidebar to begin your journey.</p>
                 `;
                 currentSectionIndex = -1;
                 navLinks.forEach(link => link.classList.remove('active'));
                 updateNavigationButtons();
                 // Progress and completed classes remain as loaded from storage
            }
             mainContent.focus();
        });

        // Initial load
        loadCompletedSections(); // Load completed status from storage first

        const initialSectionId = window.location.hash.replace('#section-', '');
        if (initialSectionId && sections.some(s => s.id === initialSectionId)) {
            loadSection(initialSectionId);
        } else {
            // Load welcome content and setup buttons if no hash or invalid hash
             mainContent.innerHTML = `
                <h1>Welcome to the React Native Learning Path</h1>
                <p>This guide is designed for web developers looking to transition to mobile app development using React Native. We'll cover the core concepts, workflow, key components, state management, and best practices to help you get started.</p>
                <p>Select a section from the left sidebar to begin your journey.</p>
             `;
             currentSectionIndex = -1;
             navLinks.forEach(link => link.classList.remove('active')); // Ensure no links are active
             updateNavigationButtons();
             // Progress and completed classes are already loaded by loadCompletedSections()
        }

        // Add event listener to mark current section complete when navigating away via sidebar or next button
        // This is handled within loadSection and navigateNext now.
        // We also need to handle the case where the user closes the browser or navigates away from the page entirely.
        window.addEventListener('beforeunload', () => {
             if (currentSectionIndex >= 0 && currentSectionIndex < sections.length -1) { // Don't auto-complete glossary or welcome
                 markSectionCompleted(sections[currentSectionIndex].id);
             }
             // localStorage is automatically saved by markSectionCompleted
        });

    </script>

</body>
</html>
