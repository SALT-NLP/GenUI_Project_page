<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ethical Ethnography Planner</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,400..700,0..1,-50..200" />
    <style>
        :root {
            --primary-color: #007acc;
            /* VSCode blue */
            --primary-color-dark: #005f99;
            --secondary-color: #f0f0f0;
            /* Light grey */
            --background-color: #ffffff;
            /* Pure white */
            --text-color: #333;
            --text-color-light: #666;
            --border-color: #ddd;
            --success-color: #4CAF50;
            --warning-color: #ff9800;
            --error-color: #f44336;
            --spacing-unit: 8px;
            --border-radius: 8px;
            --shadow-subtle: 0 2px 4px rgba(0, 0, 0, 0.05);
            --shadow-medium: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--background-color);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        header {
            background-color: var(--primary-color);
            color: white;
            padding: calc(var(--spacing-unit) * 2);
            box-shadow: var(--shadow-medium);
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        header h1 {
            margin: 0;
            font-size: 1.8em;
            font-weight: 700;
        }

        .layout-container {
            display: grid;
            grid-template-columns: 250px 1fr;
            /* Sidebar and main content */
            flex-grow: 1;
        }

        .sidebar {
            background-color: var(--secondary-color);
            padding: calc(var(--spacing-unit) * 2);
            border-right: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
        }

        .sidebar h2 {
            margin-top: 0;
            margin-bottom: calc(var(--spacing-unit) * 2);
            font-size: 1.2em;
            color: var(--text-color-light);
            border-bottom: 1px solid var(--border-color);
            padding-bottom: calc(var(--spacing-unit));
        }

        .sidebar nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .sidebar nav li {
            margin-bottom: calc(var(--spacing-unit));
        }

        .sidebar nav a {
            display: block;
            padding: calc(var(--spacing-unit)) calc(var(--spacing-unit) * 1.5);
            text-decoration: none;
            color: var(--text-color);
            border-radius: var(--border-radius);
            transition: background-color 0.2s ease, color 0.2s ease;
        }

        .sidebar nav a:hover,
        .sidebar nav a:focus {
            background-color: var(--border-color);
            outline: none;
        }

        .sidebar nav a.active {
            background-color: var(--primary-color);
            color: white;
        }

        .main-content {
            padding: calc(var(--spacing-unit) * 3);
            overflow-y: auto;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: calc(var(--spacing-unit) * 3);
        }

        .module-card {
            background-color: var(--background-color);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-subtle);
            padding: calc(var(--spacing-unit) * 3);
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            border: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
        }

        .module-card:hover,
        .module-card:focus {
            transform: translateY(-5px);
            box-shadow: var(--shadow-medium);
            outline: none;
        }

        .module-card__icon {
            font-size: 3em;
            color: var(--primary-color);
            margin-bottom: calc(var(--spacing-unit) * 1.5);
        }

        .module-card__title {
            font-size: 1.4em;
            margin: 0 0 calc(var(--spacing-unit));
            color: var(--primary-color-dark);
        }

        .module-card__description {
            font-size: 0.9em;
            color: var(--text-color-light);
            flex-grow: 1;
        }

        .module-content h2 {
            font-size: 2em;
            margin-top: 0;
            margin-bottom: calc(var(--spacing-unit) * 3);
            color: var(--primary-color-dark);
            border-bottom: 2px solid var(--border-color);
            padding-bottom: calc(var(--spacing-unit));
        }

        .form-section {
            background-color: var(--secondary-color);
            border-radius: var(--border-radius);
            padding: calc(var(--spacing-unit) * 2);
            margin-bottom: calc(var(--spacing-unit) * 3);
            border: 1px solid var(--border-color);
        }

        .form-section__title {
            font-size: 1.5em;
            margin-top: 0;
            margin-bottom: calc(var(--spacing-unit) * 2);
            color: var(--text-color);
        }

        label {
            display: block;
            margin-bottom: calc(var(--spacing-unit));
            font-weight: 600;
            color: var(--text-color-light);
        }

        textarea,
        input[type="text"],
        select {
            width: 100%;
            padding: calc(var(--spacing-unit) * 1.5);
            margin-bottom: calc(var(--spacing-unit) * 2);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            font-family: 'Inter', sans-serif;
            font-size: 1em;
            box-sizing: border-box;
            /* Include padding and border in element's total width and height */
        }

        textarea {
            min-height: 150px;
            resize: vertical;
        }

        .checkbox-group,
        .radio-group {
            margin-bottom: calc(var(--spacing-unit) * 2);
        }

        .checkbox-group label,
        .radio-group label {
            font-weight: normal;
            color: var(--text-color);
            display: flex;
            align-items: center;
            margin-bottom: var(--spacing-unit);
        }

        .checkbox-group input[type="checkbox"],
        .radio-group input[type="radio"] {
            margin-right: var(--spacing-unit);
            width: auto;
            /* Override 100% width */
            margin-bottom: 0;
            /* Override margin-bottom */
        }

        .expandable-panel {
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            margin-bottom: calc(var(--spacing-unit) * 2);
            overflow: hidden;
            background-color: var(--background-color);
        }

        .expandable-panel__header {
            padding: calc(var(--spacing-unit) * 1.5);
            background-color: var(--secondary-color);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            color: var(--primary-color-dark);
            border-bottom: 1px solid var(--border-color);
            transition: background-color 0.2s ease;
        }

        .expandable-panel__header:hover,
        .expandable-panel__header:focus {
            background-color: var(--border-color);
            outline: none;
        }

        .expandable-panel__header .material-symbols-rounded {
            transition: transform 0.3s ease;
        }

        .expandable-panel__content {
            padding: calc(var(--spacing-unit) * 1.5);
            display: none;
            border-top: none;
            /* Remove top border if header has bottom */
        }

        .expandable-panel.expanded .expandable-panel__content {
            display: block;
        }

        .expandable-panel.expanded .expandable-panel__header .material-symbols-rounded {
            transform: rotate(180deg);
        }

        .button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: calc(var(--spacing-unit) * 1.5) calc(var(--spacing-unit) * 3);
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            text-decoration: none;
            transition: background-color 0.2s ease, opacity 0.2s ease;
            margin-right: calc(var(--spacing-unit));
        }

        .button:hover,
        .button:focus {
            background-color: var(--primary-color-dark);
            outline: none;
        }

        .button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .button--secondary {
            background-color: var(--secondary-color);
            color: var(--text-color);
            border: 1px solid var(--border-color);
        }

        .button--secondary:hover,
        .button--secondary:focus {
            background-color: var(--border-color);
        }

        .checklist {
            list-style: none;
            padding: 0;
            margin: var(--spacing-unit) * 2 0;
        }

        .checklist li {
            display: flex;
            align-items: center;
            margin-bottom: var(--spacing-unit);
            cursor: pointer;
            padding: var(--spacing-unit);
            border-radius: var(--border-radius);
            transition: background-color 0.2s ease;
        }

        .checklist li:hover {
            background-color: var(--secondary-color);
        }

        .checklist input[type="checkbox"] {
            margin-right: var(--spacing-unit);
            width: auto;
            margin-bottom: 0;
        }

        .checklist li.completed label {
            text-decoration: line-through;
            color: var(--text-color-light);
        }

        .progress-indicator {
            margin-top: var(--spacing-unit) * 3;
            margin-bottom: var(--spacing-unit) * 3;
        }

        .progress-bar {
            width: 100%;
            height: var(--spacing-unit) * 2;
            background-color: var(--border-color);
            border-radius: var(--border-radius);
            overflow: hidden;
        }

        .progress-bar__fill {
            height: 100%;
            width: 0%;
            background-color: var(--success-color);
            transition: width 0.5s ease;
        }

        .modal {
            display: none;
            /* Hidden by default */
            position: fixed;
            /* Stay in place */
            z-index: 200;
            /* Sit on top */
            left: 0;
            top: 0;
            width: 100%;
            /* Full width */
            height: 100%;
            /* Full height */
            overflow: auto;
            /* Enable scroll if needed */
            background-color: rgba(0, 0, 0, 0.4);
            /* Black w/ opacity */
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: var(--background-color);
            margin: auto;
            padding: calc(var(--spacing-unit) * 3);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-medium);
            max-width: 500px;
            width: 90%;
            position: relative;
            animation: fadeIn 0.3s ease-out;
        }

        .modal-close {
            color: var(--text-color-light);
            position: absolute;
            top: calc(var(--spacing-unit) * 2);
            right: calc(var(--spacing-unit) * 2);
            font-size: 1.5em;
            font-weight: bold;
            cursor: pointer;
        }

        .modal-close:hover,
        .modal-close:focus {
            color: var(--text-color);
            text-decoration: none;
            outline: none;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .layout-container {
                grid-template-columns: 1fr;
                /* Stack content */
            }

            .sidebar {
                display: none;
                /* Hide sidebar by default on small screens */
            }

            header {
                justify-content: center;
                /* Center title */
            }
        }
    </style>
</head>

<body>
    <header>
        <h1>Ethical Ethnography Planner</h1>
        <!-- Mobile nav toggle could go here -->
    </header>

    <div class="layout-container">
        <aside class="sidebar">
            <h2>Planning Modules</h2>
            <nav>
                <ul>
                    <li><a href="#dashboard" class="nav-link active">Dashboard</a></li>
                    <li><a href="#positionality" class="nav-link">Positionality</a></li>
                    <li><a href="#observation" class="nav-link">Participant Observation</a></li>
                    <li><a href="#interviews" class="nav-link">Interviews</a></li>
                    <li><a href="#mapping" class="nav-link">Community Mapping</a></li>
                    <li><a href="#engagement" class="nav-link">Community Engagement & Consent</a></li>
                    <li><a href="#data-ethics" class="nav-link">Data Management & Representation</a></li>
                    <li><a href="#resources" class="nav-link">Resources</a></li>
                </ul>
            </nav>
            <div class="progress-indicator">
                <label>Overall Progress</label>
                <div class="progress-bar">
                    <div class="progress-bar__fill" style="width: 0%;"></div>
                </div>
            </div>
        </aside>

        <main class="main-content">
            <div id="dashboard" class="module-section active">
                <h2>Welcome to the Ethical Ethnography Planner</h2>
                <p>This tool guides you through designing a research methodology that is ethical, respectful, and
                    mindful of power dynamics, particularly in cross-cultural contexts like researching indigenous
                    communities.</p>
                <p>Select a module below to begin planning your research.</p>

                <div class="dashboard-grid">
                    <div class="module-card" data-target="positionality" tabindex="0">
                        <span class="material-symbols-rounded module-card__icon">self_improvement</span>
                        <h3 class="module-card__title">Positionality</h3>
                        <p class="module-card__description">Reflect on your identity, background, and how they shape
                            your research.</p>
                    </div>
                    <div class="module-card" data-target="observation" tabindex="0">
                        <span class="material-symbols-rounded module-card__icon">visibility</span>
                        <h3 class="module-card__title">Participant Observation</h3>
                        <p class="module-card__description">Plan ethical approaches to observing and participating in
                            community life.</p>
                    </div>
                    <div class="module-card" data-target="interviews" tabindex="0">
                        <span class="material-symbols-rounded module-card__icon">chat</span>
                        <h3 class="module-card__title">Interviews</h3>
                        <p class="module-card__description">Design interview strategies that prioritize respect, agency,
                            and informed consent.</p>
                    </div>
                    <div class="module-card" data-target="mapping" tabindex="0">
                        <span class="material-symbols-rounded module-card__icon">map</span>
                        <h3 class="module-card__title">Community Mapping</h3>
                        <p class="module-card__description">Plan collaborative and respectful mapping activities.</p>
                    </div>
                    <div class="module-card" data-target="engagement" tabindex="0">
                        <span class="material-symbols-rounded module-card__icon">handshake</span>
                        <h3 class="module-card__title">Community Engagement & Consent</h3>
                        <p class="module-card__description">Establish ethical relationships and robust consent
                            processes.</p>
                    </div>
                    <div class="module-card" data-target="data-ethics" tabindex="0">
                        <span class="material-symbols-rounded module-card__icon">database</span>
                        <h3 class="module-card__title">Data Management & Representation</h3>
                        <p class="module-card__description">Plan for ethical handling, storage, and representation of
                            data.</p>
                    </div>
                    <div class="module-card" data-target="resources" tabindex="0">
                        <span class="material-symbols-rounded module-card__icon">library_books</span>
                        <h3 class="module-card__title">Resources</h3>
                        <p class="module-card__description">Access guidelines, examples, and further reading.</p>
                    </div>
                </div>
            </div>

            <div id="positionality" class="module-section">
                <h2>Positionality Reflection</h2>
                <p>Reflecting on your positionality is crucial for understanding how your background, identity, and
                    power influence your research process and findings.</p>

                <div class="form-section">
                    <h3 class="form-section__title">Your Background & Identity</h3>
                    <label for="positionality-background">Describe your relevant background (e.g., nationality,
                        ethnicity, gender, class, academic training) and how it might shape your perspective:</label>
                    <textarea id="positionality-background"></textarea>

                    <label for="positionality-power">How might your position relative to the community members create
                        power dynamics? Consider researcher-participant, global North-global South, etc.:</label>
                    <textarea id="positionality-power"></textarea>
                </div>

                <div class="expandable-panel">
                    <div class="expandable-panel__header" tabindex="0">
                        Understanding Power Dynamics <span class="material-symbols-rounded">expand_more</span>
                    </div>
                    <div class="expandable-panel__content">
                        <p>Power dynamics in research can stem from differences in social status, access to resources,
                            knowledge systems, and historical contexts (e.g., colonialism). Recognizing these dynamics
                            is the first step to mitigating their negative impacts.</p>
                        <p>Consider how your institutional affiliation, funding source, or publication goals might also
                            introduce power imbalances.</p>
                    </div>
                </div>

                <div class="form-section">
                    <h3 class="form-section__title">Mitigating Bias & Harm</h3>
                    <label for="positionality-mitigation">What specific steps will you take to be transparent about your
                        positionality and mitigate potential biases or harm arising from it?</label>
                    <textarea id="positionality-mitigation"></textarea>
                </div>

                <div class="form-section">
                    <h3 class="form-section__title">Checklist: Positionality Considerations</h3>
                    <ul class="checklist">
                        <li>
                            <input type="checkbox" id="pos-check-1">
                            <label for="pos-check-1">Reflected on my own cultural background and biases.</label>
                        </li>
                        <li>
                            <input type="checkbox" id="pos-check-2">
                            <label for="pos-check-2">Considered potential power imbalances based on nationality, class,
                                gender, etc.</label>
                        </li>
                        <li>
                            <input type="checkbox" id="pos-check-3">
                            <label for="pos-check-3">Planned how to be transparent about my role and purpose with the
                                community.</label>
                        </li>
                        <li>
                            <input type="checkbox" id="pos-check-4">
                            <label for="pos-check-4">Identified specific strategies to minimize harm and
                                exploitation.</label>
                        </li>
                    </ul>
                </div>

                <button class="button save-progress">Save Positionality Progress</button>
            </div>

            <div id="observation" class="module-section">
                <h2>Ethical Participant Observation</h2>
                <p>Planning your observation ethically requires careful consideration of presence, privacy, and power.
                </p>

                <div class="form-section">
                    <h3 class="form-section__title">Planning Your Presence</h3>
                    <label for="observation-entry">How will you negotiate your entry into the community and specific
                        settings for observation?</label>
                    <textarea id="observation-entry"></textarea>

                    <label for="observation-role">What role(s) do you anticipate taking? How will you manage the ethical
                        implications of these roles?</label>
                    <textarea id="observation-role"></textarea>
                </div>

                <div class="expandable-panel">
                    <div class="expandable-panel__header" tabindex="0">
                        Ethical Dilemmas in Observation <span class="material-symbols-rounded">expand_more</span>
                    </div>
                    <div class="expandable-panel__content">
                        <p>Observation raises questions about covert versus overt research, the right to privacy, and
                            the impact of the researcher's presence on observed behavior. Always aim for transparency
                            and minimize disruption.</p>
                        <p>Consider how you will handle sensitive or private moments you might witness.</p>
                    </div>
                </div>

                <div class="form-section">
                    <h3 class="form-section__title">Privacy and Data Collection</h3>
                    <label for="observation-data">How will you ensure the privacy of individuals and the community
                        during observation and note-taking?</label>
                    <textarea id="observation-data"></textarea>

                    <label for="observation-consent">What level of consent is appropriate for observation? How will you
                        obtain and manage it?</label>
                    <textarea id="observation-consent"></textarea>
                </div>

                <div class="form-section">
                    <h3 class="form-section__title">Checklist: Observation Considerations</h3>
                    <ul class="checklist">
                        <li>
                            <input type="checkbox" id="obs-check-1">
                            <label for="obs-check-1">Planned transparent entry and presence in the community.</label>
                        </li>
                        <li>
                            <input type="checkbox" id="obs-check-2">
                            <label for="obs-check-2">Considered the ethical implications of my researcher
                                role(s).</label>
                        </li>
                        <li>
                            <input type="checkbox" id="obs-check-3">
                            <label for="obs-check-3">Developed strategies for protecting privacy during
                                observation.</label>
                        </li>
                        <li>
                            <input type="checkbox" id="obs-check-4">
                            <label for="obs-check-4">Planned how to obtain appropriate consent for observation
                                activities.</label>
                        </li>
                    </ul>
                </div>

                <button class="button save-progress">Save Observation Progress</button>
            </div>

            <div id="interviews" class="module-section">
                <h2>Ethical Interviewing</h2>
                <p>Conducting interviews ethically requires careful attention to power dynamics, consent, and ensuring
                    participant well-being.</p>

                <div class="form-section">
                    <h3 class="form-section__title">Interview Design</h3>
                    <label for="interview-questions">How will you design interview questions to avoid leading questions
                        and allow participants' authentic voices to emerge?</label>
                    <textarea id="interview-questions"></textarea>

                    <label for="interview-setting">Where will interviews take place? How will you ensure the setting is
                        comfortable and safe for participants?</label>
                    <textarea id="interview-setting"></textarea>
                </div>

                <div class="expandable-panel">
                    <div class="expandable-panel__header" tabindex="0">
                        Respectful Communication <span class="material-symbols-rounded">expand_more</span>
                    </div>
                    <div class="expandable-panel__content">
                        <p>Consider language barriers and the need for translation or interpretation. Ensure
                            interpreters are trained in ethical research practices. Be mindful of non-verbal
                            communication and cultural norms around conversation.</p>
                        <p>Think about how you will handle sensitive topics or emotional responses during interviews.
                        </p>
                    </div>
                </div>

                <div class="form-section">
                    <h3 class="form-section__title">Informed Consent for Interviews</h3>
                    <label for="interview-consent-process">Describe your process for obtaining truly informed consent
                        for interviews. How will you ensure participants understand their rights (e.g., right to
                        withdraw, anonymity)?</label>
                    <textarea id="interview-consent-process"></textarea>

                    <label for="interview-recording">If recording interviews, how will you obtain explicit consent for
                        recording and manage the recordings ethically?</label>
                    <textarea id="interview-recording"></textarea>
                </div>

                <div class="form-section">
                    <h3 class="form-section__title">Checklist: Interview Considerations</h3>
                    <ul class="checklist">
                        <li>
                            <input type="checkbox" id="int-check-1">
                            <label for="int-check-1">Designed open-ended questions that avoid bias.</label>
                        </li>
                        <li>
                            <input type="checkbox" id="int-check-2">
                            <label for="int-check-2">Planned for a safe and comfortable interview setting.</label>
                        </li>
                        <li>
                            <input type="checkbox" id="int-check-3">
                            <label for="int-check-3">Developed a clear and comprehensive informed consent
                                process.</label>
                        </li>
                        <li>
                            <input type="checkbox" id="int-check-4">
                            <label for="int-check-4">Planned how to handle sensitive topics or participant
                                distress.</label>
                        </li>
                    </ul>
                </div>

                <button class="button save-progress">Save Interview Progress</button>
            </div>

            <div id="mapping" class="module-section">
                <h2>Ethical Community Mapping</h2>
                <p>Community mapping can be a powerful collaborative tool, but requires careful planning to ensure it is
                    empowering, not extractive.</p>

                <div class="form-section">
                    <h3 class="form-section__title">Collaborative Process</h3>
                    <label for="mapping-collaboration">How will community members be involved in the design and
                        execution of the mapping process?</label>
                    <textarea id="mapping-collaboration"></textarea>

                    <label for="mapping-ownership">Who will own the resulting maps and data? How will this be decided
                        and documented?</label>
                    <textarea id="mapping-ownership"></textarea>
                </div>

                <div class="expandable-panel">
                    <div class="expandable-panel__header" tabindex="0">
                        Data Sensitivity in Mapping <span class="material-symbols-rounded">expand_more</span>
                    </div>
                    <div class="expandable-panel__content">
                        <p>Maps can contain sensitive information about resources, sacred sites, land use, or community
                            infrastructure. Plan carefully what information will be included and how potential risks
                            (e.g., to land rights, privacy) will be mitigated.</p>
                        <p>Consider different formats for maps (e.g., hand-drawn, digital) and which best serves the
                            community's needs and preferences.</p>
                    </div>
                </div>

                <div class="form-section">
                    <h3 class="form-section__title">Consent and Representation</h3>
                    <label for="mapping-consent">How will you obtain informed consent from individuals and the community
                        for participating in mapping and for the use/sharing of the maps?</label>
                    <textarea id="mapping-consent"></textarea>

                    <label for="mapping-representation">How will you ensure the maps accurately reflect community
                        perspectives and priorities, and avoid imposing external frameworks?</label>
                    <textarea id="mapping-representation"></textarea>
                </div>

                <div class="form-section">
                    <h3 class="form-section__title">Checklist: Mapping Considerations</h3>
                    <ul class="checklist">
                        <li>
                            <input type="checkbox" id="map-check-1">
                            <label for="map-check-1">Planned for genuine community collaboration in mapping.</label>
                        </li>
                        <li>
                            <input type="checkbox" id="map-check-2">
                            <label for="map-check-2">Addressed ownership and control of the mapping outputs.</label>
                        </li>
                        <li>
                            <input type="checkbox" id="map-check-3">
                            <label for="map-check-3">Developed a consent process for mapping activities and map
                                use.</label>
                        </li>
                        <li>
                            <input type="checkbox" id="map-check-4">
                            <label for="map-check-4">Considered data sensitivity and potential risks associated with the
                                map content.</label>
                        </li>
                    </ul>
                </div>

                <button class="button save-progress">Save Mapping Progress</button>
            </div>

            <div id="engagement" class="module-section">
                <h2>Community Engagement & Consent</h2>
                <p>Building respectful relationships and ensuring truly informed consent are foundational to ethical
                    research.</p>

                <div class="form-section">
                    <h3 class="form-section__title">Building Relationships</h3>
                    <label for="engagement-relationships">How will you build trust and establish long-term, reciprocal
                        relationships with the community beyond the research project?</label>
                    <textarea id="engagement-relationships"></textarea>

                    <label for="engagement-communication">What communication methods will you use? How will you ensure
                        information is accessible and understandable to all community members?</label>
                    <textarea id="engagement-communication"></textarea>
                </div>

                <div class="expandable-panel">
                    <div class="expandable-panel__header" tabindex="0">
                        Beyond Individual Consent <span class="material-symbols-rounded">expand_more</span>
                    </div>
                    <div class="expandable-panel__content">
                        <p>In many indigenous contexts, collective consent from community leaders or governing bodies is
                            as important, if not more so, than individual consent. Understand and respect local
                            decision-making processes.</p>
                        <p>Consent is not a one-time event but an ongoing process. Plan for regular check-ins and
                            opportunities for participants to revisit their consent.</p>
                    </div>
                </div>

                <div class="form-section">
                    <h3 class="form-section__title">Informed Consent Process</h3>
                    <label for="engagement-informed-consent">Detail your comprehensive informed consent process. What
                        information will be provided (purpose, procedures, risks/benefits, confidentiality, rights)? How
                        will it be delivered (e.g., written, oral, visual)?</label>
                    <textarea id="engagement-informed-consent"></textarea>

                    <label for="engagement-consent-documentation">How will consent be documented? Consider cultural
                        appropriateness (e.g., signatures, thumbprints, witnessed oral consent).</label>
                    <textarea id="engagement-consent-documentation"></textarea>
                </div>

                <div class="form-section">
                    <h3 class="form-section__title">Checklist: Engagement & Consent Considerations</h3>
                    <ul class="checklist">
                        <li>
                            <input type="checkbox" id="eng-check-1">
                            <label for="eng-check-1">Planned strategies for building trust and long-term
                                relationships.</label>
                        </li>
                        <li>
                            <input type="checkbox" id="eng-check-2">
                            <label for="eng-check-2">Ensured communication methods are accessible and culturally
                                appropriate.</label>
                        </li>
                        <li>
                            <input type="checkbox" id="eng-check-3">
                            <label for="eng-check-3">Developed a detailed informed consent process covering all
                                necessary information.</label>
                        </li>
                        <li>
                            <input type="checkbox" id="eng-check-4">
                            <label for="eng-check-4">Considered mechanisms for obtaining and documenting collective
                                consent.</label>
                        </li>
                        <li>
                            <input type="checkbox" id="eng-check-5">
                            <label for="eng-check-5">Planned for consent to be an ongoing process.</label>
                        </li>
                    </ul>
                </div>

                <button class="button save-progress">Save Engagement Progress</button>
            </div>

            <div id="data-ethics" class="module-section">
                <h2>Data Management & Representation</h2>
                <p>Ethical data practices extend from collection and storage to analysis and how findings are shared and
                    represented.</p>

                <div class="form-section">
                    <h3 class="form-section__title">Data Collection & Storage</h3>
                    <label for="data-collection">How will you collect data (notes, recordings, photos, maps)? How will
                        you minimize intrusion and protect privacy during collection?</label>
                    <textarea id="data-collection"></textarea>

                    <label for="data-storage">Where and how will data be stored securely during and after fieldwork? Who
                        will have access?</label>
                    <textarea id="data-storage"></textarea>
                </div>

                <div class="expandable-panel">
                    <div class="expandable-panel__header" tabindex="0">
                        Anonymity vs. Attribution <span class="material-symbols-rounded">expand_more</span>
                    </div>
                    <div class="expandable-panel__content">
                        <p>Deciding whether to anonymize participants or attribute quotes/information requires careful
                            negotiation with the community and individuals. Anonymity protects privacy, but attribution
                            can empower voices and acknowledge contributions. Discuss preferences during the consent
                            process.</p>
                        <p>Consider the implications of data sharing and archiving. Who decides if and how data is
                            shared with other researchers or stored in repositories?</p>
                    </div>
                </div>

                <div class="form-section">
                    <h3 class="form-section__title">Analysis & Representation</h3>
                    <label for="data-analysis">How will you involve community members in the analysis and interpretation
                        of data?</label>
                    <textarea id="data-analysis"></textarea>

                    <label for="data-representation">How will you represent findings ethically in publications and
                        presentations? How will you avoid perpetuating stereotypes or harmful narratives?</label>
                    <textarea id="data-representation"></textarea>

                    <label for="data-return">How will you share findings back with the community in an accessible and
                        useful format?</label>
                    <textarea id="data-return"></textarea>
                </div>

                <div class="form-section">
                    <h3 class="form-section__title">Checklist: Data Ethics Considerations</h3>
                    <ul class="checklist">
                        <li>
                            <input type="checkbox" id="data-check-1">
                            <label for="data-check-1">Planned secure data storage methods.</label>
                        </li>
                        <li>
                            <input type="checkbox" id="data-check-2">
                            <label for="data-check-2">Discussed anonymity vs. attribution with participants.</label>
                        </li>
                        <li>
                            <input type="checkbox" id="data-check-3">
                            <label for="data-check-3">Planned for community involvement in data
                                analysis/interpretation.</label>
                        </li>
                        <li>
                            <input type="checkbox" id="data-check-4">
                            <label for="data-check-4">Developed strategies for ethical representation of
                                findings.</label>
                        </li>
                        <li>
                            <input type="checkbox" id="data-check-5">
                            <label for="data-check-5">Planned how to return findings to the community.</label>
                        </li>
                    </ul>
                </div>

                <button class="button save-progress">Save Data Ethics Progress</button>
            </div>

            <div id="resources" class="module-section">
                <h2>Resources</h2>
                <p>Here are some external resources that may be helpful for planning ethical ethnographic research.
                    (Note: Links are illustrative; actual implementation would require a self-contained resource list).
                </p>

                <div class="form-section">
                    <h3 class="form-section__title">Guidelines & Examples</h3>
                    <ul>
                        <li><a href="#" class="resource-link">Example: AAA Statement on Ethics</a></li>
                        <li><a href="#" class="resource-link">Example: CARE Principles for Indigenous Data
                                Governance</a></li>
                        <li><a href="#" class="resource-link">Example: Guide to Decolonizing Methodologies</a></li>
                        <li><a href="#" class="resource-link">Example: Sample Ethical Review Board Application</a></li>
                    </ul>
                </div>

                <div class="form-section">
                    <h3 class="form-section__title">Further Reading</h3>
                    <ul>
                        <li><a href="#" class="resource-link">Example: Book - Decolonizing Methodologies by Linda
                                Tuhiwai Smith</a></li>
                        <li><a href="#" class="resource-link">Example: Article - On Positionality in Research</a></li>
                    </ul>
                </div>
            </div>

        </main>
    </div>

    <!-- Modal for tips/warnings -->
    <div id="infoModal" class="modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h3 id="modalTitle">Tip</h3>
            <p id="modalMessage"></p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const navLinks = document.querySelectorAll('.nav-link');
            const moduleSections = document.querySelectorAll('.module-section');
            const moduleCards = document.querySelectorAll('.module-card');
            const expandableHeaders = document.querySelectorAll('.expandable-panel__header');
            const checklists = document.querySelectorAll('.checklist');
            const progressBarFill = document.querySelector('.progress-bar__fill');
            const modal = document.getElementById('infoModal');
            const modalClose = document.querySelector('.modal-close');
            const modalTitle = document.getElementById('modalTitle');
            const modalMessage = document.getElementById('modalMessage');
            const saveButtons = document.querySelectorAll('.save-progress');

            // --- Navigation and Module Switching ---
            function showModule(id) {
                moduleSections.forEach(section => {
                    section.classList.remove('active');
                    section.style.display = 'none'; // Use display: none for sections
                });
                navLinks.forEach(link => link.classList.remove('active'));

                const targetSection = document.getElementById(id);
                const targetNavLink = document.querySelector(`.nav-link[href="#${id}"]`);

                if (targetSection) {
                    targetSection.classList.add('active');
                    targetSection.style.display = 'block'; // Use display: block for active section
                    if (targetNavLink) {
                        targetNavLink.classList.add('active');
                    }
                    // Scroll to top of the main content area
                    document.querySelector('.main-content').scrollTop = 0;
                } else {
                    // Default to dashboard if target not found
                    document.getElementById('dashboard').classList.add('active');
                    document.getElementById('dashboard').style.display = 'block';
                    document.querySelector('.nav-link[href="#dashboard"]').classList.add('active');
                }
            }

            // Handle initial load based on hash or default to dashboard
            const initialModule = window.location.hash ? window.location.hash.substring(1) : 'dashboard';
            showModule(initialModule);

            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = link.getAttribute('href').substring(1);
                    history.pushState(null, null, `#${targetId}`); // Update URL hash
                    showModule(targetId);
                });
            });

            moduleCards.forEach(card => {
                card.addEventListener('click', () => {
                    const targetId = card.dataset.target;
                    history.pushState(null, null, `#${targetId}`); // Update URL hash
                    showModule(targetId);
                });
                card.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        const targetId = card.dataset.target;
                        history.pushState(null, null, `#${targetId}`); // Update URL hash
                        showModule(targetId);
                    }
                });
            });

            // Handle browser back/forward buttons
            window.addEventListener('popstate', () => {
                const targetId = window.location.hash ? window.location.hash.substring(1) : 'dashboard';
                showModule(targetId);
            });


            // --- Expandable Panels ---
            expandableHeaders.forEach(header => {
                header.addEventListener('click', () => {
                    const panel = header.parentElement;
                    panel.classList.toggle('expanded');
                });
                header.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        const panel = header.parentElement;
                        panel.classList.toggle('expanded');
                    }
                });
            });

            // --- Checklists and Progress ---
            function updateProgress() {
                let totalCheckboxes = 0;
                let checkedCheckboxes = 0;

                checklists.forEach(checklist => {
                    const checkboxes = checklist.querySelectorAll('input[type="checkbox"]');
                    totalCheckboxes += checkboxes.length;
                    checkboxes.forEach(checkbox => {
                        if (checkbox.checked) {
                            checkedCheckboxes++;
                        }
                    });
                });

                const progress = totalCheckboxes > 0 ? (checkedCheckboxes / totalCheckboxes) * 100 : 0;
                progressBarFill.style.width = `${progress}%`;
            }

            checklists.forEach(checklist => {
                checklist.addEventListener('change', (e) => {
                    if (e.target.type === 'checkbox') {
                        const listItem = e.target.closest('li');
                        if (e.target.checked) {
                            listItem.classList.add('completed');
                        } else {
                            listItem.classList.remove('completed');
                        }
                        updateProgress();
                    }
                });
                // Initial state based on loaded data (if any)
                checklist.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                    if (checkbox.checked) {
                        checkbox.closest('li').classList.add('completed');
                    }
                });
            });

            // Initial progress update on load
            updateProgress();


            // --- Modal Interaction (Example: for tips) ---
            function showModal(title, message) {
                modalTitle.textContent = title;
                modalMessage.textContent = message;
                modal.style.display = 'flex'; // Use flex to center
            }

            function hideModal() {
                modal.style.display = 'none';
            }

            modalClose.addEventListener('click', hideModal);

            // Close modal if clicking outside the content
            window.addEventListener('click', (event) => {
                if (event.target === modal) {
                    hideModal();
                }
            });

            // Close modal with Escape key
            document.addEventListener('keydown', (event) => {
                if (event.key === 'Escape' && modal.style.display === 'flex') {
                    hideModal();
                }
            });

            // Example usage (can be triggered by specific events or buttons)
            // showModal('Example Tip', 'Remember to document your reflections regularly!');


            // --- Save Progress (Client-side Simulation) ---
            saveButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const moduleSection = button.closest('.module-section');
                    const moduleId = moduleSection.id;
                    const dataToSave = {};

                    // Collect data from textareas
                    moduleSection.querySelectorAll('textarea').forEach(textarea => {
                        dataToSave[textarea.id] = textarea.value;
                    });

                    // Collect data from checkboxes
                    moduleSection.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                        dataToSave[checkbox.id] = checkbox.checked;
                    });

                    // Collect data from radio buttons (example, if needed)
                    moduleSection.querySelectorAll('input[type="radio"]').forEach(radio => {
                        if (radio.checked) {
                            dataToSave[radio.name] = radio.value;
                        }
                    });

                    // Save to Local Storage
                    localStorage.setItem(`plannerData_${moduleId}`, JSON.stringify(dataToSave));

                    // Provide feedback
                    showModal('Progress Saved', `Your progress for the "${moduleId}" module has been saved locally in your browser.`);
                });
            });

            // --- Load Progress (Client-side Simulation) ---
            function loadProgress(moduleId) {
                const savedData = localStorage.getItem(`plannerData_${moduleId}`);
                if (!savedData) return;

                const data = JSON.parse(savedData);
                const moduleSection = document.getElementById(moduleId);

                if (!moduleSection) return;

                // Load data into textareas
                for (const id in data) {
                    const element = moduleSection.querySelector(`#${id}`);
                    if (element) {
                        if (element.tagName === 'TEXTAREA' || element.tagName === 'INPUT') {
                            element.value = data[id];
                        } else if (element.type === 'checkbox') {
                            element.checked = data[id];
                            // Update checklist item class immediately on load
                            const listItem = element.closest('li');
                            if (listItem) {
                                if (element.checked) {
                                    listItem.classList.add('completed');
                                } else {
                                    listItem.classList.remove('completed');
                                }
                            }
                        } else if (element.type === 'radio' && element.value === data[id]) {
                            element.checked = true;
                        }
                    }
                }
                // Update progress bar after loading all checkboxes
                updateProgress();
            }

            // Load data for all modules on page load
            moduleSections.forEach(section => {
                loadProgress(section.id);
            });

            // Ensure initial module is displayed correctly after loading data
            showModule(initialModule);

        });
    </script>
</body>

</html>