<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cozy Corner Books</title>
    <!-- Google Fonts: Lora (serif) for headings, Open Sans (sans-serif) for body -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lora:wght@400;700&family=Open+Sans:wght@400;600&display=swap">
    <!-- Font Awesome for icons (search, social) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        :root {
            --color-background: #f8f5f0; /* Warm off-white */
            --color-text: #3a2d21; /* Dark brown */
            --color-primary: #a04000; /* Warm orange/brown */
            --color-secondary: #800020; /* Deep red */
            --color-accent: #556b2f; /* Muted olive green */
            --color-border: #d3cbbd; /* Light warm grey */
            --color-light-text: #f8f5f0; /* Use on dark backgrounds */
            --spacing-unit: 1rem;
            --border-radius: 8px;
            --box-shadow-flat: 0 2px 4px rgba(0, 0, 0, 0.08);
            --box-shadow-hover: 0 6px 12px rgba(0, 0, 0, 0.15);
            --transition-speed: 0.3s;
        }

        body {
            font-family: 'Open Sans', sans-serif;
            line-height: 1.6;
            color: var(--color-text);
            background-color: var(--color-background);
            margin: 0;
            padding: 0;
            scroll-behavior: smooth;
        }

        h1, h2, h3 {
            font-family: 'Lora', serif;
            color: var(--color-primary);
            margin-bottom: var(--spacing-unit);
        }

        h1 {
            font-size: 3em; /* Desktop size */
        }

        h2 {
            text-align: center;
            margin-bottom: calc(var(--spacing-unit) * 2);
            font-size: 2.5em; /* Desktop size */
            color: var(--color-text); /* Use text color for section titles */
        }

        h3 {
             font-size: 1.5em; /* Desktop size */
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 calc(var(--spacing-unit) * 2);
        }

        /* Visually Hidden for Accessibility */
        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            margin: -1px;
            padding: 0;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0;
        }

        /* Header */
        header {
            background-color: var(--color-primary);
            color: var(--color-light-text);
            padding: var(--spacing-unit) 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: var(--box-shadow-flat);
        }

        header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: 'Lora', serif;
            font-size: 1.8em;
            font-weight: bold;
            color: var(--color-light-text);
            text-decoration: none;
        }

        nav ul {
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex; /* Desktop default */
        }

        nav ul li {
            margin-left: calc(var(--spacing-unit) * 2);
        }

        nav ul li a {
            color: var(--color-light-text);
            text-decoration: none;
            font-weight: 600;
            padding: var(--spacing-unit) 0.5rem;
            transition: color var(--transition-speed), border-bottom var(--transition-speed);
            border-bottom: 2px solid transparent;
            display: inline-block;
        }

        nav ul li a:hover,
        nav ul li a:focus {
            color: var(--color-background);
            border-bottom-color: var(--color-background);
            outline: none;
        }

        .hamburger {
            display: none; /* Hidden on desktop */
            font-size: 2em;
            cursor: pointer;
            padding: 0 var(--spacing-unit);
            color: var(--color-light-text);
            background: none;
            border: none;
            line-height: 1;
        }

        /* Hero Section */
        .hero-section {
            background: url('https://placehold.co/1920x800?text=Cozy+Bookstore+Interior') no-repeat center center/cover;
            color: var(--color-light-text);
            text-align: center;
            padding: calc(var(--spacing-unit) * 8) 0;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 600px;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.4); /* Overlay for text readability */
            z-index: 0;
        }

        .hero-section .container {
            position: relative;
            z-index: 1;
        }

        .hero-section h1 {
            font-size: 4em;
            margin-bottom: var(--spacing-unit);
            color: var(--color-light-text);
            text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
        }

        .hero-section p {
            font-size: 1.5em;
            margin-bottom: calc(var(--spacing-unit) * 2);
            color: var(--color-light-text);
            text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
        }

        .cta-button {
            display: inline-block;
            background-color: var(--color-secondary);
            color: var(--color-light-text);
            padding: var(--spacing-unit) calc(var(--spacing-unit) * 2.5);
            text-decoration: none;
            border-radius: var(--border-radius);
            font-weight: 600;
            transition: background-color var(--transition-speed), transform var(--transition-speed), box-shadow var(--transition-speed);
            border: none;
            cursor: pointer;
            font-size: 1.1em;
            box-shadow: var(--box-shadow-flat);
        }

        .cta-button:hover,
        .cta-button:focus {
            background-color: #a00020; /* Darker red */
            transform: translateY(-3px);
            box-shadow: var(--box-shadow-hover);
            outline: none;
        }

        /* Sections */
        section {
            padding: calc(var(--spacing-unit) * 6) 0;
        }

        section:nth-of-type(even) {
            background-color: #f0eada; /* Slightly darker warm background */
        }

        /* Inventory Section */
        .inventory-section .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: calc(var(--spacing-unit) * 3);
            flex-wrap: wrap;
            gap: var(--spacing-unit);
        }

        .inventory-section .search-bar {
            flex-grow: 1;
            margin-right: var(--spacing-unit);
            max-width: 400px;
            position: relative;
        }

        .inventory-section .search-bar input {
            width: 100%;
            padding: var(--spacing-unit) var(--spacing-unit) var(--spacing-unit) calc(var(--spacing-unit) * 2.5);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            font-size: 1em;
            transition: border-color var(--transition-speed), box-shadow var(--transition-speed);
            background-color: white;
        }

         .inventory-section .search-bar::before {
             content: "\f002"; /* Font Awesome search icon */
             font-family: "Font Awesome 6 Free";
             font-weight: 900;
             position: absolute;
             left: var(--spacing-unit);
             top: 50%;
             transform: translateY(-50%);
             color: #aaa;
         }


        .inventory-section .search-bar input:focus {
            border-color: var(--color-primary);
            box-shadow: 0 0 5px rgba(160, 64, 0, 0.3);
            outline: none;
        }

        .inventory-section .filter-sort {
            display: flex;
            gap: var(--spacing-unit);
            flex-shrink: 0;
        }

        .inventory-section .filter-sort select {
            padding: var(--spacing-unit);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            font-size: 1em;
            cursor: pointer;
            background-color: white;
            transition: border-color var(--transition-speed);
            appearance: none; /* Remove default arrow */
            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%233a2d21%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%01-13.2-6.4l-117-117c-4.3-4.3-11.2-4.3-15.5%200l-117%20117c-6.5%206.5-6.5%2017%200%2023.5a16%2016%200%200011.6%204.6%2017.4%2017.4%200%200011.6-4.6l105.4-105.4%20105.4%20105.4c4.3%204.3%2011.2%204.3%2015.5%200%206.5-6.5%206.5-17%200-23.5z%22%2F%3E%3C%2Fsvg%3E'); /* Custom arrow */
            background-repeat: no-repeat;
            background-position: right 0.7em top 50%;
            background-size: 0.65em auto;
            padding-right: 2.5em; /* Make space for arrow */
        }

        .inventory-section .filter-sort select:focus {
            border-color: var(--color-primary);
            outline: none;
            box-shadow: 0 0 5px rgba(160, 64, 0, 0.3);
        }

        .book-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); /* Desktop default */
            gap: calc(var(--spacing-unit) * 2);
        }

        .book-list p {
            text-align: center;
            grid-column: 1 / -1; /* Center the message */
        }

        .book-card {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow-flat);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            transition: transform var(--transition-speed), box-shadow var(--transition-speed);
            cursor: pointer;
            text-decoration: none;
            color: var(--color-text);
        }

        .book-card:hover,
        .book-card:focus-within {
            transform: translateY(-5px);
            box-shadow: var(--box-shadow-hover);
            outline: none;
        }

        .book-card img {
            width: 100%;
            height: 280px; /* Fixed height for covers */
            object-fit: cover;
            display: block;
            border-bottom: 1px solid var(--color-border);
        }

        .book-card .book-info {
            padding: var(--spacing-unit);
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .book-card h3 {
            font-size: 1.1em;
            margin: 0 0 0.5rem 0;
            color: var(--color-text);
            flex-grow: 1;
        }

        .book-card p {
            font-size: 0.9em;
            color: #666;
            margin: 0;
        }

        .book-card .book-author {
            font-style: italic;
            margin-bottom: 0.5rem;
        }

        .book-card .book-genre {
             font-size: 0.8em;
             color: var(--color-accent);
             font-weight: 600;
        }

        /* Book Club Section */
        .book-club-section .container {
            display: grid;
            grid-template-columns: 1fr 1fr; /* Desktop default */
            gap: calc(var(--spacing-unit) * 4);
            align-items: start;
        }

        .book-club-info h3 {
            color: var(--color-secondary);
            margin-top: 0;
        }

        .book-club-info .next-meeting {
            margin-top: calc(var(--spacing-unit) * 1.5);
            padding: var(--spacing-unit);
            background-color: rgba(128, 0, 32, 0.05);
            border-left: 4px solid var(--color-secondary);
            border-radius: var(--border-radius);
        }

        .book-club-info .next-meeting p {
            margin: 0.5rem 0;
            font-weight: 600;
            color: var(--color-text);
        }

        .book-club-form {
            background-color: white;
            padding: calc(var(--spacing-unit) * 2);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow-flat);
        }

        .book-club-form h3 {
             margin-top: 0;
             margin-bottom: calc(var(--spacing-unit) * 2);
             color: var(--color-primary);
        }

        .book-club-form label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--color-text);
        }

        .book-club-form input[type="text"],
        .book-club-form input[type="email"] {
            width: 100%;
            padding: var(--spacing-unit);
            margin-bottom: calc(var(--spacing-unit) * 1.5);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            font-size: 1em;
            transition: border-color var(--transition-speed), box-shadow var(--transition-speed);
            background-color: white;
        }

        .book-club-form input[type="text"]:focus,
        .book-club-form input[type="email"]:focus {
            border-color: var(--color-primary);
            box-shadow: 0 0 5px rgba(160, 64, 0, 0.3);
            outline: none;
        }

        .book-club-form button {
            width: 100%;
            background-color: var(--color-secondary);
            color: var(--color-light-text);
            padding: var(--spacing-unit) calc(var(--spacing-unit) * 2);
            border: none;
            border-radius: var(--border-radius);
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: background-color var(--transition-speed), transform var(--transition-speed), box-shadow var(--transition-speed);
            box-shadow: var(--box-shadow-flat);
        }

        .book-club-form button:hover,
        .book-club-form button:focus {
            background-color: #a00020; /* Darker red */
            transform: translateY(-2px);
            box-shadow: var(--box-shadow-hover);
            outline: none;
        }

         .book-club-form button:disabled {
             background-color: #ccc;
             cursor: not-allowed;
             transform: none;
             box-shadow: none;
         }


        /* Newsletter Section */
        .newsletter-section .container {
            max-width: 700px;
            text-align: center;
        }

        .newsletter-form {
            display: flex;
            gap: var(--spacing-unit);
            margin-top: calc(var(--spacing-unit) * 2);
            flex-wrap: wrap;
            justify-content: center; /* Center form elements */
        }

        .newsletter-form input[type="email"] {
            flex-grow: 1;
            min-width: 200px;
            max-width: 400px; /* Limit input width */
            padding: var(--spacing-unit);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            font-size: 1em;
            transition: border-color var(--transition-speed), box-shadow var(--transition-speed);
            background-color: white;
        }

        .newsletter-form input[type="email"]:focus {
            border-color: var(--color-primary);
            box-shadow: 0 0 5px rgba(160, 64, 0, 0.3);
            outline: none;
        }

        .newsletter-form button {
            background-color: var(--color-accent);
            color: var(--color-light-text);
            padding: var(--spacing-unit) calc(var(--spacing-unit) * 2);
            border: none;
            border-radius: var(--border-radius);
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: background-color var(--transition-speed), transform var(--transition-speed), box-shadow var(--transition-speed);
            box-shadow: var(--box-shadow-flat);
            flex-shrink: 0;
        }

        .newsletter-form button:hover,
        .newsletter-form button:focus {
            background-color: #405520; /* Darker green */
            transform: translateY(-2px);
            box-shadow: var(--box-shadow-hover);
            outline: none;
        }

         .newsletter-form button:disabled {
             background-color: #ccc;
             cursor: not-allowed;
             transform: none;
             box-shadow: none;
         }

        /* Contact Section */
        .contact-section .contact-details {
            text-align: center;
            font-size: 1.1em;
        }

        .contact-section .contact-details p {
            margin: 0.7rem 0;
            color: var(--color-text);
        }

        /* Footer */
        footer {
            background-color: var(--color-text);
            color: var(--color-border);
            padding: calc(var(--spacing-unit) * 3) 0;
            text-align: center;
            font-size: 0.9em;
        }

        footer .container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .social-icons {
            margin-top: var(--spacing-unit);
        }

        .social-icons a {
            color: var(--color-border);
            font-size: 1.8em;
            margin: 0 var(--spacing-unit);
            text-decoration: none;
            transition: color var(--transition-speed);
            display: inline-block;
        }

        .social-icons a:hover,
        .social-icons a:focus {
            color: var(--color-light-text);
            outline: none;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.6);
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity var(--transition-speed) ease-in-out;
            pointer-events: none;
        }

        .modal.show {
            display: flex;
            opacity: 1;
            pointer-events: auto;
        }

        .modal-content {
            background-color: var(--color-background);
            margin: auto;
            padding: calc(var(--spacing-unit) * 3);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow-hover);
            max-width: 500px;
            width: 90%;
            text-align: center;
            position: relative;
            transform: translateY(-30px);
            transition: transform var(--transition-speed) ease-in-out;
        }

         .modal.show .modal-content {
             transform: translateY(0);
         }


        .close-button {
            color: #aaa;
            position: absolute;
            top: var(--spacing-unit);
            right: var(--spacing-unit);
            font-size: 30px;
            font-weight: bold;
            cursor: pointer;
            transition: color var(--transition-speed);
            background: none;
            border: none;
            line-height: 1;
            padding: var(--spacing-unit);
        }

        .close-button:hover,
        .close-button:focus {
            color: #777;
            outline: none;
        }

        #modal-message {
            margin: 0;
            font-size: 1.2em;
            color: var(--color-text);
        }

        /* Responsive */
        @media (max-width: 768px) {
            h1 {
                font-size: 2.5em;
            }
            h2 {
                font-size: 2em;
            }
             h3 {
                 font-size: 1.3em;
             }

            header .container {
                 flex-wrap: wrap;
            }

            nav {
                 width: 100%;
                 order: 1;
            }

            nav ul {
                display: none;
                flex-direction: column;
                position: static;
                width: 100%;
                background-color: var(--color-primary);
                box-shadow: none;
                margin-top: var(--spacing-unit);
            }

            nav ul.show {
                display: flex;
            }

            nav ul li {
                margin: 0;
                text-align: center;
                border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            }

            nav ul li:last-child {
                border-bottom: none;
            }

            nav ul li a {
                display: block;
                padding: var(--spacing-unit);
            }

            .hamburger {
                display: block;
                 order: 2;
            }

            .hero-section {
                 padding: calc(var(--spacing-unit) * 6) 0;
                 min-height: 400px;
            }

            .hero-section h1 {
                font-size: 2.5em;
            }

            .hero-section p {
                font-size: 1.1em;
            }

            .inventory-section .controls {
                flex-direction: column;
                align-items: stretch;
            }

            .inventory-section .search-bar {
                margin-right: 0;
                max-width: 100%;
            }

             .inventory-section .filter-sort {
                flex-direction: column;
                gap: var(--spacing-unit);
                width: 100%;
            }

             .inventory-section .filter-sort select {
                 width: 100%;
             }

            .book-list {
                grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            }

            .book-card img {
                height: 220px;
            }

            .book-club-section .container {
                grid-template-columns: 1fr;
                gap: calc(var(--spacing-unit) * 3);
            }

            .newsletter-form {
                flex-direction: column;
                gap: var(--spacing-unit);
                align-items: stretch; /* Stretch items to fill container */
            }

             .newsletter-form input[type="email"] {
                 min-width: auto;
                 max-width: 100%; /* Allow input to take full width */
             }

             .newsletter-form button {
                 width: 100%;
             }

             .modal-content {
                 padding: calc(var(--spacing-unit) * 2);
             }

             .close-button {
                 font-size: 24px;
             }
        }

         @media (max-width: 480px) {
             h1 {
                 font-size: 2em;
             }
             h2 {
                 font-size: 1.8em;
             }
             h3 {
                 font-size: 1.2em;
             }
             .hero-section {
                 padding: calc(var(--spacing-unit) * 4) 0;
                 min-height: 300px;
             }
             .hero-section h1 {
                 font-size: 2em;
             }
             .hero-section p {
                 font-size: 1em;
             }
             .cta-button {
                 padding: var(--spacing-unit) calc(var(--spacing-unit) * 1.5);
                 font-size: 1em;
             }
             .book-list {
                 grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
                 gap: var(--spacing-unit);
             }
             .book-card img {
                 height: 180px;
             }
             .book-card .book-info {
                 padding: calc(var(--spacing-unit) * 0.8);
             }
             .book-card h3 {
                 font-size: 1em;
             }
             .book-card p {
                 font-size: 0.8em;
             }
             section {
                 padding: calc(var(--spacing-unit) * 4) 0;
             }
             footer {
                 padding: calc(var(--spacing-unit) * 2) 0;
             }
             .social-icons a {
                 font-size: 1.5em;
             }
         }

    </style>
</head>
<body>
    <header>
        <div class="container">
            <a href="#home" class="logo">Cozy Corner Books</a>
            <nav role="navigation" aria-label="Main navigation">
                <button class="hamburger" aria-label="Toggle navigation menu" aria-expanded="false">â˜°</button>
                <ul>
                    <li><a href="#home">Home</a></li>
                    <li><a href="#inventory">Inventory</a></li>
                    <li><a href="#book-club">Book Club</a></li>
                    <li><a href="#newsletter">Newsletter</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section id="home" class="hero-section">
            <div class="container">
                <h1>Welcome to Cozy Corner Books</h1>
                <p>Discover your next favorite story in our warm and inviting space.</p>
                <a href="#inventory" class="cta-button">Browse Our Books</a>
            </div>
        </section>

        <section id="inventory" class="inventory-section">
            <div class="container">
                <h2>Our Books</h2>
                <div class="controls">
                    <div class="search-bar">
                        <label for="search-input" class="visually-hidden">Search by title or author</label>
                        <input type="text" id="search-input" placeholder="Search by title or author" aria-label="Search inventory">
                    </div>
                    <div class="filter-sort">
                        <label for="genre-filter" class="visually-hidden">Filter by genre</label>
                        <select id="genre-filter" aria-label="Filter by genre">
                            <option value="">All Genres</option>
                            <!-- Options populated by JS -->
                        </select>
                        <label for="sort-order" class="visually-hidden">Sort order</label>
                        <select id="sort-order" aria-label="Sort order">
                            <option value="title-asc">Title (A-Z)</option>
                            <option value="title-desc">Title (Z-A)</option>
                            <option value="author-asc">Author (A-Z)</option>
                            <option value="author-desc">Author (Z-A)</option>
                        </select>
                    </div>
                </div>
                 <!-- aria-live="polite" makes screen readers announce updates to this region -->
                <div class="book-list" aria-live="polite" aria-atomic="true">
                    <!-- Book cards will be loaded here by JavaScript -->
                    <p>Loading books...</p>
                </div>
            </div>
        </section>

        <section id="book-club" class="book-club-section">
            <div class="container">
                <div class="book-club-info">
                    <h2>Join Our Book Club</h2>
                    <p>Connect with fellow book lovers and discuss compelling stories in a friendly setting.</p>
                    <div class="next-meeting">
                        <h3>Next Meeting</h3>
                        <p><strong>Date:</strong> <span id="meeting-date">Loading...</span></p>
                        <p><strong>Time:</strong> <span id="meeting-time">Loading...</span></p>
                        <p><strong>Featured Book:</strong> <span id="featured-book">Loading...</span></p>
                    </div>
                </div>
                 <!-- aria-labelledby links the form to its heading -->
                <form id="book-club-form" class="book-club-form" aria-labelledby="book-club-heading" novalidate>
                    <h3 id="book-club-heading">Register for the Next Meeting</h3>
                    <div>
                        <label for="bc-name">Name:</label>
                        <input type="text" id="bc-name" name="name" required aria-required="true">
                    </div>
                    <div>
                        <label for="bc-email">Email:</label>
                        <input type="email" id="bc-email" name="email" required aria-required="true">
                    </div>
                    <button type="submit">Register</button>
                </form>
            </div>
        </section>

        <section id="newsletter" class="newsletter-section">
            <div class="container">
                <h2>Stay Updated</h2>
                <p>Sign up for our newsletter to get the latest news, event announcements, and book recommendations.</p>
             <!-- aria-labelledby links the form to its heading -->
                <form id="newsletter-form" class="newsletter-form" aria-labelledby="newsletter-heading" novalidate>
                    <label for="newsletter-email" class="visually-hidden">Enter your email address</label>
                    <input type="email" id="newsletter-email" name="email" placeholder="Enter your email address" required aria-required="true" aria-label="Enter your email address for newsletter signup">
                    <button type="submit">Sign Up</button>
                </form>
            </div>
        </section>

        <section id="contact" class="contact-section">
            <div class="container">
                <h2>Contact Us</h2>
                <div class="contact-details">
                    <p><strong>Address:</strong> 123 Bookworm Lane, Cozytown, CA 91234</p>
                    <p><strong>Phone:</strong> (555) 123-4567</p>
                    <p><strong>Email:</strong> info@cozycornerbooks.com</p>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2023 Cozy Corner Books. All rights reserved.</p>
            <div class="social-icons">
                <!-- Using Font Awesome Icons -->
                <a href="#" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
                <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
            </div>
        </div>
    </footer>

    <!-- Modal for messages -->
    <!-- role="dialog" and aria-modal="true" for accessibility -->
    <!-- tabindex="-1" makes the modal container programmatically focusable -->
    <div id="message-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-message" tabindex="-1">
        <div class="modal-content">
            <button class="close-button" aria-label="Close modal">&times;</button>
            <p id="modal-message"></p>
        </div>
    </div>

    <script>
        // --- Data Handling Note ---
        // The current implementation uses a small, static JavaScript array (allBooks)
        // for demonstration purposes. For a real bookstore with 5,000 titles updated weekly
        // from an Excel spreadsheet, a robust backend system would be required.
        // This backend would handle:
        // 1. Importing and managing data from the spreadsheet.
        // 2. Providing an API for the frontend to fetch, search, and filter books efficiently
        //    (e.g., using server-side filtering and pagination).
        // 3. Securely handling form submissions (Book Club registration, Newsletter signup).
        // The client-side JavaScript below demonstrates the UI interactions based on
        // a small dataset but is NOT performant or scalable for 5,000+ items in a real application.
        // --- End Data Handling Note ---


        // Dummy data - In a real application, this would come from a backend API
        const allBooks = [
            { id: 1, title: "The Secret Garden", author: "Frances Hodgson Burnett", genre: "Classic", cover: "https://placehold.co/200x280?text=Secret+Garden" },
            { id: 2, title: "Pride and Prejudice", author: "Jane Austen", genre: "Classic", cover: "https://placehold.co/200x280?text=Pride+%26+Prejudice" },
            { id: 3, title: "To Kill a Mockingbird", author: "Harper Lee", genre: "Classic", cover: "https://placehold.co/200x280?text=Mockingbird" },
            { id: 4, title: "1984", author: "George Orwell", genre: "Dystopian", cover: "https://placehold.co/200x280?text=1984" },
            { id: 5, title: "Brave New World", author: "Aldous Huxley", genre: "Dystopian", cover: "https://placehold.co/200x280?text=Brave+New+World" },
            { id: 6, title: "The Hobbit", author: "J.R.R. Tolkien", genre: "Fantasy", cover: "https://placehold.co/200x280?text=The+Hobbit" },
            { id: 7, title: "Harry Potter and the Sorcerer's Stone", author: "J.K. Rowling", genre: "Fantasy", cover: "https://placehold.co/200x280?text=Harry+Potter+1" },
            { id: 8, title: "The Da Vinci Code", author: "Dan Brown", genre: "Thriller", cover: "https://placehold.co/200x280?text=Da+Vinci+Code" },
            { id: 9, title: "Gone Girl", author: "Gillian Flynn", genre: "Thriller", cover: "https://placehold.co/200x280?text=Gone+Girl" },
            { id: 10, title: "The Notebook", author: "Nicholas Sparks", genre: "Romance", cover: "https://placehold.co/200x280?text=The+Notebook" },
             { id: 11, title: "Where the Crawdads Sing", author: "Delia Owens", genre: "Mystery", cover: "https://placehold.co/200x280?text=Crawdads" },
            { id: 12, title: "The Silent Patient", author: "Alex Michaelides", genre: "Thriller", cover: "https://placehold.co/200x280?text=Silent+Patient" },
            { id: 13, title: "Educated", author: "Tara Westover", genre: "Memoir", cover: "https://placehold.co/200x280?text=Educated" },
            { id: 14, title: "The Vanishing Half", author: "Brit Bennett", genre: "Fiction", cover: "https://placehold.co/200x280?text=Vanishing+Half" },
            { id: 15, title: "Project Hail Mary", author: "Andy Weir", genre: "Science Fiction", cover: "https://placehold.co/200x280?text=Project+Hail+Mary" },
            { id: 16, title: "Dune", author: "Frank Herbert", genre: "Science Fiction", cover: "https://placehold.co/200x280?text=Dune" },
            { id: 17, title: "Neuromancer", author: "William Gibson", genre: "Science Fiction", cover: "https://placehold.co/200x280?text=Neuromancer" },
            { id: 18, title: "The Name of the Wind", author: "Patrick Rothfuss", genre: "Fantasy", cover: "https://placehold.co/200x280?text=Name+of+Wind" },
            { id: 19, title: "The Way of Kings", author: "Brandon Sanderson", genre: "Fantasy", cover: "https://placehold.co/200x280?text=Way+of+Kings" },
            { id: 20, title: "The Girl with the Dragon Tattoo", author: "Stieg Larsson", genre: "Thriller", cover: "https://placehold.co/200x280?text=Dragon+Tattoo" },
             { id: 21, title: "The Martian", author: "Andy Weir", genre: "Science Fiction", cover: "https://placehold.co/200x280?text=The+Martian" },
             { id: 22, title: "Foundation", author: "Isaac Asimov", genre: "Science Fiction", cover: "https://placehold.co/200x280?text=Foundation" },
             { id: 23, title: "The Road", author: "Cormac McCarthy", genre: "Dystopian", cover: "https://placehold.co/200x280?text=The+Road" },
             { id: 24, title: "Station Eleven", author: "Emily St. John Mandel", genre: "Dystopian", cover: "https://placehold.co/200x280?text=Station+Eleven" },
             { id: 25, title: "The Lies of Locke Lamora", author: "Scott Lynch", genre: "Fantasy", cover: "https://placehold.co/200x280?text=Locke+Lamora" },
        ];

        let displayedBooks = [...allBooks]; // Start with all books displayed

        // --- Navigation ---
        const hamburger = document.querySelector('.hamburger');
        const navUl = document.querySelector('nav ul');
        const navLinks = document.querySelectorAll('nav ul li a');
        const header = document.querySelector('header'); // Get header for height calculation

        hamburger.addEventListener('click', () => {
            const isExpanded = navUl.classList.toggle('show');
            hamburger.setAttribute('aria-expanded', isExpanded);
        });

        // Close menu when a link is clicked (for mobile) and smooth scroll
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                // Smooth scroll
                e.preventDefault();
                const targetId = link.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);
                const headerHeight = header.offsetHeight; // Get dynamic header height

                if (targetElement) {
                    // Calculate scroll position considering the fixed header
                    const targetPosition = targetElement.offsetTop - headerHeight;

                    window.scrollTo({
                        top: targetPosition,
                        behavior: 'smooth'
                    });
                }

                // Close mobile menu if open
                if (navUl.classList.contains('show')) {
                    navUl.classList.remove('show');
                    hamburger.setAttribute('aria-expanded', false);
                }
            });
        });

        // Close menu if clicking outside header on mobile
        document.addEventListener('click', (e) => {
            // Check if the click is outside the header and the nav menu is open
            if (window.innerWidth <= 768 && !header.contains(e.target) && navUl.classList.contains('show')) {
                 navUl.classList.remove('show');
                 hamburger.setAttribute('aria-expanded', false);
            }
        });

        // Close menu on resize if it was open (switch from mobile to desktop view)
        window.addEventListener('resize', () => {
            if (window.innerWidth > 768 && navUl.classList.contains('show')) {
                navUl.classList.remove('show');
                hamburger.setAttribute('aria-expanded', false);
            }
        });


        // --- Inventory ---
        const bookListContainer = document.querySelector('.book-list');
        const searchInput = document.getElementById('search-input');
        const genreFilter = document.getElementById('genre-filter');
        const sortOrderSelect = document.getElementById('sort-order');

        function renderBooks(books) {
            // Use a temporary fragment for better performance when adding many elements
            const fragment = document.createDocumentFragment();
            if (books.length === 0) {
                const noResults = document.createElement('p');
                noResults.textContent = 'No books found matching your criteria.';
                fragment.appendChild(noResults);
            } else {
                books.forEach(book => {
                    // Use <a> for semantic link/clickable area for each book
                    const bookCard = document.createElement('a');
                    bookCard.href = `#book-${book.id}`; // Placeholder link, could link to a detail page
                    bookCard.classList.add('book-card');
                    bookCard.setAttribute('tabindex', '0'); // Make div focusable for keyboard nav
                    bookCard.setAttribute('role', 'group'); // Indicate it's a group of elements
                    bookCard.setAttribute('aria-label', `${book.title} by ${book.author}, Genre: ${book.genre}`); // Accessible label


                    bookCard.innerHTML = `
                        <img src="${book.cover}" alt="Cover of ${book.title}">
                        <div class="book-info">
                            <h3>${book.title}</h3>
                            <p class="book-author">${book.author}</p>
                            <p class="book-genre">${book.genre}</p>
                        </div>
                    `;
                    fragment.appendChild(bookCard);
                });
            }

            bookListContainer.innerHTML = ''; // Clear current list
            bookListContainer.appendChild(fragment); // Append the fragment
        }

        function populateGenreFilter() {
            const genres = [...new Set(allBooks.map(book => book.genre))].sort();
            const fragment = document.createDocumentFragment();
             // Keep the default "All Genres" option
            genres.forEach(genre => {
                const option = document.createElement('option');
                option.value = genre;
                option.textContent = genre;
                fragment.appendChild(option);
            });
            // Clear existing options except the first one
            while (genreFilter.options.length > 1) {
                genreFilter.remove(1);
            }
            genreFilter.appendChild(fragment);
        }

        function filterAndSearchBooks() {
            const searchTerm = searchInput.value.toLowerCase().trim();
            const selectedGenre = genreFilter.value;
            const sortOrder = sortOrderSelect.value;

            let filtered = allBooks.filter(book => {
                const matchesSearch = (book.title.toLowerCase().includes(searchTerm) ||
                                      book.author.toLowerCase().includes(searchTerm));
                const matchesGenre = selectedGenre === "" || book.genre === selectedGenre;
                return matchesSearch && matchesGenre;
            });

            // Sort the filtered books
            filtered.sort((a, b) => {
                if (sortOrder === 'title-asc') {
                    return a.title.localeCompare(b.title);
                } else if (sortOrder === 'title-desc') {
                    return b.title.localeCompare(a.title);
                } else if (sortOrder === 'author-asc') {
                     // Sort by author, then title for consistent ordering
                    const authorCompare = a.author.localeCompare(b.author);
                    if (authorCompare === 0) {
                         return a.title.localeCompare(b.title);
                    }
                    return authorCompare;
                } else if (sortOrder === 'author-desc') {
                     // Sort by author desc, then title asc
                    const authorCompare = b.author.localeCompare(a.author);
                     if (authorCompare === 0) {
                         return a.title.localeCompare(b.title);
                     }
                    return authorCompare;
                }
                return 0; // Default no sort
            });

            displayedBooks = filtered; // Update displayed books
            renderBooks(displayedBooks); // Re-render the list
        }

        // Add event listeners for search, filter, and sort
        searchInput.addEventListener('input', filterAndSearchBooks);
        genreFilter.addEventListener('change', filterAndSearchBooks);
        sortOrderSelect.addEventListener('change', filterAndSearchBooks);

        // Initial render and genre population
        populateGenreFilter();
        renderBooks(allBooks); // Render all books on page load

        // --- Book Club ---
        const bookClubForm = document.getElementById('book-club-form');
        const bcNameInput = document.getElementById('bc-name');
        const bcEmailInput = document.getElementById('bc-email');
        const bookClubSubmitButton = bookClubForm.querySelector('button');

        const meetingDateSpan = document.getElementById('meeting-date');
        const meetingTimeSpan = document.getElementById('meeting-time');
        const featuredBookSpan = document.getElementById('featured-book');

        // Dummy Book Club Data
        const bookClubData = {
            nextMeeting: {
                date: "December 15, 2023",
                time: "7:00 PM",
                featuredBook: "The Midnight Library by Matt Haig"
            }
        };

        function displayBookClubInfo() {
            meetingDateSpan.textContent = bookClubData.nextMeeting.date;
            meetingTimeSpan.textContent = bookClubData.nextMeeting.time;
            featuredBookSpan.textContent = bookClubData.nextMeeting.featuredBook;
        }

        bookClubForm.addEventListener('submit', (e) => {
            e.preventDefault(); // Prevent actual form submission

            // Basic Client-Side Validation
            if (!bcNameInput.value.trim()) {
                 showModal("Please enter your name.", "error");
                 bcNameInput.focus(); // Focus the invalid field
                 return;
            }
             if (!bcEmailInput.value.trim()) {
                 showModal("Please enter your email address.", "error");
                 bcEmailInput.focus();
                 return;
            }
             // Simple email format check (more robust validation needed server-side)
             if (!/\S+@\S+\.\S+/.test(bcEmailInput.value)) {
                 showModal("Please enter a valid email address.", "error");
                 bcEmailInput.focus();
                 return;
             }

            // Disable button and show submitting state
            bookClubSubmitButton.disabled = true;
            const originalButtonText = bookClubSubmitButton.textContent;
            bookClubSubmitButton.textContent = 'Registering...';


            // Simulate form submission (e.g., sending data to a server)
            console.log('Book Club Registration Data:', {
                name: bcNameInput.value,
                email: bcEmailInput.value
            });

            // Simulate a network request delay
            setTimeout(() => {
                 // Show success message (simulated)
                 showModal("Thank you for registering for the book club!", "success");

                 // Clear form
                 bookClubForm.reset();

                 // Re-enable button
                 bookClubSubmitButton.disabled = false;
                 bookClubSubmitButton.textContent = originalButtonText;

            }, 1000); // Simulate 1 second delay
        });

        // Initial display of book club info
        displayBookClubInfo();


        // --- Newsletter ---
        const newsletterForm = document.getElementById('newsletter-form');
        const newsletterEmailInput = document.getElementById('newsletter-email');
        const newsletterSubmitButton = newsletterForm.querySelector('button');

        newsletterForm.addEventListener('submit', (e) => {
            e.preventDefault(); // Prevent actual form submission

            // Basic Client-Side Validation
            if (!newsletterEmailInput.value.trim()) {
                 showModal("Please enter your email address.", "error");
                 newsletterEmailInput.focus();
                 return;
            }
            // Simple email format check
            if (!/\S+@\S+\.\S+/.test(newsletterEmailInput.value)) {
                 showModal("Please enter a valid email address.", "error");
                 newsletterEmailInput.focus();
                 return;
             }

            // Disable button and show submitting state
            newsletterSubmitButton.disabled = true;
            const originalButtonText = newsletterSubmitButton.textContent;
            newsletterSubmitButton.textContent = 'Signing Up...';

            // Simulate form submission
            console.log('Newsletter Signup Email:', newsletterEmailInput.value);

            // Simulate a network request delay
            setTimeout(() => {
                // Show success message (simulated)
                showModal("Thank you for signing up for our newsletter!", "success");

                // Clear form
                newsletterForm.reset();

                // Re-enable button
                newsletterSubmitButton.disabled = false;
                newsletterSubmitButton.textContent = originalButtonText;
            }, 1000); // Simulate 1 second delay
        });

        // --- Modal ---
        const messageModal = document.getElementById('message-modal');
        const modalMessage = document.getElementById('modal-message');
        const closeModalButton = messageModal.querySelector('.close-button');
        let elementBeforeModalOpen = null; // To store the element that had focus before modal opened

        function showModal(message, type = "info") {
            modalMessage.textContent = message;
            // Add classes here based on type (success/error) for different styling if needed
            // e.g., modalMessage.className = ''; modalMessage.classList.add(type);

            // Store the focused element before showing the modal
            elementBeforeModalOpen = document.activeElement;

            messageModal.classList.add('show');

            // Set focus to the modal content or the close button for accessibility
            // Use a timeout to ensure the modal is visible before attempting to focus
            setTimeout(() => {
                 // Focus the modal container itself
                 messageModal.focus();
            }, 50);
        }

        function hideModal() {
            messageModal.classList.remove('show');
            // Return focus to the element that triggered the modal, if possible
            if (elementBeforeModalOpen) {
                 elementBeforeModalOpen.focus();
                 elementBeforeModalOpen = null; // Clear the reference
            }
        }

        // Close modal when clicking the close button
        closeModalButton.addEventListener('click', hideModal);

        // Close modal when clicking outside the modal content
        messageModal.addEventListener('click', (e) => {
            if (e.target === messageModal) {
                hideModal();
            }
        });

        // Close modal when pressing the Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && messageModal.classList.contains('show')) {
                hideModal();
            }
        });

        // Trap focus within the modal when it's open (basic implementation)
        messageModal.addEventListener('keydown', function(e) {
            if (!messageModal.classList.contains('show')) return;

            const focusableElements = messageModal.querySelectorAll('button:not([disabled]), [href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])');
            const firstFocusableElement = focusableElements[0];
            const lastFocusableElement = focusableElements[focusableElements.length - 1];

            const isTabPressed = e.key === 'Tab';

            if (!isTabPressed) {
                return;
            }

            if (e.shiftKey) { // Shift + Tab
                if (document.activeElement === firstFocusableElement) {
                    lastFocusableElement.focus();
                    e.preventDefault();
                }
            } else { // Tab
                if (document.activeElement === lastFocusableElement) {
                    firstFocusableElement.focus();
                    e.preventDefault();
                }
            }
        });


    </script>
</body>
</html>
