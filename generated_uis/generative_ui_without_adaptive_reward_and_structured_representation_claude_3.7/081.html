<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FinEdu Creator</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <style>
        :root {
            --primary-color: #007bff; /* Vibrant Blue */
            --primary-color-dark: #0056b3;
            --secondary-color: #6c757d; /* Grey */
            --secondary-color-dark: #545b62;
            --accent-color: #28a745; /* Green */
            --accent-color-dark: #218838;
            --background-color: #f8f9fa; /* Light Grey */
            --surface-color: #ffffff; /* Pure White */
            --text-color: #343a40; /* Dark Grey */
            --text-color-light: #6c757d;
            --border-color: #dee2e6; /* Light Grey Border */
            --success-color: #28a745;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
            --info-color: #17a2b8;
            --spacing-unit: 8px;
            --header-height: 60px;
            --sidebar-width: 250px;
            --border-radius: 8px;
            --box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08);
            --transition-speed: 0.2s;
            --focus-ring-color: rgba(0, 123, 255, 0.25);
        }

        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden; /* Prevent body scroll */
        }

        .app-container {
            display: grid;
            grid-template-columns: var(--sidebar-width) 1fr;
            grid-template-rows: var(--header-height) 1fr;
            height: 100vh;
            overflow: hidden;
        }

        header {
            grid-area: 1 / 1 / 2 / 3; /* Span across both columns */
            background-color: var(--surface-color);
            color: var(--text-color);
            padding: 0 calc(var(--spacing-unit) * 3);
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: var(--box-shadow);
            z-index: 10;
        }

        .app-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color-dark);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: calc(var(--spacing-unit) * 2);
        }

        .icon-button {
            background: none;
            border: none;
            color: var(--text-color-light);
            cursor: pointer;
            padding: var(--spacing-unit);
            border-radius: var(--border-radius);
            transition: background-color var(--transition-speed), color var(--transition-speed);
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .icon-button:hover {
            background-color: rgba(0, 0, 0, 0.05);
            color: var(--text-color);
        }

        .icon-button:focus-visible {
            outline: 2px solid var(--primary-color);
            outline-offset: 2px;
            background-color: rgba(0, 0, 0, 0.05);
        }

        .icon-button .material-symbols-rounded {
            font-size: 24px;
            vertical-align: middle;
        }

        aside {
            grid-area: 2 / 1 / 3 / 2;
            background-color: var(--surface-color);
            border-right: 1px solid var(--border-color);
            padding: calc(var(--spacing-unit) * 2) 0;
            overflow-y: auto;
        }

        .sidebar-nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .sidebar-nav li {
            margin-bottom: var(--spacing-unit);
        }

        .sidebar-nav a {
            display: flex;
            align-items: center;
            padding: calc(var(--spacing-unit) * 1.5) calc(var(--spacing-unit) * 3);
            color: var(--text-color);
            text-decoration: none;
            transition: background-color var(--transition-speed), color var(--transition-speed);
            border-left: 4px solid transparent; /* For active state indicator */
            outline-offset: -4px; /* Ensure focus ring is inside padding */
        }

        .sidebar-nav a:hover {
            background-color: var(--background-color);
            color: var(--text-color-dark);
        }

         .sidebar-nav a:focus-visible {
             outline: 2px solid var(--primary-color);
             outline-offset: -2px; /* Draw inside the padding */
             background-color: var(--background-color);
         }

        .sidebar-nav a.active {
            background-color: var(--primary-color);
            color: var(--surface-color);
            font-weight: 500;
            border-left-color: var(--primary-color-dark);
        }

        .sidebar-nav a.active .material-symbols-rounded {
             font-variation-settings: 'FILL' 1; /* Filled icon for active state */
        }

        .sidebar-nav a .material-symbols-rounded {
            margin-right: calc(var(--spacing-unit) * 2);
            font-size: 24px;
             font-variation-settings: 'FILL' 0; /* Outline icon by default */
        }

        main {
            grid-area: 2 / 2 / 3 / 3;
            padding: calc(var(--spacing-unit) * 3);
            overflow-y: auto;
            background-color: var(--background-color);
        }

        .content-area > div {
            display: none; /* Hide all content views by default */
            height: 100%; /* Ensure views take full height */
            opacity: 0;
            transition: opacity var(--transition-speed) ease-in-out;
        }

        .content-area > div.active {
            display: block; /* Show the active view */
            opacity: 1;
            /* Consider adding position: absolute or similar if complex transitions are needed */
        }

        h2 {
            color: var(--primary-color-dark);
            margin-top: 0;
            margin-bottom: calc(var(--spacing-unit) * 3);
            font-size: 1.8rem;
            font-weight: 700;
        }

        /* --- Dashboard View Styles --- */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: calc(var(--spacing-unit) * 3);
        }

        .dashboard-card {
            background-color: var(--surface-color);
            border-radius: var(--border-radius);
            padding: calc(var(--spacing-unit) * 3);
            box-shadow: var(--box-shadow);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .dashboard-card h3 {
            margin-top: 0;
            color: var(--primary-color);
            font-size: 1.2rem;
            font-weight: 600;
        }

        .dashboard-card p {
            margin-bottom: calc(var(--spacing-unit) * 2);
            color: var(--text-color-light);
            font-size: 0.9rem;
        }

        .dashboard-card .value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-color);
        }

        /* Chart Container */
         .chart-container {
            width: 100%;
            height: 250px; /* Adjusted height for charts */
            position: relative; /* Needed for floating controls */
            margin-top: var(--spacing-unit);
         }

         .floating-controls {
            position: absolute;
            top: var(--spacing-unit);
            right: var(--spacing-unit);
            background: rgba(255, 255, 255, 0.95);
            padding: var(--spacing-unit);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            opacity: 0;
            transform: translateY(-10px);
            transition: all var(--transition-speed) ease;
            pointer-events: none;
            z-index: 5; /* Above the chart */
            display: flex;
            flex-direction: column;
            gap: var(--spacing-unit);
            min-width: 150px;
         }

         .floating-controls.active {
            opacity: 1;
            transform: translateY(0);
            pointer-events: all;
         }

         .control-group {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-unit) / 2;
         }

         .control-group label {
             font-size: 0.8rem;
             color: var(--text-color-light);
             font-weight: 500;
         }

         .floating-controls select,
         .floating-controls input[type="color"] {
             padding: var(--spacing-unit);
             border: 1px solid var(--border-color);
             border-radius: var(--border-radius);
             font-size: 0.9rem;
         }

         .floating-controls input[type="color"] {
             padding: var(--spacing-unit) / 2; /* Smaller padding for color picker */
             height: 30px;
         }


        /* --- Content Editor View Styles --- */
        .editor-layout {
            display: grid;
            grid-template-columns: 1fr 300px; /* Main editor area + side panels */
            gap: calc(var(--spacing-unit) * 3);
            height: calc(100% - 40px); /* Adjust for h2 padding/margin */
        }

        .editor-main {
            display: flex;
            flex-direction: column;
            gap: calc(var(--spacing-unit) * 2);
            height: 100%; /* Take full height of grid cell */
        }

        .editor-controls {
            display: flex;
            align-items: center;
            gap: calc(var(--spacing-unit) * 2);
            flex-wrap: wrap; /* Allow controls to wrap on smaller screens */
        }

        .editor-controls > * {
            flex-grow: 1; /* Allow controls to grow */
            min-width: 150px; /* Minimum width before wrapping */
        }

        .title-input {
            padding: calc(var(--spacing-unit) * 1.5);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-color);
            transition: border-color var(--transition-speed), box-shadow var(--transition-speed);
        }

        .title-input:focus-visible {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.2rem var(--focus-ring-color);
            outline: none;
        }

         select {
             padding: calc(var(--spacing-unit) * 1.5);
             border: 1px solid var(--border-color);
             border-radius: var(--border-radius);
             font-size: 1rem;
             color: var(--text-color);
             background-color: var(--surface-color);
             cursor: pointer;
             transition: border-color var(--transition-speed), box-shadow var(--transition-speed);
             -webkit-appearance: none; /* Remove default arrow */
             -moz-appearance: none;
             appearance: none;
             background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23343a40'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E"); /* Custom arrow */
             background-repeat: no-repeat;
             background-position: right calc(var(--spacing-unit) * 1.5) center;
             background-size: 1em;
         }

         select:focus-visible {
             border-color: var(--primary-color);
             box-shadow: 0 0 0 0.2rem var(--focus-ring-color);
             outline: none;
         }


        .rich-text-editor-placeholder {
            flex-grow: 1;
            background-color: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            padding: calc(var(--spacing-unit) * 2);
            font-style: italic;
            color: var(--text-color-light);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            min-height: 200px; /* Ensure it has some height */
            overflow-y: auto; /* Allow scrolling if content were real */
        }

        .editor-side-panels {
            display: flex;
            flex-direction: column;
            gap: calc(var(--spacing-unit) * 2);
            overflow-y: auto; /* Allow side panels to scroll if content is long */
        }

        .side-panel {
            background-color: var(--surface-color);
            border-radius: var(--border-radius);
            padding: calc(var(--spacing-unit) * 2);
            box-shadow: var(--box-shadow);
        }

        .side-panel h4 {
            margin-top: 0;
            margin-bottom: calc(var(--spacing-unit) * 2);
            color: var(--primary-color-dark);
            font-size: 1rem;
            font-weight: 600;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: var(--spacing-unit);
        }

        .side-panel ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

         .side-panel li {
             margin-bottom: var(--spacing-unit);
             display: flex;
             align-items: flex-start;
             font-size: 0.9rem;
             line-height: 1.4;
         }

         .side-panel li:last-child {
             margin-bottom: 0;
         }

         .side-panel li .material-symbols-rounded {
             margin-right: var(--spacing-unit);
             font-size: 18px;
             flex-shrink: 0; /* Prevent icon from shrinking */
         }

         .side-panel .issue-item {
             cursor: pointer;
             padding: var(--spacing-unit);
             margin: calc(var(--spacing-unit) * -1); /* Use negative margin to expand click area */
             border-radius: var(--border-radius);
             transition: background-color var(--transition-speed);
         }

         .side-panel .issue-item:hover {
             background-color: var(--background-color);
         }

         .side-panel .issue-item:focus-visible {
             outline: 2px solid var(--primary-color);
             outline-offset: 2px;
         }


        /* --- Content Library View Styles --- */
        .library-controls {
            display: flex;
            gap: calc(var(--spacing-unit) * 2);
            margin-bottom: calc(var(--spacing-unit) * 3);
            align-items: center;
            flex-wrap: wrap;
        }

        .library-controls input[type="text"],
        .library-controls select {
             padding: calc(var(--spacing-unit) * 1.5);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: border-color var(--transition-speed), box-shadow var(--transition-speed);
        }

         .library-controls input[type="text"] {
             flex-grow: 1;
             min-width: 200px;
         }

         .library-controls select {
             min-width: 150px;
         }


        .library-controls input[type="text"]:focus-visible,
        .library-controls select:focus-visible {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.2rem var(--focus-ring-color);
            outline: none;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            background-color: var(--surface-color);
            border-radius: var(--border-radius);
            overflow: hidden; /* Ensures rounded corners apply */
            box-shadow: var(--box-shadow);
        }

        .data-table th,
        .data-table td {
            padding: calc(var(--spacing-unit) * 2) calc(var(--spacing-unit) * 3);
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .data-table th {
            background-color: var(--background-color);
            font-weight: 600;
            color: var(--text-color);
            text-transform: uppercase;
            font-size: 0.9rem;
        }

        .data-table tbody tr:last-child td {
            border-bottom: none;
        }

        .data-table tbody tr:hover {
            background-color: rgba(0, 123, 255, 0.05);
            cursor: pointer;
        }

        /* Style for action buttons within tables */
        .data-table .icon-button {
            padding: var(--spacing-unit); /* Smaller padding for table buttons */
        }

        /* --- Audience Profiles / Glossary View Styles (using similar table/form) --- */
        .form-section {
            background-color: var(--surface-color);
            border-radius: var(--border-radius);
            padding: calc(var(--spacing-unit) * 3);
            box-shadow: var(--box-shadow);
            margin-bottom: calc(var(--spacing-unit) * 3);
        }

        .form-section h3 {
            margin-top: 0;
            margin-bottom: calc(var(--spacing-unit) * 3);
            color: var(--primary-color-dark);
            font-size: 1.2rem;
            font-weight: 600;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: var(--spacing-unit);
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); /* Responsive grid */
            gap: calc(var(--spacing-unit) * 3);
        }

        .form-group {
            margin-bottom: calc(var(--spacing-unit) * 2); /* Use margin-bottom on group */
        }

         .form-section .form-group:last-child {
             margin-bottom: 0; /* Remove margin on the last form group in a section */
         }


        .form-group label {
            display: block;
            margin-bottom: var(--spacing-unit);
            font-weight: 500;
            color: var(--text-color);
            font-size: 0.9rem;
        }

        .form-group input[type="text"],
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: calc(var(--spacing-unit) * 1.5);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            font-size: 1rem;
            color: var(--text-color);
            transition: border-color var(--transition-speed), box-shadow var(--transition-speed);
        }

        .form-group input[type="text"]:focus-visible,
        .form-group textarea:focus-visible,
        .form-group select:focus-visible {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.2rem var(--focus-ring-color);
            outline: none;
        }

        .form-actions {
            display: flex;
            gap: calc(var(--spacing-unit) * 2);
            margin-top: calc(var(--spacing-unit) * 3);
            justify-content: flex-end; /* Align buttons to the right */
        }


        /* --- Buttons --- */
        button {
            padding: calc(var(--spacing-unit) * 1.5) calc(var(--spacing-unit) * 3);
            border: none;
            border-radius: var(--border-radius);
            font-size: 1rem;
            cursor: pointer;
            transition: background-color var(--transition-speed), opacity var(--transition-speed), box-shadow var(--transition-speed);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: var(--spacing-unit);
            font-weight: 500;
        }

        button .material-symbols-rounded {
             font-size: 18px;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: var(--surface-color);
        }

        .btn-primary:hover {
            background-color: var(--primary-color-dark);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .btn-primary:focus-visible {
            outline: 2px solid var(--primary-color);
            outline-offset: 2px;
        }

        .btn-secondary {
            background-color: var(--secondary-color);
            color: var(--surface-color);
        }

        .btn-secondary:hover {
            background-color: var(--secondary-color-dark);
             box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

         .btn-secondary:focus-visible {
            outline: 2px solid var(--secondary-color);
            outline-offset: 2px;
        }

        .btn-accent {
            background-color: var(--accent-color);
            color: var(--surface-color);
        }

        .btn-accent:hover {
            background-color: var(--accent-color-dark);
             box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

         .btn-accent:focus-visible {
            outline: 2px solid var(--accent-color);
            outline-offset: 2px;
        }


        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            box-shadow: none;
        }

        /* --- Modal Styles --- */
        .modal-overlay {
            display: none; /* Hidden by default */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 100;
            opacity: 0;
            transition: opacity var(--transition-speed) ease-in-out;
        }

        .modal-overlay.visible {
            display: flex;
            opacity: 1;
        }

        .modal-content {
            background-color: var(--surface-color);
            padding: calc(var(--spacing-unit) * 4);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            max-width: 500px;
            width: 90%;
            transform: translateY(-20px);
            transition: transform var(--transition-speed) ease-in-out;
        }

        .modal-overlay.visible .modal-content {
            transform: translateY(0);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: calc(var(--spacing-unit) * 3);
            padding-bottom: var(--spacing-unit);
            border-bottom: 1px solid var(--border-color);
        }

        .modal-header h3 {
            margin: 0;
            color: var(--primary-color-dark);
            font-size: 1.3rem;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-color-light);
            transition: color var(--transition-speed);
            padding: var(--spacing-unit); /* Add padding for click target */
        }

        .modal-close:hover {
            color: var(--text-color);
        }

         .modal-close:focus-visible {
             outline: 2px solid var(--primary-color);
             outline-offset: 2px;
         }


        .modal-body {
            margin-bottom: calc(var(--spacing-unit) * 3);
            color: var(--text-color);
        }

        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: calc(var(--spacing-unit) * 2);
        }

        /* --- Utility/Placeholder Styles --- */
        .placeholder {
            text-align: center;
            color: var(--text-color-light);
            padding: calc(var(--spacing-unit) * 5);
            border: 2px dashed var(--border-color);
            border-radius: var(--border-radius);
            margin-top: calc(var(--spacing-unit) * 3);
        }

        .material-symbols-rounded {
            font-variation-settings:
            'FILL' 0,
            'wght' 400,
            'GRAD' 0,
            'opsz' 24;
            vertical-align: middle; /* Align icons vertically */
        }
    </style>
</head>
<body>
    <div class="app-container">
        <header>
            <div class="app-title">FinEdu Creator</div>
            <div class="header-actions">
                 <button class="icon-button" title="Switch UI Language" aria-label="Switch UI Language">
                    <span class="material-symbols-rounded">language</span>
                 </button>
                <button class="icon-button" title="User Settings" aria-label="User Settings">
                    <span class="material-symbols-rounded">settings</span>
                </button>
                <button class="icon-button" title="User Profile" aria-label="User Profile">
                    <span class="material-symbols-rounded">account_circle</span>
                </button>
            </div>
        </header>

        <aside>
            <nav class="sidebar-nav" role="navigation">
                <ul>
                    <li>
                        <a href="#dashboard" class="nav-link active" aria-label="Go to Dashboard">
                            <span class="material-symbols-rounded">dashboard</span>
                            Dashboard
                        </a>
                    </li>
                    <li>
                        <a href="#content-library" class="nav-link" aria-label="Go to Content Library">
                            <span class="material-symbols-rounded">library_books</span>
                            Content Library
                        </a>
                    </li>
                    <li>
                        <a href="#create-new" class="nav-link" aria-label="Create New Content">
                            <span class="material-symbols-rounded">add_circle</span>
                            Create New
                        </a>
                    </li>
                    <li>
                        <a href="#audience-profiles" class="nav-link" aria-label="Manage Audience Profiles">
                            <span class="material-symbols-rounded">group</span>
                            Audience Profiles
                        </a>
                    </li>
                    <li>
                        <a href="#glossary" class="nav-link" aria-label="Manage Glossary">
                            <span class="material-symbols-rounded">menu_book</span>
                            Glossary
                        </a>
                    </li>
                    <li>
                        <a href="#settings" class="nav-link" aria-label="App Settings">
                            <span class="material-symbols-rounded">settings</span>
                            Settings
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <main>
            <div class="content-area">
                <!-- Dashboard View -->
                <div id="dashboard" class="view active" role="region" aria-labelledby="dashboard-heading">
                    <h2 id="dashboard-heading">Dashboard</h2>
                    <div class="dashboard-grid">
                        <div class="dashboard-card">
                            <h3>Total Content Items</h3>
                            <p>Published / Drafts</p>
                            <div class="value">45 / 12</div>
                        </div>
                         <div class="dashboard-card">
                            <h3>Languages Supported</h3>
                            <p>Active translations</p>
                            <div class="value">8</div>
                        </div>
                         <div class="dashboard-card">
                            <h3>Audience Profiles</h3>
                            <p>Defined profiles</p>
                            <div class="value">5</div>
                        </div>
                         <div class="dashboard-card">
                            <h3>Pending Reviews</h3>
                            <p>Items awaiting feedback</p>
                            <div class="value">3</div>
                        </div>
                        <!-- Placeholder for Charts -->
                        <div class="dashboard-card">
                            <h3>Content Creation Progress</h3>
                            <div class="chart-container" id="progress-chart-container">
                                <canvas id="progressChart"></canvas>
                                 <div class="floating-controls" id="progress-chart-controls">
                                     <div class="control-group">
                                         <label for="progress-chart-type">Chart Type</label>
                                         <select id="progress-chart-type" aria-label="Select progress chart type">
                                             <option value="bar">Bar</option>
                                             <option value="line">Line</option>
                                         </select>
                                     </div>
                                      <div class="control-group">
                                         <label for="progress-bg-color">Bar Color</label>
                                         <input type="color" id="progress-bg-color" value="#007bff" aria-label="Select progress bar color">
                                     </div>
                                 </div>
                            </div>
                        </div>
                         <div class="dashboard-card">
                            <h3>Language Distribution</h3>
                             <div class="chart-container" id="language-chart-container">
                                <canvas id="languageChart"></canvas>
                                 <div class="floating-controls" id="language-chart-controls">
                                     <div class="control-group">
                                         <label for="language-chart-type">Chart Type</label>
                                         <select id="language-chart-type" aria-label="Select language chart type">
                                             <option value="pie">Pie</option>
                                             <option value="bar">Bar</option>
                                         </select>
                                     </div>
                                 </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Content Editor View -->
                <div id="create-new" class="view" role="region" aria-labelledby="create-new-heading">
                    <h2 id="create-new-heading">Create New Content</h2>
                     <div class="editor-layout">
                         <div class="editor-main">
                            <div class="editor-controls">
                                <input type="text" class="title-input" placeholder="Enter Content Title" aria-label="Content Title">
                                 <select aria-label="Select Language">
                                     <option value="">Select Language</option>
                                     <option value="en">English</option>
                                     <option value="es">Español</option>
                                     <option value="fr">Français</option>
                                 </select>
                                  <select aria-label="Select Audience Profile">
                                     <option value="">Select Audience Profile</option>
                                     <option value="low-literacy">Low Literacy Adults</option>
                                     <option value="youth">Young Adults</option>
                                 </select>
                                  <button class="btn-secondary" aria-label="Insert Multimedia"><span class="material-symbols-rounded">add_photo_alternate</span> Add Media</button>
                            </div>
                             <div class="rich-text-editor-placeholder" aria-label="Rich Text Content Editor" contenteditable="true" role="textbox">
                                 <p>Start typing your content here...</p>
                                 <p>This area would be replaced by a full-featured Rich Text Editor (e.g., TinyMCE, Quill) with formatting tools, multimedia embed, etc.</p>
                                 <p>Content suggestions and checker issues will appear in the side panels based on what you type and the selected audience profile.</p>
                             </div>
                             <div class="form-actions">
                                 <button class="btn-primary" aria-label="Save Draft"><span class="material-symbols-rounded">save</span> Save Draft</button>
                                 <button class="btn-secondary" aria-label="Preview Content"><span class="material-symbols-rounded">preview</span> Preview</button>
                                 <button class="btn-accent" aria-label="Publish Content"><span class="material-symbols-rounded">publish</span> Publish</button>
                             </div>
                         </div>
                         <div class="editor-side-panels">
                             <div class="side-panel">
                                 <h4>Contextual Help & Suggestions</h4>
                                 <p class="text-color-light" style="font-size: 0.9rem; margin-bottom: var(--spacing-unit);">Tips based on selected audience profile (Placeholder)</p>
                                 <ul>
                                     <li><span style="color: var(--info-color);" class="material-symbols-rounded">info</span> Suggestion: Use simpler vocabulary.</li>
                                     <li><span style="color: var(--info-color);" class="material-symbols-rounded">info</span> Suggestion: Add a relevant image.</li>
                                     <li><span style="color: var(--info-color);" class="material-symbols-rounded">info</span> Suggestion: Explain complex terms using the glossary.</li>
                                 </ul>
                             </div>
                              <div class="side-panel">
                                 <h4>Checkers Results</h4>
                                 <p class="text-color-light" style="font-size: 0.9rem; margin-bottom: var(--spacing-unit);">Accessibility, Readability, Sensitivity (Placeholder)</p>
                                  <ul>
                                     <li class="issue-item" tabindex="0" role="button" aria-label="Readability issue: High readability score"><span style="color: var(--warning-color);" class="material-symbols-rounded">warning</span> Readability: High (Flesch-Kincaid: 10)</li>
                                     <li class="issue-item" tabindex="0" role="button" aria-label="Sensitivity issue: Potential cultural idiom detected"><span style="color: var(--danger-color);" class="material-symbols-rounded">error</span> Sensitivity: Potential cultural idiom detected.</li>
                                     <li class="issue-item" tabindex="0" role="button" aria-label="Accessibility issue: Image alt text missing"><span style="color: var(--danger-color);" class="material-symbols-rounded">error</span> Accessibility: Image alt text missing.</li>
                                     <li class="issue-item" tabindex="0" role="button" aria-label="Accessibility issue: Insufficient color contrast"><span style="color: var(--warning-color);" class="material-symbols-rounded">warning</span> Accessibility: Insufficient color contrast in a section.</li>
                                      <li class="issue-item" tabindex="0" role="button" aria-label="Accessibility issue: Missing heading"><span style="color: var(--warning-color);" class="material-symbols-rounded">warning</span> Accessibility: Missing heading in section.</li>
                                       <li class="issue-item issue-item--success" tabindex="0" role="button" aria-label="Accessibility check passed"><span style="color: var(--success-color);" class="material-symbols-rounded">check_circle</span> Accessibility: All checks passed.</li>
                                 </ul>
                             </div>
                         </div>
                     </div>
                </div>

                <!-- Content Library View -->
                <div id="content-library" class="view" role="region" aria-labelledby="content-library-heading">
                    <h2 id="content-library-heading">Content Library</h2>
                    <div class="library-controls">
                        <input type="text" placeholder="Search content..." aria-label="Search content">
                         <select aria-label="Filter by Status">
                             <option value="">Filter by Status</option>
                             <option value="draft">Draft</option>
                             <option value="published">Published</option>
                             <option value="review">Needs Review</option>
                         </select>
                          <select aria-label="Filter by Language">
                             <option value="">Filter by Language</option>
                             <option value="en">English</option>
                             <option value="es">Español</option>
                             <option value="fr">Français</option>
                         </select>
                         <button class="btn-primary" aria-label="Search Content"><span class="material-symbols-rounded">search</span> Search</button>
                         <button class="btn-secondary" aria-label="Clear Filters"><span class="material-symbols-rounded">filter_alt_off</span> Clear Filters</button>
                    </div>
                    <table class="data-table" role="grid" aria-label="Content Items">
                        <thead>
                            <tr>
                                <th scope="col">Title</th>
                                <th scope="col">Language</th>
                                <th scope="col">Audience</th>
                                <th scope="col">Status</th>
                                <th scope="col">Last Edited</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr tabindex="0" role="row">
                                <td role="cell">Understanding Credit Scores</td>
                                <td role="cell">English</td>
                                <td role="cell">Low Literacy Adults</td>
                                <td role="cell">Published</td>
                                <td role="cell">2023-10-26</td>
                            </tr>
                             <tr tabindex="0" role="row">
                                <td role="cell">Entendiendo Puntajes de Crédito</td>
                                <td role="cell">Español</td>
                                <td role="cell">Low Literacy Adults</td>
                                <td role="cell">Published</td>
                                <td role="cell">2023-10-26</td>
                            </tr>
                             <tr tabindex="0" role="row">
                                <td role="cell">Basics of Saving for Retirement</td>
                                <td role="cell">English</td>
                                <td role="cell">Young Adults</td>
                                <td role="cell">Draft</td>
                                <td role="cell">2023-10-25</td>
                            </tr>
                             <tr tabindex="0" role="row">
                                <td role="cell">Fundamentos del Ahorro para la Jubilación</td>
                                <td role="cell">Español</td>
                                <td role="cell">Young Adults</td>
                                <td role="cell">Draft</td>
                                <td role="cell">2023-10-25</td>
                            </tr>
                            <!-- More rows... -->
                        </tbody>
                    </table>
                </div>

                <!-- Audience Profiles View -->
                 <div id="audience-profiles" class="view" role="region" aria-labelledby="audience-profiles-heading">
                    <h2 id="audience-profiles-heading">Audience Profiles</h2>
                     <div class="form-section">
                         <h3>Create New Profile</h3>
                         <div class="form-grid">
                             <div class="form-group">
                                 <label for="profile-name">Profile Name</label>
                                 <input type="text" id="profile-name" placeholder="e.g., Low Literacy Adults" aria-required="true">
                             </div>
                             <div class="form-group">
                                 <label for="profile-language">Primary Language(s)</label>
                                 <input type="text" id="profile-language" placeholder="e.g., English, Spanish">
                             </div>
                         </div>
                         <div class="form-group">
                             <label for="profile-description">Description / Key Characteristics</label>
                             <textarea id="profile-description" rows="4" placeholder="Describe the target audience's literacy level, cultural background, common financial challenges, etc."></textarea>
                         </div>
                         <div class="form-actions">
                             <button class="btn-primary" aria-label="Add Audience Profile"><span class="material-symbols-rounded">add</span> Add Profile</button>
                         </div>
                     </div>

                     <h3>Existing Profiles</h3>
                      <table class="data-table" role="grid" aria-label="Existing Audience Profiles">
                        <thead>
                            <tr>
                                <th scope="col">Profile Name</th>
                                <th scope="col">Primary Language(s)</th>
                                <th scope="col">Description</th>
                                <th scope="col">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr role="row">
                                <td role="cell">Low Literacy Adults</td>
                                <td role="cell">English, Spanish</td>
                                <td role="cell">Adults with limited reading skills, facing challenges with complex financial terms.</td>
                                <td role="cell">
                                    <button class="icon-button" title="Edit Profile" aria-label="Edit Low Literacy Adults Profile"><span class="material-symbols-rounded">edit</span></button>
                                    <button class="icon-button" style="color: var(--danger-color);" title="Delete Profile" aria-label="Delete Low Literacy Adults Profile"><span class="material-symbols-rounded">delete</span></button>
                                </td>
                            </tr>
                             <tr role="row">
                                <td role="cell">Young Adults</td>
                                <td role="cell">English</td>
                                <td role="cell">Ages 18-25, comfortable with digital media, needing basic financial planning skills.</td>
                                <td role="cell">
                                    <button class="icon-button" title="Edit Profile" aria-label="Edit Young Adults Profile"><span class="material-symbols-rounded">edit</span></button>
                                    <button class="icon-button" style="color: var(--danger-color);" title="Delete Profile" aria-label="Delete Young Adults Profile"><span class="material-symbols-rounded">delete</span></button>
                                </td>
                            </tr>
                            <!-- More rows... -->
                        </tbody>
                    </table>
                </div>

                <!-- Glossary View -->
                 <div id="glossary" class="view" role="region" aria-labelledby="glossary-heading">
                    <h2 id="glossary-heading">Financial Glossary</h2>
                     <div class="form-section">
                         <h3>Add New Term</h3>
                         <div class="form-grid">
                             <div class="form-group">
                                 <label for="term">Term</label>
                                 <input type="text" id="term" placeholder="e.g., Credit Score" aria-required="true">
                             </div>
                             <div class="form-group">
                                 <label for="definition">Simple Definition</label>
                                 <input type="text" id="definition" placeholder="e.g., A number that shows how likely you are to pay back borrowed money." aria-required="true">
                             </div>
                         </div>
                         <div class="form-actions">
                             <button class="btn-primary" aria-label="Add Glossary Term"><span class="material-symbols-rounded">add</span> Add Term</button>
                         </div>
                     </div>

                     <h3>Existing Terms</h3>
                      <table class="data-table" role="grid" aria-label="Existing Glossary Terms">
                        <thead>
                            <tr>
                                <th scope="col">Term</th>
                                <th scope="col">Simple Definition</th>
                                <th scope="col">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr role="row">
                                <td role="cell">Credit Score</td>
                                <td role="cell">A number that shows how likely you are to pay back borrowed money.</td>
                                <td role="cell">
                                    <button class="icon-button" title="Edit Term" aria-label="Edit Credit Score Term"><span class="material-symbols-rounded">edit</span></button>
                                    <button class="icon-button" style="color: var(--danger-color);" title="Delete Term" aria-label="Delete Credit Score Term"><span class="material-symbols-rounded">delete</span></button>
                                </td>
                            </tr>
                             <tr role="row">
                                <td>Retirement Planning</td>
                                <td>Saving money now so you can stop working later in life.</td>
                                <td>
                                    <button class="icon-button" title="Edit Term" aria-label="Edit Retirement Planning Term"><span class="material-symbols-rounded">edit</span></button>
                                    <button class="icon-button" style="color: var(--danger-color);" title="Delete Term" aria-label="Delete Retirement Planning Term"><span class="material-symbols-rounded">delete</span></button>
                                </td>
                            </tr>
                            <!-- More rows... -->
                        </tbody>
                    </table>
                </div>

                <!-- Settings View -->
                 <div id="settings" class="view" role="region" aria-labelledby="settings-heading">
                    <h2 id="settings-heading">Settings</h2>
                    <div class="form-section">
                        <h3>General Settings</h3>
                         <div class="form-group">
                             <label for="app-language">App Language</label>
                             <select id="app-language" aria-label="App Language">
                                 <option value="en">English</option>
                                 <option value="es">Español</option>
                                 <option value="fr">Français</option>
                             </select>
                         </div>
                         <div class="form-group">
                             <label for="default-audience">Default Audience Profile</label>
                             <select id="default-audience" aria-label="Default Audience Profile">
                                 <option value="">None</option>
                                 <option value="low-literacy">Low Literacy Adults</option>
                                 <option value="youth">Young Adults</option>
                             </select>
                         </div>
                         <div class="form-actions">
                             <button class="btn-primary" aria-label="Save Settings"><span class="material-symbols-rounded">save</span> Save Settings</button>
                         </div>
                    </div>
                </div>

            </div>
        </main>
    </div>

    <!-- Modal Example -->
    <div id="myModal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Modal Title</h3>
                <button class="modal-close icon-button" aria-label="Close modal" title="Close Modal">
                     <span class="material-symbols-rounded">close</span>
                </button>
            </div>
            <div class="modal-body">
                <p>This is the modal body content.</p>
                <p>It can contain forms, information, or confirmations.</p>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary modal-close">Cancel</button>
                <button class="btn-primary">Confirm</button>
            </div>
        </div>
    </div>

    <script type="module">
        import { Chart } from "https://esm.sh/chart.js/auto";

        document.addEventListener('DOMContentLoaded', () => {
            const navLinks = document.querySelectorAll('.sidebar-nav .nav-link');
            const views = document.querySelectorAll('.content-area .view');
            const modalOverlay = document.getElementById('myModal');
            const modalCloseButtons = modalOverlay.querySelectorAll('.modal-close');
            const mainContentArea = document.querySelector('main'); // For focus management

            // Function to show a specific view
            function showView(viewId) {
                views.forEach(view => {
                    if (view.id === viewId) {
                        view.classList.add('active');
                        view.setAttribute('aria-hidden', 'false');
                        // Set focus to the main heading of the new view for accessibility
                        const heading = view.querySelector('h2');
                        if(heading) {
                            heading.setAttribute('tabindex', '-1'); // Make heading focusable
                            heading.focus();
                        } else {
                             // If no h2, make the view itself focusable and focus it
                             view.setAttribute('tabindex', '-1');
                             view.focus();
                        }
                         // Ensure screen readers announce the new view
                         mainContentArea.setAttribute('aria-live', 'polite');
                         mainContentArea.setAttribute('aria-relevant', 'additions text');

                    } else {
                        view.classList.remove('active');
                        view.setAttribute('aria-hidden', 'true');
                         // Remove tabindex if previously set for focus
                         const heading = view.querySelector('h2');
                         if(heading) heading.removeAttribute('tabindex');
                         else view.removeAttribute('tabindex');
                    }
                });
                 // Remove aria-live after a short delay to prevent excessive announcements
                 setTimeout(() => {
                     mainContentArea.removeAttribute('aria-live');
                     mainContentArea.removeAttribute('aria-relevant');
                 }, 100);
            }

            // Function to update active navigation link
            function updateActiveNav(activeLink) {
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    // Reset fill setting for icons
                    const icon = link.querySelector('.material-symbols-rounded');
                     if (icon) icon.style.fontVariationSettings = "'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24";
                });
                activeLink.classList.add('active');
                 const activeIcon = activeLink.querySelector('.material-symbols-rounded');
                 if (activeIcon) activeIcon.style.fontVariationSettings = "'FILL' 1, 'wght' 500, 'GRAD' 0, 'opsz' 24"; // Increase weight slightly for active
            }

            // Handle navigation clicks
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const viewId = link.getAttribute('href').substring(1); // Get view ID from href
                    showView(viewId);
                    updateActiveNav(link);
                    // Update URL hash without triggering a page reload
                    history.pushState(null, '', link.getAttribute('href'));
                });
            });

            // Handle browser back/forward based on hash
            window.addEventListener('popstate', () => {
                 const currentViewId = window.location.hash ? window.location.hash.substring(1) : 'dashboard';
                 const currentNavLink = document.querySelector(`.nav-link[href="#${currentViewId}"]`);
                 if (currentNavLink) {
                      showView(currentViewId);
                      updateActiveNav(currentNavLink);
                 } else {
                      // Fallback to dashboard active state if hash doesn't match a link
                      showView('dashboard');
                      updateActiveNav(document.querySelector('.nav-link[href="#dashboard"]'));
                      history.replaceState(null, '', '#dashboard'); // Update URL to reflect default
                 }
            });


            // Initial view display based on hash or default to dashboard
            const initialViewId = window.location.hash ? window.location.hash.substring(1) : 'dashboard';
            const initialNavLink = document.querySelector(`.nav-link[href="#${initialViewId}"]`);

            if (initialNavLink) {
                 showView(initialViewId);
                 updateActiveNav(initialNavLink);
            } else {
                 // If hash is invalid or absent, default to dashboard
                 showView('dashboard');
                 updateActiveNav(document.querySelector('.nav-link[href="#dashboard"]'));
                 history.replaceState(null, '', '#dashboard'); // Update URL to reflect default
            }


            // Modal functionality (basic show/hide)
            let elementBeforeModalOpen = null; // To restore focus

            function openModal() {
                elementBeforeModalOpen = document.activeElement; // Store focused element
                modalOverlay.classList.add('visible');
                // Optional: Trap focus inside modal - requires more complex JS
                // For simplicity, just focus the modal content or first interactive element
                 const focusableElement = modalOverlay.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');
                 if (focusableElement) {
                     focusableElement.focus();
                 } else {
                     modalOverlay.focus(); // Focus the overlay itself if no interactive elements
                 }
            }

            function closeModal() {
                modalOverlay.classList.remove('visible');
                 // Restore focus to the element that was focused before the modal opened
                 if (elementBeforeModalOpen) {
                     elementBeforeModalOpen.focus();
                     elementBeforeModalOpen = null; // Clear reference
                 }
            }

            // Example: Button to open modal (you'd add this to a specific button)
            // const openModalBtn = document.getElementById('openModalBtn'); // Add an ID to a button
            // if (openModalBtn) {
            //     openModalBtn.addEventListener('click', openModal);
            // }

            // Close modal using close buttons or clicking outside
            modalCloseButtons.forEach(button => {
                button.addEventListener('click', closeModal);
            });

            modalOverlay.addEventListener('click', (e) => {
                if (e.target === modalOverlay) {
                    closeModal();
                }
            });

            // Close modal with Escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && modalOverlay.classList.contains('visible')) {
                    e.preventDefault(); // Prevent default escape behavior
                    closeModal();
                }
            });

            // Basic keyboard navigation for sidebar (using arrow keys)
             document.querySelector('.sidebar-nav ul').addEventListener('keydown', (e) => {
                const activeElement = document.activeElement;
                if (!activeElement || !activeElement.classList.contains('nav-link')) return;

                const links = Array.from(navLinks);
                const currentIndex = links.indexOf(activeElement);

                if (e.key === 'ArrowDown') {
                    e.preventDefault();
                    const nextIndex = (currentIndex + 1) % links.length;
                    links[nextIndex].focus();
                } else if (e.key === 'ArrowUp') {
                    e.preventDefault();
                    const prevIndex = (currentIndex - 1 + links.length) % links.length;
                    links[prevIndex].focus();
                }
             });

            // Add keyboard navigation for table rows (Enter/Space to "activate" - placeholder)
            document.querySelectorAll('.data-table tbody tr').forEach(row => {
                row.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        console.log('Row activated:', row); // Placeholder action
                        // In a real app, this would navigate to an edit view or open a modal
                    }
                });
            });

            // Add keyboard navigation for issue items (Enter/Space to "activate" - placeholder)
             document.querySelectorAll('.side-panel .issue-item').forEach(item => {
                item.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        console.log('Issue item activated:', item.textContent.trim()); // Placeholder action
                        // In a real app, this would highlight text in the editor
                    }
                });
            });


            // --- Chart.js Integration (Placeholder Data) ---

            // Content Creation Progress Chart
            const progressCtx = document.getElementById('progressChart').getContext('2d');
            const progressChartControls = document.getElementById('progress-chart-controls');
            const progressChart = new Chart(progressCtx, {
                type: 'bar', // Default type
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Content Created',
                        data: [15, 18, 22, 19, 25, 21],
                        backgroundColor: 'var(--primary-color)',
                        borderColor: 'var(--primary-color-dark)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                     plugins: {
                        legend: {
                            display: true,
                            labels: {
                                color: "var(--text-color)"
                            }
                        },
                         tooltip: {
                             backgroundColor: "var(--surface-color)",
                             titleColor: "var(--text-color)",
                             bodyColor: "var(--text-color-light)",
                             borderColor: "var(--border-color)",
                             borderWidth: 1,
                             cornerRadius: var("--border-radius"),
                         }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                             ticks: {
                                color: "var(--text-color-light)"
                             },
                             grid: {
                                 color: "var(--border-color)"
                             }
                        },
                        x: {
                            ticks: {
                                color: "var(--text-color-light)"
                             },
                             grid: {
                                 color: "var(--border-color)"
                             }
                        }
                    },
                     onClick: (e, elements) => {
                         // Toggle controls visibility on chart click
                         progressChartControls.classList.toggle('active');
                     }
                }
            });

             // Progress Chart Controls Listener
             document.getElementById('progress-chart-type').addEventListener('change', (e) => {
                 progressChart.config.type = e.target.value;
                 progressChart.update();
             });
             document.getElementById('progress-bg-color').addEventListener('change', (e) => {
                 progressChart.config.data.datasets[0].backgroundColor = e.target.value;
                 progressChart.update();
             });


            // Language Distribution Chart
            const languageCtx = document.getElementById('languageChart').getContext('2d');
            const languageChartControls = document.getElementById('language-chart-controls');
            const languageChart = new Chart(languageCtx, {
                type: 'pie', // Default type
                data: {
                    labels: ['English', 'Español', 'Français', 'Other'],
                    datasets: [{
                        data: [60, 30, 5, 5], // Example distribution
                        backgroundColor: [
                            '#007bff', // Primary
                            '#28a745', // Accent
                            '#ffc107', // Warning
                            '#6c757d'  // Secondary
                        ],
                        borderColor: 'var(--surface-color)',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                     plugins: {
                        legend: {
                            display: true,
                            position: 'right',
                             labels: {
                                color: "var(--text-color)"
                            }
                        },
                         tooltip: {
                             backgroundColor: "var(--surface-color)",
                             titleColor: "var(--text-color)",
                             bodyColor: "var(--text-color-light)",
                             borderColor: "var(--border-color)",
                             borderWidth: 1,
                             cornerRadius: var("--border-radius"),
                         }
                    },
                     onClick: (e, elements) => {
                         // Toggle controls visibility on chart click
                         languageChartControls.classList.toggle('active');
                     }
                }
            });

             // Language Chart Controls Listener
             document.getElementById('language-chart-type').addEventListener('change', (e) => {
                 languageChart.config.type = e.target.value;
                 languageChart.update();
             });

            // Close chart controls when clicking outside
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.floating-controls') && !e.target.closest('.chart-container')) {
                    document.querySelectorAll('.floating-controls').forEach(controls => {
                        controls.classList.remove('active');
                    });
                }
            });

        });
    </script>
</body>
</html>
