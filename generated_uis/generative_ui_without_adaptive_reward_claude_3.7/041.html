<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Water Conservation Infographic</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Open+Sans:wght@400;600&display=swap">
    <style>
        :root {
            --primary-blue: #2196f3;
            --dark-blue: #0d47a1;
            --light-blue: #bbdefb;
            --accent-teal: #00bcd4;
            --accent-green: #4caf50;
            --text-dark: #263238;
            --text-medium: #455a64;
            --text-light: #78909c;
            --background: #f5f9ff;
            --white: #ffffff;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Open Sans', sans-serif;
            background-color: var(--background);
            color: var(--text-dark);
            line-height: 1.6;
            padding: 0;
            overflow-x: hidden;
        }
        
        h1, h2, h3, h4 {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
            color: var(--dark-blue);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        .header {
            text-align: center;
            padding: 3rem 0;
        }
        
        .header h1 {
            font-size: 2.8rem;
            margin-bottom: 1rem;
            color: var(--dark-blue);
        }
        
        .header p {
            font-size: 1.2rem;
            color: var(--text-medium);
            max-width: 800px;
            margin: 0 auto;
        }
        
        .intro {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 4rem;
            background: var(--white);
            border-radius: 16px;
            padding: 2rem;
            box-shadow: var(--shadow);
        }
        
        .intro-text {
            flex: 1;
            padding-right: 2rem;
        }
        
        .intro-text h2 {
            font-size: 2rem;
            margin-bottom: 1.5rem;
        }
        
        .intro-text p {
            font-size: 1.1rem;
            color: var(--text-medium);
            margin-bottom: 1.5rem;
        }
        
        .intro-image {
            flex: 1;
            display: flex;
            justify-content: center;
        }
        
        .intro-image svg {
            max-width: 100%;
            height: auto;
        }
        
        .section {
            margin-bottom: 5rem;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 2.5rem;
        }
        
        .section-title h2 {
            font-size: 2.2rem;
            display: inline-block;
            padding-bottom: 0.5rem;
            border-bottom: 4px solid var(--accent-teal);
        }
        
        .facts-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
        }
        
        .fact-card {
            background: var(--white);
            border-radius: 12px;
            padding: 2rem;
            box-shadow: var(--shadow);
            text-align: center;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            opacity: 0;
            transform: translateY(30px);
        }
        
        .fact-card.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .fact-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.15);
        }
        
        .fact-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--light-blue);
            border-radius: 50%;
        }
        
        .fact-icon svg {
            width: 50%;
            height: 50%;
            fill: var(--primary-blue);
        }
        
        .fact-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-blue);
            margin-bottom: 1rem;
            font-family: 'Montserrat', sans-serif;
        }
        
        .fact-text {
            font-size: 1rem;
            color: var(--text-medium);
        }
        
        .tips-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
        }
        
        .tip-card {
            background: var(--white);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
            display: flex;
            align-items: flex-start;
            transition: var(--transition);
            opacity: 0;
            transform: translateY(30px);
        }
        
        .tip-card.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .tip-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.15);
        }
        
        .tip-icon {
            width: 50px;
            height: 50px;
            min-width: 50px;
            background: var(--light-blue);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
        }
        
        .tip-icon svg {
            width: 60%;
            height: 60%;
            fill: var(--primary-blue);
        }
        
        .tip-content h3 {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            color: var(--dark-blue);
        }
        
        .tip-content p {
            font-size: 0.95rem;
            color: var(--text-medium);
        }
        
        .impact-container {
            display: flex;
            flex-direction: column;
            background: var(--white);
            border-radius: 16px;
            padding: 2rem;
            box-shadow: var(--shadow);
        }
        
        .impact-text {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .impact-text h3 {
            font-size: 1.8rem;
            margin-bottom: 1rem;
            color: var(--dark-blue);
        }
        
        .impact-text p {
            font-size: 1.1rem;
            color: var(--text-medium);
            max-width: 800px;
            margin: 0 auto;
        }
        
        .chart-container {
            height: 400px;
            position: relative;
            margin-bottom: 2rem;
        }
        
        .cta-section {
            text-align: center;
            background: var(--white);
            border-radius: 16px;
            padding: 3rem 2rem;
            box-shadow: var(--shadow);
        }
        
        .cta-section h2 {
            font-size: 2.2rem;
            margin-bottom: 1.5rem;
            color: var(--dark-blue);
        }
        
        .cta-section p {
            font-size: 1.1rem;
            color: var(--text-medium);
            max-width: 800px;
            margin: 0 auto 2rem;
        }
        
        .cta-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 1rem 2rem;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 30px;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            display: inline-block;
        }
        
        .btn-primary {
            background: var(--primary-blue);
            color: var(--white);
        }
        
        .btn-primary:hover {
            background: var(--dark-blue);
            transform: translateY(-3px);
            box-shadow: 0 4px 12px rgba(13, 71, 161, 0.3);
        }
        
        .btn-secondary {
            background: var(--light-blue);
            color: var(--dark-blue);
        }
        
        .btn-secondary:hover {
            background: var(--accent-teal);
            color: var(--white);
            transform: translateY(-3px);
            box-shadow: 0 4px 12px rgba(0, 188, 212, 0.3);
        }
        
        .tooltip {
            position: relative;
            display: inline-block;
            border-bottom: 1px dotted var(--primary-blue);
            cursor: help;
        }
        
        .tooltip .tooltip-text {
            visibility: hidden;
            width: 200px;
            background-color: var(--dark-blue);
            color: var(--white);
            text-align: center;
            border-radius: 6px;
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .tooltip .tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--dark-blue) transparent transparent transparent;
        }
        
        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }
        
        .progress-nav {
            position: fixed;
            top: 50%;
            right: 20px;
            transform: translateY(-50%);
            z-index: 100;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .progress-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--light-blue);
            cursor: pointer;
            transition: var(--transition);
        }
        
        .progress-dot.active {
            background: var(--primary-blue);
            transform: scale(1.3);
        }
        
        .floating-controls {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.95);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            opacity: 0;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            pointer-events: none;
            z-index: 10;
        }
        
        .floating-controls.active {
            opacity: 1;
            transform: translateY(0);
            pointer-events: all;
        }
        
        .control-group {
            margin: 10px 0;
            display: flex;
            align-items: flex-start;
            gap: 10px;
            flex-direction: column;
        }
        
        .control-group label {
            font-family: 'Open Sans', sans-serif;
            color: var(--text-medium);
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .control-group input,
        .control-group select {
            padding: 8px;
            border: 1px solid var(--light-blue);
            border-radius: 4px;
            width: 100%;
            font-family: 'Open Sans', sans-serif;
        }
        
        @media (max-width: 992px) {
            .facts-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .intro {
                flex-direction: column;
            }
            
            .intro-text {
                padding-right: 0;
                margin-bottom: 2rem;
            }
            
            .progress-nav {
                display: none;
            }
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .header h1 {
                font-size: 2.2rem;
            }
            
            .facts-grid {
                grid-template-columns: 1fr;
            }
            
            .section-title h2 {
                font-size: 1.8rem;
            }
            
            .fact-number {
                font-size: 2rem;
            }
            
            .cta-section h2 {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>Water Conservation: Every Drop Counts</h1>
            <p>Discover the importance of water conservation, its impact on our planet, and simple ways you can help.</p>
        </header>
        
        <section class="intro">
            <div class="intro-text">
                <h2>Why Water Conservation Matters</h2>
                <p>Water is our planet's most precious resource, yet it's increasingly under threat from pollution, overuse, and climate change. By adopting water conservation practices, we can protect this vital resource for future generations.</p>
                <p>This infographic explores key facts about water usage, practical conservation tips, and the positive impact your actions can have on the environment.</p>
            </div>
            <div class="intro-image">
                <svg width="400" height="300" viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="200" cy="150" r="120" fill="#bbdefb" />
                    <path d="M200 70 Q 280 150 200 230 Q 120 150 200 70" fill="#2196f3" />
                    <path d="M200 90 Q 260 150 200 210 Q 140 150 200 90" fill="#0d47a1" opacity="0.6" />
                    <circle cx="180" cy="120" r="8" fill="white" opacity="0.6" />
                    <circle cx="160" cy="140" r="5" fill="white" opacity="0.8" />
                </svg>
            </div>
        </section>
        
        <section id="facts" class="section">
            <div class="section-title">
                <h2>Water Facts</h2>
            </div>
            <div class="facts-grid">
                <div class="fact-card">
                    <div class="fact-icon">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12,3C12,3 6,10 6,14C6,17.31 8.69,20 12,20C15.31,20 18,17.31 18,14C18,10 12,3 12,3Z" />
                        </svg>
                    </div>
                    <div class="fact-number">71%</div>
                    <div class="fact-text">of Earth's surface is covered with water, but only <span class="tooltip">2.5%<span class="tooltip-text">Of that 2.5%, almost 70% is frozen in glaciers and ice caps.</span></span> is freshwater</div>
                </div>
                <div class="fact-card">
                    <div class="fact-icon">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M17,5H20L18.5,7L17,5M3,5H6L4.5,7L3,5M12.5,3H14.5L14,5H13L12.5,3M21.5,13.5V13H18.5V15H21.22C21.5,15 21.7,15.2 21.7,15.5C21.7,15.6 21.66,15.7 21.61,15.77L19,19.25V19.5H21.5V21H18V20.75L21.11,16.72C21.36,16.38 21.5,16 21.5,15.5M10,3H12V5H10V3M8,3H9.5L9,5H8V3M5.5,3H7L7.5,5H6.5L5.5,3M2.5,13.5C2.5,16 4.33,18 7,18C9.67,18 11.5,16 11.5,13.5C11.5,11 9,7 7,5C5,7 2.5,11 2.5,13.5M5,13.5A2,2 0 0,1 7,11.5A2,2 0 0,1 9,13.5A2,2 0 0,1 7,15.5A2,2 0 0,1 5,13.5Z" />
                        </svg>
                    </div>
                    <div class="fact-number">80-100</div>
                    <div class="fact-text">gallons of water are used by the average American per day</div>
                </div>
                <div class="fact-card">
                    <div class="fact-icon">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12,20A6,6 0 0,1 6,14C6,10 12,3.25 12,3.25C12,3.25 18,10 18,14A6,6 0 0,1 12,20Z" />
                        </svg>
                    </div>
                    <div class="fact-number">1 in 10</div>
                    <div class="fact-text">people worldwide lack access to clean water</div>
                </div>
                <div class="fact-card">
                    <div class="fact-icon">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M21,18V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V18H21M5,11H19A2,2 0 0,1 21,13V16H3V13A2,2 0 0,1 5,11M16,6V4H18V2H16V1H8V2H6V4H8V6A2,2 0 0,0 10,8H14A2,2 0 0,0 16,6Z" />
                        </svg>
                    </div>
                    <div class="fact-number">2,000</div>
                    <div class="fact-text">gallons of water are needed to produce just 1 pound of beef</div>
                </div>
                <div class="fact-card">
                    <div class="fact-icon">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M6,14A1,1 0 0,1 7,15A1,1 0 0,1 6,16A5,5 0 0,1 1,11A5,5 0 0,1 6,6C7,3.65 9.3,2 12,2C15.43,2 18.24,4.66 18.5,8.03L19,8A4,4 0 0,1 23,12A4,4 0 0,1 19,16H18A1,1 0 0,1 17,15A1,1 0 0,1 18,14H19A2,2 0 0,0 21,12A2,2 0 0,0 19,10H17V9A5,5 0 0,0 12,4C9.5,4 7.45,5.82 7.06,8.19C6.73,8.07 6.37,8 6,8A3,3 0 0,0 3,11A3,3 0 0,0 6,14M10,18A1,1 0 0,1 11,19A1,1 0 0,1 10,20A1,1 0 0,1 9,19A1,1 0 0,1 10,18M14,18A1,1 0 0,1 15,19A1,1 0 0,1 14,20A1,1 0 0,1 13,19A1,1 0 0,1 14,18M12,16A1,1 0 0,1 13,17A1,1 0 0,1 12,18A1,1 0 0,1 11,17A1,1 0 0,1 12,16Z" />
                        </svg>
                    </div>
                    <div class="fact-number">10%</div>
                    <div class="fact-text">reduction in water usage could save billions of gallons annually</div>
                </div>
                <div class="fact-card">
                    <div class="fact-icon">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10,4H14V13L17.5,9.5L19.92,11.92L12,19.84L4.08,11.92L6.5,9.5L10,13V4Z" />
                        </svg>
                    </div>
                    <div class="fact-number">4,000+</div>
                    <div class="fact-text">children die daily due to water-related diseases</div>
                </div>
            </div>
        </section>
        
        <section id="tips" class="section">
            <div class="section-title">
                <h2>Conservation Tips</h2>
            </div>
            <div class="tips-container">
                <div class="tip-card">
                    <div class="tip-icon">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M5,4H19A2,2 0 0,1 21,6V18A2,2 0 0,1 19,20H5A2,2 0 0,1 3,18V6A2,2 0 0,1 5,4M5,8V12H11V8H5M13,8V12H19V8H13M5,14V18H11V14H5M13,14V18H19V14H13Z" />
                        </svg>
                    </div>
                    <div class="tip-content">
                        <h3>Fix Leaky Faucets</h3>
                        <p>A dripping faucet can waste up to 3,000 gallons per year. Check your fixtures regularly and fix leaks promptly.</p>
                    </div>
                </div>
                <div class="tip-card">
                    <div class="tip-icon">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M7,2H17A2,2 0 0,1 19,4V20A2,2 0 0,1 17,22H7A2,2 0 0,1 5,20V4A2,2 0 0,1 7,2M7,4V8H17V4H7M7,10V12H9V10H7M11,10V12H13V10H11M15,10V12H17V10H15M7,14V16H9V14H7M11,14V16H13V14H11M15,14V16H17V14H15M7,18V20H9V18H7M11,18V20H13V18H11M15,18V20H17V18H15Z" />
                        </svg>
                    </div>
                    <div class="tip-content">
                        <h3>Install Water-Efficient Appliances</h3>
                        <p>Look for WaterSense and ENERGY STAR labels when buying new appliances to save thousands of gallons annually.</p>
                    </div>
                </div>
                <div class="tip-card">
                    <div class="tip-icon">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M21,10V12H19V10H21M16.67,10V12H17.67V10H16.67M13.33,10V12H14.33V10H13.33M10,10V12H11V10H10M6.67,10V12H7.67V10H6.67M8,17A2,2 0 0,1 6,15A2,2 0 0,1 8,13A2,2 0 0,1 10,15A2,2 0 0,1 8,17M16,17A2,2 0 0,1 14,15A2,2 0 0,1 16,13A2,2 0 0,1 18,15A2,2 0 0,1 16,17M3.33,10V12H4.33V10H3.33Z" />
                        </svg>
                    </div>
                    <div class="tip-content">
                        <h3>Take Shorter Showers</h3>
                        <p>Cutting your shower time by just 2 minutes can save up to 1,750 gallons of water per person annually.</p>
                    </div>
                </div>
                <div class="tip-card">
                    <div class="tip-icon">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15,12H17A5,5 0 0,0 12,7V9A3,3 0 0,1 15,12M19,12H21C21,7 16.97,3 12,3V5C15.86,5 19,8.13 19,12M20,15.5C18.75,15.5 17.55,15.3 16.43,14.93C16.08,14.82 15.69,14.9 15.41,15.18L13.21,17.38C10.38,15.94 8.06,13.62 6.62,10.79L8.82,8.59C9.1,8.31 9.18,7.92 9.07,7.57C8.7,6.45 8.5,5.25 8.5,4A1,1 0 0,0 7.5,3H4A1,1 0 0,0 3,4A17,17 0 0,0 20,21A1,1 0 0,0 21,20V16.5A1,1 0 0,0 20,15.5Z" />
                        </svg>
                    </div>
                    <div class="tip-content">
                        <h3>Report Water Waste</h3>
                        <p>Contact your local water utility to report broken pipes, open hydrants, or excessive watering in your community.</p>
                    </div>
                </div>
                <div class="tip-card">
                    <div class="tip-icon">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8.5,13.5L11,16.5L14.5,12L19,18H5M21,19V5C21,3.89 20.1,3 19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19Z" />
                        </svg>
                    </div>
                    <div class="tip-content">
                        <h3>Use Native Plants</h3>
                        <p>Landscape with drought-resistant native plants that require less water and maintenance than non-native varieties.</p>
                    </div>
                </div>
                <div class="tip-card">
                    <div class="tip-icon">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M9,7V17H11V13H13A2,2 0 0,0 15,11V9A2,2 0 0,0 13,7H9M11,9H13V11H11V9Z" />
                        </svg>
                    </div>
                    <div class="tip-content">
                        <h3>Park Smart</h3>
                        <p>Wash your car on the lawn to water your grass simultaneously, or use commercial car washes that recycle water.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="impact" class="section">
            <div class="section-title">
                <h2>The Impact of Conservation</h2>
            </div>
            <div class="impact-container">
                <div class="impact-text">
                    <h3>How Your Efforts Add Up</h3>
                    <p>Small changes in your daily water usage can lead to significant conservation over time. The chart below shows the potential water savings from implementing various conservation methods.</p>
                </div>
                <div class="chart-container">
                    <canvas id="waterSavingsChart"></canvas>
                    <div class="floating-controls" id="chartControls">
                        <div class="control-group">
                            <label>Chart Type</label>
                            <select id="chartType">
                                <option value="bar">Bar Chart</option>
                                <option value="line">Line Chart</option>
                                <option value="pie">Pie Chart</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <label>Primary Color</label>
                            <input type="color" id="primaryColor" value="#2196f3">
                        </div>
                        <div class="control-group">
                            <label>Secondary Color</label>
                            <input type="color" id="secondaryColor" value="#4caf50">
                        </div>
                        <div class="control-group">
                            <label>Show Values</label>
                            <select id="showValues">
                                <option value="true">Yes</option>
                                <option value="false">No</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="cta" class="section">
            <div class="cta-section">
                <h2>Take Action Today</h2>
                <p>Water conservation is everyone's responsibility. Start implementing these tips today and encourage others to do the same. Together, we can make a significant difference in preserving our most precious resource.</p>
                <div class="cta-buttons">
                    <button class="btn btn-primary">Download Water Saving Guide</button>
                    <button class="btn btn-secondary">Calculate Your Water Footprint</button>
                </div>
            </div>
        </section>
    </div>
    
    <div class="progress-nav">
        <div class="progress-dot active" data-section="intro"></div>
        <div class="progress-dot" data-section="facts"></div>
        <div class="progress-dot" data-section="tips"></div>
        <div class="progress-dot" data-section="impact"></div>
        <div class="progress-dot" data-section="cta"></div>
    </div>
    
    <script type="module">
        import { Chart } from "https://esm.sh/chart.js/auto";
        
        // Initialize Intersection Observer for scroll animations
        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.1
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    
                    // Update progress nav
                    if (entry.target.id) {
                        updateProgressNav(entry.target.id);
                    }
                }
            });
        }, observerOptions);
        
        // Observe fact cards
        document.querySelectorAll('.fact-card').forEach((card, index) => {
            observer.observe(card);
            // Add staggered animation delay
            card.style.transitionDelay = `${index * 0.1}s`;
        });
        
        // Observe tip cards
        document.querySelectorAll('.tip-card').forEach((card, index) => {
            observer.observe(card);
            // Add staggered animation delay
            card.style.transitionDelay = `${index * 0.1}s`;
        });
        
        // Observe sections for progress nav
        document.querySelectorAll('section').forEach(section => {
            observer.observe(section);
        });
        
        // Progress navigation
        function updateProgressNav(sectionId) {
            document.querySelectorAll('.progress-dot').forEach(dot => {
                dot.classList.remove('active');
                if (dot.dataset.section === sectionId) {
                    dot.classList.add('active');
                }
            });
        }
        
        document.querySelectorAll('.progress-dot').forEach(dot => {
            dot.addEventListener('click', () => {
                const section = document.getElementById(dot.dataset.section);
                if (section) {
                    section.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });
        
        // Initialize water savings chart
        const ctx = document.getElementById('waterSavingsChart').getContext('2d');
        const chartData = {
            labels: ['Fixing Leaks', 'Efficient Appliances', 'Shorter Showers', 'Native Plants', 'Car Washing', 'Toilet Upgrades'],
            datasets: [{
                label: 'Gallons Saved Annually',
                data: [3000, 5000, 1750, 8000, 500, 4000],
                backgroundColor: '#2196f3',
                borderColor: '#0d47a1',
                borderWidth: 1
            }]
        };
        
        const chartConfig = {
            type: 'bar',
            data: chartData,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                onClick: (e) => toggleChartControls(),
                plugins: {
                    legend: {
                        display: true,
                        position: 'top',
                        labels: {
                            font: {
                                family: 'Montserrat',
                                size: 14
                            }
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return `${context.dataset.label}: ${context.formattedValue} gallons`;
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Gallons of Water',
                            font: {
                                family: 'Montserrat',
                                size: 14,
                                weight: 'bold'
                            }
                        },
                        ticks: {
                            font: {
                                family: 'Open Sans',
                                size: 12
                            }
                        }
                    },
                    x: {
                        ticks: {
                            font: {
                                family: 'Open Sans',
                                size: 12
                            }
                        }
                    }
                }
            }
        };
        
        const waterSavingsChart = new Chart(ctx, chartConfig);
        const chartControls = document.getElementById('chartControls');
        
        // Chart control functions
        function toggleChartControls() {
            chartControls.classList.toggle('active');
        }
        
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.floating-controls') && !e.target.closest('canvas')) {
                chartControls.classList.remove('active');
            }
        });
        
        // Update chart based on controls
        document.getElementById('chartType').addEventListener('change', updateChart);
        document.getElementById('primaryColor').addEventListener('change', updateChart);
        document.getElementById('secondaryColor').addEventListener('change', updateChart);
        document.getElementById('showValues').addEventListener('change', updateChart);
        
        function updateChart() {
            const chartType = document.getElementById('chartType').value;
            const primaryColor = document.getElementById('primaryColor').value;
            const secondaryColor = document.getElementById('secondaryColor').value;
            const showValues = document.getElementById('showValues').value === 'true';
            
            waterSavingsChart.config.type = chartType;
            waterSavingsChart.data.datasets[0].backgroundColor = primaryColor;
            waterSavingsChart.data.datasets[0].borderColor = secondaryColor;
            
            // Update datalabels plugin options based on showValues
            if (chartType === 'pie') {
                waterSavingsChart.options.plugins.datalabels = {
                    display: showValues,
                    color: '#fff',
                    font: {
                        weight: 'bold'
                    },
                    formatter: (value) => `${value} gal`
                };
            } else {
                waterSavingsChart.options.plugins.datalabels = {
                    display: false
                };
            }
            
            waterSavingsChart.update();
        }
    </script>
</body>
</html>