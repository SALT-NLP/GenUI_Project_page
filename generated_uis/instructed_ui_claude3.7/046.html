<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CI Workflow Dashboard</title>
    <style>
        :root {
            --primary: #4a6bef;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
            --neutral: #6c757d;
            --light: #f8f9fa;
            --dark: #343a40;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: #f0f2f5;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            background: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        h1 {
            color: var(--dark);
            font-size: 24px;
            font-weight: 600;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background: #3955c8;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(74, 107, 239, 0.2);
        }
        
        .grid {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        @media (max-width: 768px) {
            .grid {
                grid-template-columns: 1fr;
            }
        }
        
        .card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .card-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .pipeline {
            display: flex;
            justify-content: space-between;
            margin: 30px 0;
            position: relative;
        }
        
        .pipeline::before {
            content: "";
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 3px;
            background: #e9ecef;
            z-index: 0;
        }
        
        .stage {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 1;
            width: 100px;
        }
        
        .stage-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
            background: white;
            border: 3px solid var(--neutral);
            color: var(--neutral);
            font-size: 18px;
            transition: all 0.3s;
        }
        
        .stage-name {
            font-size: 14px;
            font-weight: 500;
            text-align: center;
        }
        
        .stage.active .stage-icon {
            border-color: var(--primary);
            color: var(--primary);
            box-shadow: 0 0 0 5px rgba(74, 107, 239, 0.2);
        }
        
        .stage.success .stage-icon {
            border-color: var(--success);
            color: var(--success);
        }
        
        .stage.error .stage-icon {
            border-color: var(--danger);
            color: var(--danger);
        }
        
        .build-history {
            list-style: none;
            margin-top: 20px;
        }
        
        .build-item {
            display: flex;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #e9ecef;
            transition: all 0.2s;
        }
        
        .build-item:hover {
            background: #f8f9fa;
            border-radius: 5px;
            padding-left: 10px;
            cursor: pointer;
        }
        
        .build-status {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 15px;
        }
        
        .build-status.success {
            background: var(--success);
        }
        
        .build-status.running {
            background: var(--warning);
            animation: pulse 1.5s infinite;
        }
        
        .build-status.failed {
            background: var(--danger);
        }
        
        .build-info {
            flex-grow: 1;
        }
        
        .build-id {
            font-weight: 600;
            color: var(--dark);
        }
        
        .build-message {
            font-size: 14px;
            color: var(--neutral);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 300px;
        }
        
        .build-time {
            color: var(--neutral);
            font-size: 14px;
            min-width: 120px;
            text-align: right;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        
        .stat-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            text-align: center;
        }
        
        .stat-value {
            font-size: 28px;
            font-weight: 600;
            margin: 10px 0;
            color: var(--dark);
        }
        
        .stat-label {
            font-size: 14px;
            color: var(--neutral);
        }
        
        .stat-trend {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
            font-size: 14px;
        }
        
        .stat-trend.up {
            color: var(--success);
        }
        
        .stat-trend.down {
            color: var(--danger);
        }
        
        .branch-select {
            padding: 8px 15px;
            border-radius: 5px;
            border: 1px solid #ddd;
            margin-bottom: 20px;
            background: white;
            min-width: 200px;
        }
        
        @keyframes pulse {
            0% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
            100% {
                opacity: 1;
            }
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        
        .modal-content {
            background: white;
            border-radius: 10px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-title {
            font-size: 20px;
            font-weight: 600;
        }
        
        .close-modal {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--neutral);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .form-input {
            width: 100%;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #ddd;
        }
        
        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 20px;
        }
        
        .btn-secondary {
            background: var(--light);
            color: var(--dark);
        }
        
        .btn-secondary:hover {
            background: #e2e6ea;
        }
        
        .progress-container {
            height: 10px;
            background-color: #e9ecef;
            border-radius: 5px;
            margin-top: 5px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background-color: var(--primary);
            width: 0%;
            transition: width 0.5s;
            border-radius: 5px;
        }
        
        .log-container {
            background: #222;
            color: #ddd;
            font-family: monospace;
            padding: 15px;
            border-radius: 5px;
            height: 200px;
            overflow-y: auto;
            margin-top: 20px;
        }
        
        .log-line {
            margin-bottom: 5px;
            font-size: 14px;
            line-height: 1.4;
        }
        
        .log-time {
            color: #888;
            margin-right: 10px;
        }
        
        .log-info {
            color: #4a6bef;
        }
        
        .log-success {
            color: #28a745;
        }
        
        .log-error {
            color: #dc3545;
        }
        
        .log-warning {
            color: #ffc107;
        }
        
        /* Toast notifications */
        .toast-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1001;
        }
        
        .toast {
            background: white;
            border-radius: 5px;
            padding: 15px 20px;
            margin-top: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 10px;
            animation: slideIn 0.3s ease-out forwards;
            max-width: 350px;
        }
        
        .toast.success {
            border-left: 4px solid var(--success);
        }
        
        .toast.error {
            border-left: 4px solid var(--danger);
        }
        
        .toast.info {
            border-left: 4px solid var(--primary);
        }
        
        .toast-message {
            flex-grow: 1;
        }
        
        .close-toast {
            background: none;
            border: none;
            font-size: 18px;
            cursor: pointer;
            color: var(--neutral);
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>CI Workflow Dashboard</h1>
            <button class="btn btn-primary" id="newBuildBtn">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                    <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                </svg>
                New Build
            </button>
        </header>
        
        <div class="grid">
            <div class="card">
                <div class="card-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
                    </svg>
                    Repository
                </div>
                <select class="branch-select" id="branchSelect">
                    <option value="main">main</option>
                    <option value="develop">develop</option>
                    <option value="feature/login">feature/login</option>
                    <option value="feature/dashboard">feature/dashboard</option>
                </select>
                
                <div class="card-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z"/>
                        <path fill-rule="evenodd" d="M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"/>
                    </svg>
                    Latest Build Stats
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value">85%</div>
                        <div class="stat-label">Success Rate</div>
                        <div class="stat-trend up">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M8 12a.5.5 0 0 0 .5-.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 .5.5z"/>
                            </svg>
                            5%
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">94</div>
                        <div class="stat-label">Test Coverage</div>
                        <div class="stat-trend up">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M8 12a.5.5 0 0 0 .5-.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 .5.5z"/>
                            </svg>
                            2%
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">3:42</div>
                        <div class="stat-label">Avg Build Time</div>
                        <div class="stat-trend down">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                                <path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5A.5.5 0 0 1 8 4z"/>
                            </svg>
                            12%
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M12.17 9.53c2.307-2.592 3.278-4.684 3.641-6.218.21-.887.214-1.58.16-2.065a3.578 3.578 0 0 0-.108-.563 2.22 2.22 0 0 0-.078-.23V.453c-.073-.164-.168-.234-.352-.295a2.35 2.35 0 0 0-.16-.045 3.797 3.797 0 0 0-.57-.093c-.49-.044-1.19-.03-2.08.188-1.536.374-3.618 1.343-6.161 3.604l-2.4.238h-.006a2.552 2.552 0 0 0-1.524.734L.15 7.17a.512.512 0 0 0 .433.868l1.896-.271c.28-.04.592.013.955.132.232.076.437.16.655.248l.203.083c.196.816.66 1.58 1.275 2.195.613.614 1.376 1.08 2.191 1.277l.082.202c.089.218.173.424.249.657.118.363.172.676.132.956l-.271 1.9a.512.512 0 0 0 .867.433l2.382-2.386c.41-.41.668-.949.732-1.526l.24-2.408Zm.11-3.699c-.797.8-1.93.961-2.528.362-.598-.6-.436-1.733.361-2.532.798-.799 1.93-.96 2.528-.361.599.599.437 1.732-.36 2.531Z"/>
                        <path d="M5.205 10.787a7.632 7.632 0 0 0 1.804 1.352c-1.118 1.007-4.929 2.028-5.054 1.903-.126-.127.737-4.189 1.839-5.18.346.69.837 1.35 1.411 1.925Z"/>
                    </svg>
                    Current Pipeline
                </div>
                
                <div class="pipeline">
                    <div class="stage success">
                        <div class="stage-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/>
                            </svg>
                        </div>
                        <div class="stage-name">Build</div>
                    </div>
                    <div class="stage success">
                        <div class="stage-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/>
                            </svg>
                        </div>
                        <div class="stage-name">Test</div>
                    </div>
                    <div class="stage active">
                        <div class="stage-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
                                <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"/>
                            </svg>
                        </div>
                        <div class="stage-name">Deploy</div>
                    </div>
                    <div class="stage">
                        <div class="stage-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                            </svg>
                        </div>
                        <div class="stage-name">Verify</div>
                    </div>
                </div>
                
                <div class="card-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"/>
                        <path d="M7 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0zM7 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0z"/>
                    </svg>
                    Build History
                </div>
                
                <ul class="build-history" id="buildHistory">
                    <li class="build-item">
                        <div class="build-status running"></div>
                        <div class="build-info">
                            <div class="build-id">#425</div>
                            <div class="build-message">Deploy: Add new dashboard components</div>
                        </div>
                        <div class="build-time">in progress</div>
                    </li>
                    <li class="build-item">
                        <div class="build-status success"></div>
                        <div class="build-info">
                            <div class="build-id">#424</div>
                            <div class="build-message">Test: Implement unit tests for auth service</div>
                        </div>
                        <div class="build-time">20 min ago</div>
                    </li>
                    <li class="build-item">
                        <div class="build-status success"></div>
                        <div class="build-info">
                            <div class="build-id">#423</div>
                            <div class="build-message">Fix: Update dependencies for security patch</div>
                        </div>
                        <div class="build-time">1 hour ago</div>
                    </li>
                    <li class="build-item">
                        <div class="build-status failed"></div>
                        <div class="build-info">
                            <div class="build-id">#422</div>
                            <div class="build-message">Feature: User authentication redesign</div>
                        </div>
                        <div class="build-time">3 hours ago</div>
                    </li>
                    <li class="build-item">
                        <div class="build-status success"></div>
                        <div class="build-info">
                            <div class="build-id">#421</div>
                            <div class="build-message">Refactor: Clean up API endpoints</div>
                        </div>
                        <div class="build-time">yesterday</div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    
    <!-- New Build Modal -->
    <div class="modal" id="newBuildModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Start New Build</h2>
                <button class="close-modal" id="closeModal">&times;</button>
            </div>
            <div class="form-group">
                <label class="form-label">Branch</label>
                <select class="form-input" id="modalBranchSelect">
                    <option value="main">main</option>
                    <option value="develop">develop</option>
                    <option value="feature/login">feature/login</option>
                    <option value="feature/dashboard">feature/dashboard</option>
                </select>
            </div>
            <div class="form-group">
                <label class="form-label">Commit Message</label>
                <input type="text" class="form-input" id="commitMessage" placeholder="Enter commit message">
            </div>
            <div class="form-group">
                <label class="form-label">Build Configuration</label>
                <select class="form-input" id="buildConfig">
                    <option value="default">Default</option>
                    <option value="production">Production</option>
                    <option value="staging">Staging</option>
                    <option value="development">Development</option>
                </select>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelBuild">Cancel</button>
                <button class="btn btn-primary" id="startBuild">Start Build</button>
            </div>
        </div>
    </div>
    
    <!-- Build Progress Modal -->
    <div class="modal" id="buildProgressModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Build #<span id="buildNumber">426</span> In Progress</h2>
                <button class="close-modal" id="closeBuildProgress">&times;</button>
            </div>
            <div>
                <div class="form-group">
                    <label class="form-label">Build Progress</label>
                    <div class="progress-container">
                        <div class="progress-bar" id="buildProgress"></div>
                    </div>
                </div>
                <div class="log-container" id="buildLogs">
                    <div class="log-line"><span class="log-time">10:22:15</span><span class="log-info">Starting build process...</span></div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelBuildProgress">Cancel Build</button>
            </div>
        </div>
    </div>
    
    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>
    
    <script>
        // Store state in JavaScript variables (not using localStorage)
        const state = {
            currentBuild: 425,
            builds: [
                { id: 425, status: 'running', message: 'Deploy: Add new dashboard components', time: 'in progress', branch: 'feature/dashboard' },
                { id: 424, status: 'success', message: 'Test: Implement unit tests for auth service', time: '20 min ago', branch: 'develop' },
                { id: 423, status: 'success', message: 'Fix: Update dependencies for security patch', time: '1 hour ago', branch: 'main' },
                { id: 422, status: 'failed', message: 'Feature: User authentication redesign', time: '3 hours ago', branch: 'feature/login' },
                { id: 421, status: 'success', message: 'Refactor: Clean up API endpoints', time: 'yesterday', branch: 'main' }
            ],
            activeBuild: null,
            buildLogs: []
        };
        
        // Get DOM elements
        const newBuildBtn = document.getElementById('newBuildBtn');
        const newBuildModal = document.getElementById('newBuildModal');
        const closeModal = document.getElementById('closeModal');
        const cancelBuild = document.getElementById('cancelBuild');
        const startBuild = document.getElementById('startBuild');
        const buildProgressModal = document.getElementById('buildProgressModal');
        const closeBuildProgress = document.getElementById('closeBuildProgress');
        const cancelBuildProgress = document.getElementById('cancelBuildProgress');
        const buildHistory = document.getElementById('buildHistory');
        const branchSelect = document.getElementById('branchSelect');
        const modalBranchSelect = document.getElementById('modalBranchSelect');
        const commitMessage = document.getElementById('commitMessage');
        const buildProgress = document.getElementById('buildProgress');
        const buildLogs = document.getElementById('buildLogs');
        const buildNumberSpan = document.getElementById('buildNumber');
        const toastContainer = document.getElementById('toastContainer');
        
        // Event listeners
        newBuildBtn.addEventListener('click', () => {
            newBuildModal.style.display = 'flex';
            // Sync branch select
            modalBranchSelect.value = branchSelect.value;
        });
        
        closeModal.addEventListener('click', () => {
            newBuildModal.style.display = 'none';
        });
        
        cancelBuild.addEventListener('click', () => {
            newBuildModal.style.display = 'none';
        });
        
        startBuild.addEventListener('click', () => {
            // Hide new build modal
            newBuildModal.style.display = 'none';
            
            // Get values
            const branch = modalBranchSelect.value;
            const message = commitMessage.value || 'No commit message';
            
            // Create new build
            const newBuild = {
                id: state.currentBuild + 1,
                status: 'running',
                message: message,
                time: 'just now',
                branch: branch
            };
            
            // Update state
            state.builds.unshift(newBuild);
            state.currentBuild++;
            state.activeBuild = newBuild.id;
            
            // Update UI
            updateBuildHistory();
            
            // Show progress modal
            buildNumberSpan.textContent = newBuild.id;
            buildProgressModal.style.display = 'flex';
            buildProgress.style.width = '0%';
            
            // Clear logs
            buildLogs.innerHTML = '';
            state.buildLogs = [];
            
            // Add initial log
            addBuildLog('Starting build process...', 'info');
            
            // Simulate build progress
            simulateBuild();
            
            // Show toast
            showToast(`Build #${newBuild.id} started`, 'info');
        });
        
        closeBuildProgress.addEventListener('click', () => {
            buildProgressModal.style.display = 'none';
        });
        
        cancelBuildProgress.addEventListener('click', () => {
            if (state.activeBuild) {
                // Find active build
                const build = state.builds.find(b => b.id === state.activeBuild);
                if (build) {
                    build.status = 'failed';
                    build.time = 'cancelled';
                    updateBuildHistory();
                }
                
                // Add log
                addBuildLog('Build cancelled by user', 'error');
                
                // Show toast
                showToast(`Build #${state.activeBuild} cancelled`, 'error');
                
                // Reset active build
                state.activeBuild = null;
                
                // Close modal after a short delay
                setTimeout(() => {
                    buildProgressModal.style.display = 'none';
                }, 1500);
            }
        });
        
        branchSelect.addEventListener('change', () => {
            // Filter builds by branch
            updateBuildHistory();
        });
        
        // Update build history
        function updateBuildHistory() {
            const selectedBranch = branchSelect.value;
            
            // Filter builds if a specific branch is selected
            const filteredBuilds = selectedBranch === 'all' 
                ? state.builds 
                : state.builds.filter(build => build.branch === selectedBranch);
            
            // Clear history
            buildHistory.innerHTML = '';
            
            // Add builds
            filteredBuilds.forEach(build => {
                const li = document.createElement('li');
                li.className = 'build-item';
                li.dataset.id = build.id;
                li.addEventListener('click', () => {
                    showBuildDetails(build.id);
                });
                
                li.innerHTML = `
                    <div class="build-status ${build.status}"></div>
                    <div class="build-info">
                        <div class="build-id">#${build.id}</div>
                        <div class="build-message">${build.message}</div>
                    </div>
                    <div class="build-time">${build.time}</div>
                `;
                
                buildHistory.appendChild(li);
            });
        }
        
        // Show build details
        function showBuildDetails(buildId) {
            const build = state.builds.find(b => b.id === buildId);
            if (!build) return;
            
            // If build is running, show progress modal
            if (build.status === 'running') {
                buildNumberSpan.textContent = build.id;
                buildProgressModal.style.display = 'flex';
                return;
            }
            
            // Show toast with build info
            showToast(`Build #${build.id}: ${build.status}`, build.status === 'success' ? 'success' : 'error');
        }
        
        // Add build log
        function addBuildLog(message, type = 'info') {
            const now = new Date();
            const time = now.toTimeString().split(' ')[0];
            
            const log = {
                time,
                message,
                type
            };
            
            state.buildLogs.push(log);
            
            const logLine = document.createElement('div');
            logLine.className = 'log-line';
            logLine.innerHTML = `<span class="log-time">${time}</span><span class="log-${type}">${message}</span>`;
            
            buildLogs.appendChild(logLine);
            buildLogs.scrollTop = buildLogs.scrollHeight;
        }
        
        // Simulate build progress
        function simulateBuild() {
            let progress = 0;
            const stages = ['Cloning repository', 'Installing dependencies', 'Compiling code', 'Running tests', 'Building assets', 'Deploying'];
            let currentStage = 0;
            
            // Add first stage log
            addBuildLog(`Stage ${currentStage + 1}/${stages.length}: ${stages[currentStage]}`, 'info');
            
            const interval = setInterval(() => {
                progress += Math.random() * 5;
                
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(interval);
                    
                    // Complete build
                    if (state.activeBuild) {
                        const build = state.builds.find(b => b.id === state.activeBuild);
                        if (build) {
                            // 80% chance of success
                            const success = Math.random() < 0.8;
                            build.status = success ? 'success' : 'failed';
                            build.time = 'just now';
                            
                            // Add log
                            addBuildLog(`Build ${success ? 'completed successfully' : 'failed'}`, success ? 'success' : 'error');
                            
                            // Show toast
                            showToast(`Build #${build.id} ${success ? 'completed' : 'failed'}`, success ? 'success' : 'error');
                            
                            // Update UI
                            updateBuildHistory();
                            
                            // Close modal after a delay
                            setTimeout(() => {
                                buildProgressModal.style.display = 'none';
                            }, 3000);
                        }
                        
                        // Reset active build
                        state.activeBuild = null;
                    }
                } else if (progress > (currentStage + 1) * (100 / stages.length)) {
                    currentStage++;
                    if (currentStage < stages.length) {
                        // Add stage log
                        addBuildLog(`Stage ${currentStage + 1}/${stages.length}: ${stages[currentStage]}`, 'info');
                        
                        // Add random logs
                        if (Math.random() < 0.5) {
                            setTimeout(() => {
                                addBuildLog('Processing files...', 'info');
                            }, Math.random() * 1000);
                        }
                        
                        if (stages[currentStage] === 'Running tests') {
                            setTimeout(() => {
                                if (Math.random() < 0.2) {
                                    addBuildLog('Warning: Test coverage below threshold', 'warning');
                                } else {
                                    addBuildLog('All tests passed', 'success');
                                }
                            }, Math.random() * 2000 + 500);
                        }
                    }
                }
                
                // Update progress bar
                buildProgress.style.width = `${progress}%`;
            }, 300);
        }
        
        // Show toast notification
        function showToast(message, type = 'info') {
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.innerHTML = `
                <div class="toast-message">${message}</div>
                <button class="close-toast">&times;</button>
            `;
            
            // Add to container
            toastContainer.appendChild(toast);
            
            // Add event listener to close button
            const closeBtn = toast.querySelector('.close-toast');
            closeBtn.addEventListener('click', () => {
                toast.style.animation = 'slideOut 0.3s forwards';
                setTimeout(() => {
                    toast.remove();
                }, 300);
            });
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                if (toast.parentNode) {
                    toast.style.animation = 'slideOut 0.3s forwards';
                    setTimeout(() => {
                        if (toast.parentNode) {
                            toast.remove();
                        }
                    }, 300);
                }
            }, 5000);
        }
        
        // Initialize
        updateBuildHistory();
        
        // Simulate a running build after page load
        setTimeout(() => {
            const runningBuild = state.builds.find(b => b.status === 'running');
            if (runningBuild) {
                state.activeBuild = runningBuild.id;
                simulateBuild();
            }
        }, 1000);
    </script>
</body>
</html>
